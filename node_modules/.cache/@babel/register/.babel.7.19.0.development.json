{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"filename\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _config = _interopRequireDefault(require(\"./config\"));\n\nvar _userRouter = _interopRequireDefault(require(\"./routers/userRouter\"));\n\nvar _orderRouter = _interopRequireDefault(require(\"./routers/orderRouter\"));\n\nvar _productRouter = _interopRequireDefault(require(\"./routers/productRouter\"));\n\nvar _uploadRouter = _interopRequireDefault(require(\"./routers/uploadRouter\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst PORT = process.env.PORT || 5000; // mongoose\n//   .connect(config.MONGODB_URL)\n//     .then(()=>{ \n//         console.log('connected to mongoDB!');\n//     })\n// .catch((error) =>{\n//     // console.log(error.reason);\n// })\n\n_mongoose.default.set('strictQuery', false);\n\nconst connectDB = async () => {\n  try {\n    const conn = await _mongoose.default.connect(process.env.MONGODB_URL);\n    console.log(`MongoDB Connected!: ${conn.connection.host}`);\n  } catch (error) {\n    console.log(error);\n    process.exit(1);\n  }\n};\n\nconst app = (0, _express.default)();\napp.use((0, _cors.default)());\napp.use('/api/uploads', _uploadRouter.default);\napp.use(_bodyParser.default.json());\napp.use('/api/users', _userRouter.default);\napp.use('/api/products', _productRouter.default);\napp.use('/api/orders', _orderRouter.default);\napp.get('/api/paypal/clientId', (req, res) => {\n  res.send({\n    clientId: _config.default.PAYPAL_CLIENT_ID\n  });\n});\napp.use('/uploads', _express.default.static(_path.default.join(__dirname, '/../uploads')));\napp.use(_express.default.static(_path.default.join(__dirname, '/../frontend')));\napp.get('*', (req, res) => {\n  res.sendFile(_path.default.join(__dirname, '/../frontend/index.html'));\n});\napp.use((err, req, res, next) => {\n  const status = err.name && err.name === 'validationError' ? 400 : 500;\n  res.status(status).send({\n    message: err.message\n  });\n}); // app.listen(5000, () => {\n//     console.log('Server at http://localhost:5000');\n// });\n\nconnectDB().then(() => {\n  app.listen(PORT, () => {\n    console.log(`Listening on port ${PORT}`);\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQT1JUIiwicHJvY2VzcyIsImVudiIsIm1vbmdvb3NlIiwic2V0IiwiY29ubmVjdERCIiwiY29ubiIsImNvbm5lY3QiLCJNT05HT0RCX1VSTCIsImNvbnNvbGUiLCJsb2ciLCJjb25uZWN0aW9uIiwiaG9zdCIsImVycm9yIiwiZXhpdCIsImFwcCIsImV4cHJlc3MiLCJ1c2UiLCJjb3JzIiwidXBsb2FkUm91dGVyIiwiYm9keVBhcnNlciIsImpzb24iLCJ1c2VyUm91dGVyIiwicHJvZHVjdFJvdXRlciIsIm9yZGVyUm91dGVyIiwiZ2V0IiwicmVxIiwicmVzIiwic2VuZCIsImNsaWVudElkIiwiY29uZmlnIiwiUEFZUEFMX0NMSUVOVF9JRCIsInN0YXRpYyIsInBhdGgiLCJqb2luIiwiX19kaXJuYW1lIiwic2VuZEZpbGUiLCJlcnIiLCJuZXh0Iiwic3RhdHVzIiwibmFtZSIsIm1lc3NhZ2UiLCJ0aGVuIiwibGlzdGVuIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFJJU0NPSCBGVU5EWlxcRGVza3RvcFxcanNhbWF6b25hXFxiYWNrZW5kXFwiLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGNvcnMgZnJvbSAnY29ycyc7XG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgY29uZmlnIGZyb20gJy4vY29uZmlnJztcbmltcG9ydCB1c2VyUm91dGVyIGZyb20gJy4vcm91dGVycy91c2VyUm91dGVyJztcbmltcG9ydCBvcmRlclJvdXRlciBmcm9tICcuL3JvdXRlcnMvb3JkZXJSb3V0ZXInO1xuaW1wb3J0IHByb2R1Y3RSb3V0ZXIgZnJvbSAnLi9yb3V0ZXJzL3Byb2R1Y3RSb3V0ZXInO1xuaW1wb3J0IHVwbG9hZFJvdXRlciBmcm9tICcuL3JvdXRlcnMvdXBsb2FkUm91dGVyJztcblxuY29uc3QgUE9SVCA9IHByb2Nlc3MuZW52LlBPUlQgfHwgNTAwMDtcblxuXG4vLyBtb25nb29zZVxuLy8gICAuY29ubmVjdChjb25maWcuTU9OR09EQl9VUkwpXG4vLyAgICAgLnRoZW4oKCk9PnsgXG4vLyAgICAgICAgIGNvbnNvbGUubG9nKCdjb25uZWN0ZWQgdG8gbW9uZ29EQiEnKTtcbi8vICAgICB9KVxuIFxuXG4vLyAuY2F0Y2goKGVycm9yKSA9Pntcbi8vICAgICAvLyBjb25zb2xlLmxvZyhlcnJvci5yZWFzb24pO1xuLy8gfSlcblxubW9uZ29vc2Uuc2V0KCdzdHJpY3RRdWVyeScsIGZhbHNlKTtcbmNvbnN0IGNvbm5lY3REQiAgPSAgYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uID0gYXdhaXQgbW9uZ29vc2UuY29ubmVjdChwcm9jZXNzLmVudi5NT05HT0RCX1VSTCk7XG4gICAgICBjb25zb2xlLmxvZyhgTW9uZ29EQiBDb25uZWN0ZWQhOiAke2Nvbm4uY29ubmVjdGlvbi5ob3N0fWApO1xuICAgIH0gY2F0Y2ggKGVycm9yKXtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICBwcm9jZXNzLmV4aXQoMSk7XG5cbiAgICB9XG59XG5cblxuY29uc3QgYXBwID0gZXhwcmVzcygpOyBcbmFwcC51c2UoY29ycygpKTtcbmFwcC51c2UoJy9hcGkvdXBsb2FkcycsIHVwbG9hZFJvdXRlcilcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xuYXBwLnVzZSgnL2FwaS91c2VycycsIHVzZXJSb3V0ZXIgKTtcbmFwcC51c2UoJy9hcGkvcHJvZHVjdHMnLHByb2R1Y3RSb3V0ZXIpXG5hcHAudXNlKCcvYXBpL29yZGVycycsIG9yZGVyUm91dGVyKTtcbmFwcC5nZXQoJy9hcGkvcGF5cGFsL2NsaWVudElkJywgKHJlcSwgcmVzKT0+e1xuICAgIHJlcy5zZW5kKHtjbGllbnRJZDogY29uZmlnLlBBWVBBTF9DTElFTlRfSUR9KTtcbn0pO1xuXG5hcHAudXNlKCcvdXBsb2FkcycsIGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsICcvLi4vdXBsb2FkcycpKSkgICAgICBcbmFwcC51c2UoZXhwcmVzcy5zdGF0aWMocGF0aC5qb2luKF9fZGlybmFtZSwgJy8uLi9mcm9udGVuZCcpKSkgICAgICBcbmFwcC5nZXQoJyonLCAocmVxLCByZXMpID0+IHtcbiAgICByZXMuc2VuZEZpbGUocGF0aC5qb2luKF9fZGlybmFtZSwgJy8uLi9mcm9udGVuZC9pbmRleC5odG1sJykpXG59KSAgICAgIFxuYXBwLnVzZSgoZXJyLCByZXEsIHJlcyxuZXh0KSA9PntcbiAgICBjb25zdCBzdGF0dXMgPSBlcnIubmFtZSAmJiBlcnIubmFtZSA9PT0ndmFsaWRhdGlvbkVycm9yJyA/IDQwMCA6IDUwMDtcbiAgICByZXMuc3RhdHVzKHN0YXR1cykuc2VuZCh7bWVzc2FnZTogZXJyLm1lc3NhZ2UgfSk7XG59KTtcblxuLy8gYXBwLmxpc3Rlbig1MDAwLCAoKSA9PiB7XG4vLyAgICAgY29uc29sZS5sb2coJ1NlcnZlciBhdCBodHRwOi8vbG9jYWxob3N0OjUwMDAnKTtcbi8vIH0pO1xuICAgIFxuXG5jb25uZWN0REIoKS50aGVuKCgpID0+IHtcbiAgICBhcHAubGlzdGVuKFBPUlQsICgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coYExpc3RlbmluZyBvbiBwb3J0ICR7UE9SVH1gKTtcbiAgICB9KSAgIFxufSk7XG4iXSwibWFwcGluZ3MiOiI7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxJQUFJLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixJQUFaLElBQW9CLElBQWpDLEMsQ0FHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBOztBQUVBRyxpQkFBQSxDQUFTQyxHQUFULENBQWEsYUFBYixF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","map":{"version":3,"names":["PORT","process","env","mongoose","set","connectDB","conn","connect","MONGODB_URL","console","log","connection","host","error","exit","app","express","use","cors","uploadRouter","bodyParser","json","userRouter","productRouter","orderRouter","get","req","res","send","clientId","config","PAYPAL_CLIENT_ID","static","path","join","__dirname","sendFile","err","next","status","name","message","then","listen"],"sourceRoot":"C:\\Users\\RISCOH FUNDZ\\Desktop\\jsamazona\\backend\\","sources":["server.js"],"sourcesContent":["\nimport express from 'express';\nimport cors from 'cors';\nimport mongoose from 'mongoose';\nimport bodyParser from 'body-parser';\nimport path from 'path';\nimport config from './config';\nimport userRouter from './routers/userRouter';\nimport orderRouter from './routers/orderRouter';\nimport productRouter from './routers/productRouter';\nimport uploadRouter from './routers/uploadRouter';\n\nconst PORT = process.env.PORT || 5000;\n\n\n// mongoose\n//   .connect(config.MONGODB_URL)\n//     .then(()=>{ \n//         console.log('connected to mongoDB!');\n//     })\n \n\n// .catch((error) =>{\n//     // console.log(error.reason);\n// })\n\nmongoose.set('strictQuery', false);\nconst connectDB  =  async () => {\n    try {\n      const conn = await mongoose.connect(process.env.MONGODB_URL);\n      console.log(`MongoDB Connected!: ${conn.connection.host}`);\n    } catch (error){\n        console.log(error);\n        process.exit(1);\n\n    }\n}\n\n\nconst app = express(); \napp.use(cors());\napp.use('/api/uploads', uploadRouter)\napp.use(bodyParser.json());\napp.use('/api/users', userRouter );\napp.use('/api/products',productRouter)\napp.use('/api/orders', orderRouter);\napp.get('/api/paypal/clientId', (req, res)=>{\n    res.send({clientId: config.PAYPAL_CLIENT_ID});\n});\n\napp.use('/uploads', express.static(path.join(__dirname, '/../uploads')))      \napp.use(express.static(path.join(__dirname, '/../frontend')))      \napp.get('*', (req, res) => {\n    res.sendFile(path.join(__dirname, '/../frontend/index.html'))\n})      \napp.use((err, req, res,next) =>{\n    const status = err.name && err.name ==='validationError' ? 400 : 500;\n    res.status(status).send({message: err.message });\n});\n\n// app.listen(5000, () => {\n//     console.log('Server at http://localhost:5000');\n// });\n    \n\nconnectDB().then(() => {\n    app.listen(PORT, () => {\n        console.log(`Listening on port ${PORT}`);\n    })   \n});\n"],"mappings":";;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYF,IAAZ,IAAoB,IAAjC,C,CAGA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;;AAEAG,iBAAA,CAASC,GAAT,CAAa,aAAb,EAA4B,KAA5B;;AACA,MAAMC,SAAS,GAAK,YAAY;EAC5B,IAAI;IACF,MAAMC,IAAI,GAAG,MAAMH,iBAAA,CAASI,OAAT,CAAiBN,OAAO,CAACC,GAAR,CAAYM,WAA7B,CAAnB;IACAC,OAAO,CAACC,GAAR,CAAa,uBAAsBJ,IAAI,CAACK,UAAL,CAAgBC,IAAK,EAAxD;EACD,CAHD,CAGE,OAAOC,KAAP,EAAa;IACXJ,OAAO,CAACC,GAAR,CAAYG,KAAZ;IACAZ,OAAO,CAACa,IAAR,CAAa,CAAb;EAEH;AACJ,CATD;;AAYA,MAAMC,GAAG,GAAG,IAAAC,gBAAA,GAAZ;AACAD,GAAG,CAACE,GAAJ,CAAQ,IAAAC,aAAA,GAAR;AACAH,GAAG,CAACE,GAAJ,CAAQ,cAAR,EAAwBE,qBAAxB;AACAJ,GAAG,CAACE,GAAJ,CAAQG,mBAAA,CAAWC,IAAX,EAAR;AACAN,GAAG,CAACE,GAAJ,CAAQ,YAAR,EAAsBK,mBAAtB;AACAP,GAAG,CAACE,GAAJ,CAAQ,eAAR,EAAwBM,sBAAxB;AACAR,GAAG,CAACE,GAAJ,CAAQ,aAAR,EAAuBO,oBAAvB;AACAT,GAAG,CAACU,GAAJ,CAAQ,sBAAR,EAAgC,CAACC,GAAD,EAAMC,GAAN,KAAY;EACxCA,GAAG,CAACC,IAAJ,CAAS;IAACC,QAAQ,EAAEC,eAAA,CAAOC;EAAlB,CAAT;AACH,CAFD;AAIAhB,GAAG,CAACE,GAAJ,CAAQ,UAAR,EAAoBD,gBAAA,CAAQgB,MAAR,CAAeC,aAAA,CAAKC,IAAL,CAAUC,SAAV,EAAqB,aAArB,CAAf,CAApB;AACApB,GAAG,CAACE,GAAJ,CAAQD,gBAAA,CAAQgB,MAAR,CAAeC,aAAA,CAAKC,IAAL,CAAUC,SAAV,EAAqB,cAArB,CAAf,CAAR;AACApB,GAAG,CAACU,GAAJ,CAAQ,GAAR,EAAa,CAACC,GAAD,EAAMC,GAAN,KAAc;EACvBA,GAAG,CAACS,QAAJ,CAAaH,aAAA,CAAKC,IAAL,CAAUC,SAAV,EAAqB,yBAArB,CAAb;AACH,CAFD;AAGApB,GAAG,CAACE,GAAJ,CAAQ,CAACoB,GAAD,EAAMX,GAAN,EAAWC,GAAX,EAAeW,IAAf,KAAuB;EAC3B,MAAMC,MAAM,GAAGF,GAAG,CAACG,IAAJ,IAAYH,GAAG,CAACG,IAAJ,KAAY,iBAAxB,GAA4C,GAA5C,GAAkD,GAAjE;EACAb,GAAG,CAACY,MAAJ,CAAWA,MAAX,EAAmBX,IAAnB,CAAwB;IAACa,OAAO,EAAEJ,GAAG,CAACI;EAAd,CAAxB;AACH,CAHD,E,CAKA;AACA;AACA;;AAGApC,SAAS,GAAGqC,IAAZ,CAAiB,MAAM;EACnB3B,GAAG,CAAC4B,MAAJ,CAAW3C,IAAX,EAAiB,MAAM;IACnBS,OAAO,CAACC,GAAR,CAAa,qBAAoBV,IAAK,EAAtC;EACH,CAFD;AAGH,CAJD"}},"mtime":1678552371890},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"filename\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\data.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  products: [{\n    _id: '111111111111111111111111',\n    name: 'Hiskywin Full Zip Running Shirts Thermal Workout',\n    category: 'Shirts',\n    image: '/images/product-1.jpg',\n    price: '40',\n    brand: 'Hiskywin',\n    rating: '4.5',\n    numReviews: '10',\n    countInStock: '6'\n  }, {\n    _id: '222222222222222222222222',\n    name: 'Nike Full-Zip Hoodie Mens Workout Sweatshirt',\n    category: 'Shirts',\n    image: '/images/product-2.jpg',\n    price: '55',\n    brand: 'Nike',\n    rating: '5',\n    numReviews: '51',\n    countInStock: '5'\n  }, {\n    _id: '3',\n    name: 'Adidas Mens Long Sleeve Hoodie',\n    category: 'Shirts',\n    image: '/images/product-3.jpg',\n    price: '59',\n    brand: 'Adidas',\n    rating: '7.6',\n    numReviews: '10',\n    countInStock: '4'\n  }, {\n    _id: '4',\n    name: 'Under Armour Mens Sportstyle Tricot Joggers',\n    category: 'Shirts',\n    image: '/images/product-4.jpg',\n    price: '75',\n    brand: 'Joggers',\n    rating: '4.5',\n    numReviews: '10',\n    countInStock: '3'\n  }, {\n    _id: '5',\n    name: 'Champion Mens Graphic Powerblend Fleece Jogger Pants',\n    category: 'Shirts',\n    image: '/images/product-5.jpg',\n    price: '60',\n    brand: 'jersey',\n    rating: '8.0',\n    numReviews: '10'\n  }, {\n    _id: '6',\n    name: 'Lacoste Mens Joggers Pants Long Multi-Pockets',\n    category: 'Trouser',\n    image: '/images/product-6.jpg',\n    price: '85',\n    brand: 'cadigan ',\n    rating: '9',\n    numReviews: '10',\n    countInStock: '6'\n  }]\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9kdWN0cyIsIl9pZCIsIm5hbWUiLCJjYXRlZ29yeSIsImltYWdlIiwicHJpY2UiLCJicmFuZCIsInJhdGluZyIsIm51bVJldmlld3MiLCJjb3VudEluU3RvY2siXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcUklTQ09IIEZVTkRaXFxEZXNrdG9wXFxqc2FtYXpvbmFcXGJhY2tlbmRcXCIsInNvdXJjZXMiOlsiZGF0YS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCAge1xyXG4gICAgcHJvZHVjdHM6IFtcclxuICAgICAgICB7IFxyXG4gICAgICAgICAgICBfaWQ6ICcxMTExMTExMTExMTExMTExMTExMTExMTEnLFxyXG4gICAgICAgIG5hbWU6ICdIaXNreXdpbiBGdWxsIFppcCBSdW5uaW5nIFNoaXJ0cyBUaGVybWFsIFdvcmtvdXQnLFxyXG4gICAgICAgIGNhdGVnb3J5OiAnU2hpcnRzJyxcclxuICAgICAgICBpbWFnZTogJy9pbWFnZXMvcHJvZHVjdC0xLmpwZycsXHJcbiAgICAgICAgcHJpY2U6ICc0MCcsXHJcbiAgICAgICAgYnJhbmQ6ICdIaXNreXdpbicsXHJcbiAgICAgICAgcmF0aW5nOiAnNC41JyxcclxuICAgICAgICBudW1SZXZpZXdzOiAnMTAnLFxyXG4gICAgICAgIGNvdW50SW5TdG9jazogJzYnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXHJcbiAgICAgICAgeyBcclxuICAgICAgICAgICAgX2lkOiAnMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyJyxcclxuICAgICAgICBuYW1lOiAnTmlrZSBGdWxsLVppcCBIb29kaWUgTWVucyBXb3Jrb3V0IFN3ZWF0c2hpcnQnLFxyXG4gICAgICAgIGNhdGVnb3J5OiAnU2hpcnRzJyxcclxuICAgICAgICBpbWFnZTogJy9pbWFnZXMvcHJvZHVjdC0yLmpwZycsXHJcbiAgICAgICAgcHJpY2U6ICc1NScsXHJcbiAgICAgICAgYnJhbmQ6ICdOaWtlJyxcclxuICAgICAgICByYXRpbmc6ICc1JyxcclxuICAgICAgICBudW1SZXZpZXdzOiAnNTEnLFxyXG4gICAgICAgIGNvdW50SW5TdG9jazogJzUnLFxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHsgXHJcbiAgICAgICAgICAgIF9pZDogJzMnLFxyXG4gICAgICAgIG5hbWU6ICdBZGlkYXMgTWVucyBMb25nIFNsZWV2ZSBIb29kaWUnLFxyXG4gICAgICAgIGNhdGVnb3J5OiAnU2hpcnRzJyxcclxuICAgICAgICBpbWFnZTogJy9pbWFnZXMvcHJvZHVjdC0zLmpwZycsXHJcbiAgICAgICAgcHJpY2U6ICc1OScsXHJcbiAgICAgICAgYnJhbmQ6ICdBZGlkYXMnLFxyXG4gICAgICAgIHJhdGluZzogJzcuNicsXHJcbiAgICAgICAgbnVtUmV2aWV3czogJzEwJyxcclxuICAgICAgICBjb3VudEluU3RvY2s6ICc0JyxcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICB7IFxyXG4gICAgICAgICAgICBfaWQ6ICc0JyxcclxuICAgICAgICBuYW1lOiAnVW5kZXIgQXJtb3VyIE1lbnMgU3BvcnRzdHlsZSBUcmljb3QgSm9nZ2VycycsXHJcbiAgICAgICAgY2F0ZWdvcnk6ICdTaGlydHMnLFxyXG4gICAgICAgIGltYWdlOiAnL2ltYWdlcy9wcm9kdWN0LTQuanBnJyxcclxuICAgICAgICBwcmljZTogJzc1JyxcclxuICAgICAgICBicmFuZDogJ0pvZ2dlcnMnLFxyXG4gICAgICAgIHJhdGluZzogJzQuNScsXHJcbiAgICAgICAgbnVtUmV2aWV3czogJzEwJyxcclxuICAgICAgICBjb3VudEluU3RvY2s6ICczJyxcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICB7IFxyXG4gICAgICAgICAgICBfaWQ6ICc1JyxcclxuICAgICAgICBuYW1lOiAnQ2hhbXBpb24gTWVucyBHcmFwaGljIFBvd2VyYmxlbmQgRmxlZWNlIEpvZ2dlciBQYW50cycsXHJcbiAgICAgICAgY2F0ZWdvcnk6ICdTaGlydHMnLFxyXG4gICAgICAgIGltYWdlOiAnL2ltYWdlcy9wcm9kdWN0LTUuanBnJyxcclxuICAgICAgICBwcmljZTogJzYwJyxcclxuICAgICAgICBicmFuZDogJ2plcnNleScsXHJcbiAgICAgICAgcmF0aW5nOiAnOC4wJyxcclxuICAgICAgICBudW1SZXZpZXdzOiAnMTAnLFxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHsgXHJcbiAgICAgICAgICAgIF9pZDogJzYnLFxyXG4gICAgICAgIG5hbWU6ICdMYWNvc3RlIE1lbnMgSm9nZ2VycyBQYW50cyBMb25nIE11bHRpLVBvY2tldHMnLFxyXG4gICAgICAgIGNhdGVnb3J5OiAnVHJvdXNlcicsXHJcbiAgICAgICAgaW1hZ2U6ICcvaW1hZ2VzL3Byb2R1Y3QtNi5qcGcnLFxyXG4gICAgICAgIHByaWNlOiAnODUnLFxyXG4gICAgICAgIGJyYW5kOiAnY2FkaWdhbiAnLFxyXG4gICAgICAgIHJhdGluZzogJzknLFxyXG4gICAgICAgIG51bVJldmlld3M6ICcxMCcsXHJcbiAgICAgICAgY291bnRJblN0b2NrOiAnNicsXHJcbiAgICAgICAgfSxcclxuXSxcclxuXHJcbn07Il0sIm1hcHBpbmdzIjoiOzs7Ozs7ZUFBZ0I7RUFDWkEsUUFBUSxFQUFFLENBQ047SUFDSUMsR0FBRyxFQUFFLDBCQURUO0lBRUFDLElBQUksRUFBRSxrREFGTjtJQUdBQyxRQUFRLEVBQUUsUUFIVjtJQUlBQyxLQUFLLEVBQUUsdUJBSlA7SUFLQUMsS0FBSyxFQUFFLElBTFA7SUFNQUMsS0FBSyxFQUFFLFVBTlA7SUFPQUMsTUFBTSxFQUFFLEtBUFI7SUFRQUMsVUFBVSxFQUFFLElBUlo7SUFTQUMsWUFBWSxFQUFFO0VBVGQsQ0FETSxFQWFOO0lBQ0lSLEdBQUcsRUFBRSwwQkFEVDtJQUVBQyxJQUFJLEVBQUUsOENBRk47SUFHQUMsUUFBUSxFQUFFLFFBSFY7SUFJQUMsS0FBSyxFQUFFLHVCQUpQO0lBS0FDLEtBQUssRUFBRSxJQUxQO0lBTUFDLEtBQUssRUFBRSxNQU5QO0lBT0FDLE1BQU0sRUFBRSxHQVBSO0lBUUFDLFVBQVUsRUFBRSxJQVJaO0lBU0FDLFlBQVksRUFBRTtFQVRkLENBYk0sRUF5Qk47SUFDSVIsR0FBRyxFQUFFLEdBRFQ7SUFFQUMsSUFBSSxFQUFFLGdDQUZOO0lBR0FDLFFBQVEsRUFBRSxRQUhWO0lBSUFDLEtBQUssRUFBRSx1QkFKUDtJQUtBQyxLQUFLLEVBQUUsSUFMUDtJQU1BQyxLQUFLLEVBQUUsUUFOUDtJQU9BQyxNQUFNLEVBQUUsS0FQUjtJQVFBQyxVQUFVLEVBQUUsSUFSWjtJQVNBQyxZQUFZLEVBQUU7RUFUZCxDQXpCTSxFQXFDTjtJQUNJUixHQUFHLEVBQUUsR0FEVDtJQUVBQyxJQUFJLEVBQUUsNkNBRk47SUFHQUMsUUFBUSxFQUFFLFFBSFY7SUFJQUMsS0FBSyxFQUFFLHVCQUpQO0lBS0FDLEtBQUssRUFBRSxJQUxQO0lBTUFDLEtBQUssRUFBRSxTQU5QO0lBT0FDLE1BQU0sRUFBRSxLQVBSO0lBUUFDLFVBQVUsRUFBRSxJQVJaO0lBU0FDLFlBQVksRUFBRTtFQVRkLENBckNNLEVBaUROO0lBQ0lSLEdBQUcsRUFBRSxHQURUO0lBRUFDLElBQUksRUFBRSxzREFGTjtJQUdBQyxRQUFRLEVBQUUsUUFIVjtJQUlBQyxLQUFLLEVBQUUsdUJBSlA7SUFLQUMsS0FBSyxFQUFFLElBTFA7SUFNQUMsS0FBSyxFQUFFLFFBTlA7SUFPQUMsTUFBTSxFQUFFLEtBUFI7SUFRQUMsVUFBVSxFQUFFO0VBUlosQ0FqRE0sRUE0RE47SUFDSVAsR0FBRyxFQUFFLEdBRFQ7SUFFQUMsSUFBSSxFQUFFLCtDQUZOO0lBR0FDLFFBQVEsRUFBRSxTQUhWO0lBSUFDLEtBQUssRUFBRSx1QkFKUDtJQUtBQyxLQUFLLEVBQUUsSUFMUDtJQU1BQyxLQUFLLEVBQUUsVUFOUDtJQU9BQyxNQUFNLEVBQUUsR0FQUjtJQVFBQyxVQUFVLEVBQUUsSUFSWjtJQVNBQyxZQUFZLEVBQUU7RUFUZCxDQTVETTtBQURFLEMifQ==","map":{"version":3,"names":["products","_id","name","category","image","price","brand","rating","numReviews","countInStock"],"sourceRoot":"C:\\Users\\RISCOH FUNDZ\\Desktop\\jsamazona\\backend\\","sources":["data.js"],"sourcesContent":["export default  {\r\n    products: [\r\n        { \r\n            _id: '111111111111111111111111',\r\n        name: 'Hiskywin Full Zip Running Shirts Thermal Workout',\r\n        category: 'Shirts',\r\n        image: '/images/product-1.jpg',\r\n        price: '40',\r\n        brand: 'Hiskywin',\r\n        rating: '4.5',\r\n        numReviews: '10',\r\n        countInStock: '6',\r\n        },\r\n        \r\n        { \r\n            _id: '222222222222222222222222',\r\n        name: 'Nike Full-Zip Hoodie Mens Workout Sweatshirt',\r\n        category: 'Shirts',\r\n        image: '/images/product-2.jpg',\r\n        price: '55',\r\n        brand: 'Nike',\r\n        rating: '5',\r\n        numReviews: '51',\r\n        countInStock: '5',\r\n        },\r\n\r\n        { \r\n            _id: '3',\r\n        name: 'Adidas Mens Long Sleeve Hoodie',\r\n        category: 'Shirts',\r\n        image: '/images/product-3.jpg',\r\n        price: '59',\r\n        brand: 'Adidas',\r\n        rating: '7.6',\r\n        numReviews: '10',\r\n        countInStock: '4',\r\n        },\r\n\r\n        { \r\n            _id: '4',\r\n        name: 'Under Armour Mens Sportstyle Tricot Joggers',\r\n        category: 'Shirts',\r\n        image: '/images/product-4.jpg',\r\n        price: '75',\r\n        brand: 'Joggers',\r\n        rating: '4.5',\r\n        numReviews: '10',\r\n        countInStock: '3',\r\n        },\r\n\r\n        { \r\n            _id: '5',\r\n        name: 'Champion Mens Graphic Powerblend Fleece Jogger Pants',\r\n        category: 'Shirts',\r\n        image: '/images/product-5.jpg',\r\n        price: '60',\r\n        brand: 'jersey',\r\n        rating: '8.0',\r\n        numReviews: '10',\r\n        },\r\n\r\n        { \r\n            _id: '6',\r\n        name: 'Lacoste Mens Joggers Pants Long Multi-Pockets',\r\n        category: 'Trouser',\r\n        image: '/images/product-6.jpg',\r\n        price: '85',\r\n        brand: 'cadigan ',\r\n        rating: '9',\r\n        numReviews: '10',\r\n        countInStock: '6',\r\n        },\r\n],\r\n\r\n};"],"mappings":";;;;;;eAAgB;EACZA,QAAQ,EAAE,CACN;IACIC,GAAG,EAAE,0BADT;IAEAC,IAAI,EAAE,kDAFN;IAGAC,QAAQ,EAAE,QAHV;IAIAC,KAAK,EAAE,uBAJP;IAKAC,KAAK,EAAE,IALP;IAMAC,KAAK,EAAE,UANP;IAOAC,MAAM,EAAE,KAPR;IAQAC,UAAU,EAAE,IARZ;IASAC,YAAY,EAAE;EATd,CADM,EAaN;IACIR,GAAG,EAAE,0BADT;IAEAC,IAAI,EAAE,8CAFN;IAGAC,QAAQ,EAAE,QAHV;IAIAC,KAAK,EAAE,uBAJP;IAKAC,KAAK,EAAE,IALP;IAMAC,KAAK,EAAE,MANP;IAOAC,MAAM,EAAE,GAPR;IAQAC,UAAU,EAAE,IARZ;IASAC,YAAY,EAAE;EATd,CAbM,EAyBN;IACIR,GAAG,EAAE,GADT;IAEAC,IAAI,EAAE,gCAFN;IAGAC,QAAQ,EAAE,QAHV;IAIAC,KAAK,EAAE,uBAJP;IAKAC,KAAK,EAAE,IALP;IAMAC,KAAK,EAAE,QANP;IAOAC,MAAM,EAAE,KAPR;IAQAC,UAAU,EAAE,IARZ;IASAC,YAAY,EAAE;EATd,CAzBM,EAqCN;IACIR,GAAG,EAAE,GADT;IAEAC,IAAI,EAAE,6CAFN;IAGAC,QAAQ,EAAE,QAHV;IAIAC,KAAK,EAAE,uBAJP;IAKAC,KAAK,EAAE,IALP;IAMAC,KAAK,EAAE,SANP;IAOAC,MAAM,EAAE,KAPR;IAQAC,UAAU,EAAE,IARZ;IASAC,YAAY,EAAE;EATd,CArCM,EAiDN;IACIR,GAAG,EAAE,GADT;IAEAC,IAAI,EAAE,sDAFN;IAGAC,QAAQ,EAAE,QAHV;IAIAC,KAAK,EAAE,uBAJP;IAKAC,KAAK,EAAE,IALP;IAMAC,KAAK,EAAE,QANP;IAOAC,MAAM,EAAE,KAPR;IAQAC,UAAU,EAAE;EARZ,CAjDM,EA4DN;IACIP,GAAG,EAAE,GADT;IAEAC,IAAI,EAAE,+CAFN;IAGAC,QAAQ,EAAE,SAHV;IAIAC,KAAK,EAAE,uBAJP;IAKAC,KAAK,EAAE,IALP;IAMAC,KAAK,EAAE,UANP;IAOAC,MAAM,EAAE,GAPR;IAQAC,UAAU,EAAE,IARZ;IASAC,YAAY,EAAE;EATd,CA5DM;AADE,C"}},"mtime":1666789037868},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"filename\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\data.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  products: [{\n    _id: '111111111111111111111111',\n    name: 'Hiskywin Full Zip Running Shirts Thermal Workout',\n    category: 'Shirts',\n    image: '/images/product-1.jpg',\n    price: '40',\n    brand: 'Hiskywin',\n    rating: '4.5',\n    numReviews: '10',\n    countInStock: '6'\n  }, {\n    _id: '222222222222222222222222',\n    name: 'Nike Full-Zip Hoodie Mens Workout Sweatshirt',\n    category: 'Shirts',\n    image: '/images/product-2.jpg',\n    price: '55',\n    brand: 'Nike',\n    rating: '5',\n    numReviews: '51',\n    countInStock: '5'\n  }, {\n    _id: '3',\n    name: 'Adidas Mens Long Sleeve Hoodie',\n    category: 'Shirts',\n    image: '/images/product-3.jpg',\n    price: '59',\n    brand: 'Adidas',\n    rating: '7.6',\n    numReviews: '10',\n    countInStock: '4'\n  }, {\n    _id: '4',\n    name: 'Under Armour Mens Sportstyle Tricot Joggers',\n    category: 'Shirts',\n    image: '/images/product-4.jpg',\n    price: '75',\n    brand: 'Joggers',\n    rating: '4.5',\n    numReviews: '10',\n    countInStock: '3'\n  }, {\n    _id: '5',\n    name: 'Champion Mens Graphic Powerblend Fleece Jogger Pants',\n    category: 'Shirts',\n    image: '/images/product-5.jpg',\n    price: '60',\n    brand: 'jersey',\n    rating: '8.0',\n    numReviews: '10'\n  }, {\n    _id: '6',\n    name: 'Lacoste Mens Joggers Pants Long Multi-Pockets',\n    category: 'Trouser',\n    image: '/images/product-6.jpg',\n    price: '85',\n    brand: 'cadigan ',\n    rating: '9',\n    numReviews: '10',\n    countInStock: '6'\n  }]\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9kdWN0cyIsIl9pZCIsIm5hbWUiLCJjYXRlZ29yeSIsImltYWdlIiwicHJpY2UiLCJicmFuZCIsInJhdGluZyIsIm51bVJldmlld3MiLCJjb3VudEluU3RvY2siXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcUklTQ09IIEZVTkRaXFxEZXNrdG9wXFxqc2FtYXpvbmFcXGJhY2tlbmRcXCIsInNvdXJjZXMiOlsiZGF0YS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCAge1xyXG4gICAgcHJvZHVjdHM6IFtcclxuICAgICAgICB7IFxyXG4gICAgICAgICAgICBfaWQ6ICcxMTExMTExMTExMTExMTExMTExMTExMTEnLFxyXG4gICAgICAgIG5hbWU6ICdIaXNreXdpbiBGdWxsIFppcCBSdW5uaW5nIFNoaXJ0cyBUaGVybWFsIFdvcmtvdXQnLFxyXG4gICAgICAgIGNhdGVnb3J5OiAnU2hpcnRzJyxcclxuICAgICAgICBpbWFnZTogJy9pbWFnZXMvcHJvZHVjdC0xLmpwZycsXHJcbiAgICAgICAgcHJpY2U6ICc0MCcsXHJcbiAgICAgICAgYnJhbmQ6ICdIaXNreXdpbicsXHJcbiAgICAgICAgcmF0aW5nOiAnNC41JyxcclxuICAgICAgICBudW1SZXZpZXdzOiAnMTAnLFxyXG4gICAgICAgIGNvdW50SW5TdG9jazogJzYnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXHJcbiAgICAgICAgeyBcclxuICAgICAgICAgICAgX2lkOiAnMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyJyxcclxuICAgICAgICBuYW1lOiAnTmlrZSBGdWxsLVppcCBIb29kaWUgTWVucyBXb3Jrb3V0IFN3ZWF0c2hpcnQnLFxyXG4gICAgICAgIGNhdGVnb3J5OiAnU2hpcnRzJyxcclxuICAgICAgICBpbWFnZTogJy9pbWFnZXMvcHJvZHVjdC0yLmpwZycsXHJcbiAgICAgICAgcHJpY2U6ICc1NScsXHJcbiAgICAgICAgYnJhbmQ6ICdOaWtlJyxcclxuICAgICAgICByYXRpbmc6ICc1JyxcclxuICAgICAgICBudW1SZXZpZXdzOiAnNTEnLFxyXG4gICAgICAgIGNvdW50SW5TdG9jazogJzUnLFxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHsgXHJcbiAgICAgICAgICAgIF9pZDogJzMnLFxyXG4gICAgICAgIG5hbWU6ICdBZGlkYXMgTWVucyBMb25nIFNsZWV2ZSBIb29kaWUnLFxyXG4gICAgICAgIGNhdGVnb3J5OiAnU2hpcnRzJyxcclxuICAgICAgICBpbWFnZTogJy9pbWFnZXMvcHJvZHVjdC0zLmpwZycsXHJcbiAgICAgICAgcHJpY2U6ICc1OScsXHJcbiAgICAgICAgYnJhbmQ6ICdBZGlkYXMnLFxyXG4gICAgICAgIHJhdGluZzogJzcuNicsXHJcbiAgICAgICAgbnVtUmV2aWV3czogJzEwJyxcclxuICAgICAgICBjb3VudEluU3RvY2s6ICc0JyxcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICB7IFxyXG4gICAgICAgICAgICBfaWQ6ICc0JyxcclxuICAgICAgICBuYW1lOiAnVW5kZXIgQXJtb3VyIE1lbnMgU3BvcnRzdHlsZSBUcmljb3QgSm9nZ2VycycsXHJcbiAgICAgICAgY2F0ZWdvcnk6ICdTaGlydHMnLFxyXG4gICAgICAgIGltYWdlOiAnL2ltYWdlcy9wcm9kdWN0LTQuanBnJyxcclxuICAgICAgICBwcmljZTogJzc1JyxcclxuICAgICAgICBicmFuZDogJ0pvZ2dlcnMnLFxyXG4gICAgICAgIHJhdGluZzogJzQuNScsXHJcbiAgICAgICAgbnVtUmV2aWV3czogJzEwJyxcclxuICAgICAgICBjb3VudEluU3RvY2s6ICczJyxcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICB7IFxyXG4gICAgICAgICAgICBfaWQ6ICc1JyxcclxuICAgICAgICBuYW1lOiAnQ2hhbXBpb24gTWVucyBHcmFwaGljIFBvd2VyYmxlbmQgRmxlZWNlIEpvZ2dlciBQYW50cycsXHJcbiAgICAgICAgY2F0ZWdvcnk6ICdTaGlydHMnLFxyXG4gICAgICAgIGltYWdlOiAnL2ltYWdlcy9wcm9kdWN0LTUuanBnJyxcclxuICAgICAgICBwcmljZTogJzYwJyxcclxuICAgICAgICBicmFuZDogJ2plcnNleScsXHJcbiAgICAgICAgcmF0aW5nOiAnOC4wJyxcclxuICAgICAgICBudW1SZXZpZXdzOiAnMTAnLFxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHsgXHJcbiAgICAgICAgICAgIF9pZDogJzYnLFxyXG4gICAgICAgIG5hbWU6ICdMYWNvc3RlIE1lbnMgSm9nZ2VycyBQYW50cyBMb25nIE11bHRpLVBvY2tldHMnLFxyXG4gICAgICAgIGNhdGVnb3J5OiAnVHJvdXNlcicsXHJcbiAgICAgICAgaW1hZ2U6ICcvaW1hZ2VzL3Byb2R1Y3QtNi5qcGcnLFxyXG4gICAgICAgIHByaWNlOiAnODUnLFxyXG4gICAgICAgIGJyYW5kOiAnY2FkaWdhbiAnLFxyXG4gICAgICAgIHJhdGluZzogJzknLFxyXG4gICAgICAgIG51bVJldmlld3M6ICcxMCcsXHJcbiAgICAgICAgY291bnRJblN0b2NrOiAnNicsXHJcbiAgICAgICAgfSxcclxuXSxcclxuXHJcbn07Il0sIm1hcHBpbmdzIjoiOzs7Ozs7ZUFBZ0I7RUFDWkEsUUFBUSxFQUFFLENBQ047SUFDSUMsR0FBRyxFQUFFLDBCQURUO0lBRUFDLElBQUksRUFBRSxrREFGTjtJQUdBQyxRQUFRLEVBQUUsUUFIVjtJQUlBQyxLQUFLLEVBQUUsdUJBSlA7SUFLQUMsS0FBSyxFQUFFLElBTFA7SUFNQUMsS0FBSyxFQUFFLFVBTlA7SUFPQUMsTUFBTSxFQUFFLEtBUFI7SUFRQUMsVUFBVSxFQUFFLElBUlo7SUFTQUMsWUFBWSxFQUFFO0VBVGQsQ0FETSxFQWFOO0lBQ0lSLEdBQUcsRUFBRSwwQkFEVDtJQUVBQyxJQUFJLEVBQUUsOENBRk47SUFHQUMsUUFBUSxFQUFFLFFBSFY7SUFJQUMsS0FBSyxFQUFFLHVCQUpQO0lBS0FDLEtBQUssRUFBRSxJQUxQO0lBTUFDLEtBQUssRUFBRSxNQU5QO0lBT0FDLE1BQU0sRUFBRSxHQVBSO0lBUUFDLFVBQVUsRUFBRSxJQVJaO0lBU0FDLFlBQVksRUFBRTtFQVRkLENBYk0sRUF5Qk47SUFDSVIsR0FBRyxFQUFFLEdBRFQ7SUFFQUMsSUFBSSxFQUFFLGdDQUZOO0lBR0FDLFFBQVEsRUFBRSxRQUhWO0lBSUFDLEtBQUssRUFBRSx1QkFKUDtJQUtBQyxLQUFLLEVBQUUsSUFMUDtJQU1BQyxLQUFLLEVBQUUsUUFOUDtJQU9BQyxNQUFNLEVBQUUsS0FQUjtJQVFBQyxVQUFVLEVBQUUsSUFSWjtJQVNBQyxZQUFZLEVBQUU7RUFUZCxDQXpCTSxFQXFDTjtJQUNJUixHQUFHLEVBQUUsR0FEVDtJQUVBQyxJQUFJLEVBQUUsNkNBRk47SUFHQUMsUUFBUSxFQUFFLFFBSFY7SUFJQUMsS0FBSyxFQUFFLHVCQUpQO0lBS0FDLEtBQUssRUFBRSxJQUxQO0lBTUFDLEtBQUssRUFBRSxTQU5QO0lBT0FDLE1BQU0sRUFBRSxLQVBSO0lBUUFDLFVBQVUsRUFBRSxJQVJaO0lBU0FDLFlBQVksRUFBRTtFQVRkLENBckNNLEVBaUROO0lBQ0lSLEdBQUcsRUFBRSxHQURUO0lBRUFDLElBQUksRUFBRSxzREFGTjtJQUdBQyxRQUFRLEVBQUUsUUFIVjtJQUlBQyxLQUFLLEVBQUUsdUJBSlA7SUFLQUMsS0FBSyxFQUFFLElBTFA7SUFNQUMsS0FBSyxFQUFFLFFBTlA7SUFPQUMsTUFBTSxFQUFFLEtBUFI7SUFRQUMsVUFBVSxFQUFFO0VBUlosQ0FqRE0sRUE0RE47SUFDSVAsR0FBRyxFQUFFLEdBRFQ7SUFFQUMsSUFBSSxFQUFFLCtDQUZOO0lBR0FDLFFBQVEsRUFBRSxTQUhWO0lBSUFDLEtBQUssRUFBRSx1QkFKUDtJQUtBQyxLQUFLLEVBQUUsSUFMUDtJQU1BQyxLQUFLLEVBQUUsVUFOUDtJQU9BQyxNQUFNLEVBQUUsR0FQUjtJQVFBQyxVQUFVLEVBQUUsSUFSWjtJQVNBQyxZQUFZLEVBQUU7RUFUZCxDQTVETTtBQURFLEMifQ==","map":{"version":3,"names":["products","_id","name","category","image","price","brand","rating","numReviews","countInStock"],"sourceRoot":"C:\\Users\\RISCOH FUNDZ\\Desktop\\jsamazona\\backend\\","sources":["data.js"],"sourcesContent":["export default  {\r\n    products: [\r\n        { \r\n            _id: '111111111111111111111111',\r\n        name: 'Hiskywin Full Zip Running Shirts Thermal Workout',\r\n        category: 'Shirts',\r\n        image: '/images/product-1.jpg',\r\n        price: '40',\r\n        brand: 'Hiskywin',\r\n        rating: '4.5',\r\n        numReviews: '10',\r\n        countInStock: '6',\r\n        },\r\n        \r\n        { \r\n            _id: '222222222222222222222222',\r\n        name: 'Nike Full-Zip Hoodie Mens Workout Sweatshirt',\r\n        category: 'Shirts',\r\n        image: '/images/product-2.jpg',\r\n        price: '55',\r\n        brand: 'Nike',\r\n        rating: '5',\r\n        numReviews: '51',\r\n        countInStock: '5',\r\n        },\r\n\r\n        { \r\n            _id: '3',\r\n        name: 'Adidas Mens Long Sleeve Hoodie',\r\n        category: 'Shirts',\r\n        image: '/images/product-3.jpg',\r\n        price: '59',\r\n        brand: 'Adidas',\r\n        rating: '7.6',\r\n        numReviews: '10',\r\n        countInStock: '4',\r\n        },\r\n\r\n        { \r\n            _id: '4',\r\n        name: 'Under Armour Mens Sportstyle Tricot Joggers',\r\n        category: 'Shirts',\r\n        image: '/images/product-4.jpg',\r\n        price: '75',\r\n        brand: 'Joggers',\r\n        rating: '4.5',\r\n        numReviews: '10',\r\n        countInStock: '3',\r\n        },\r\n\r\n        { \r\n            _id: '5',\r\n        name: 'Champion Mens Graphic Powerblend Fleece Jogger Pants',\r\n        category: 'Shirts',\r\n        image: '/images/product-5.jpg',\r\n        price: '60',\r\n        brand: 'jersey',\r\n        rating: '8.0',\r\n        numReviews: '10',\r\n        },\r\n\r\n        { \r\n            _id: '6',\r\n        name: 'Lacoste Mens Joggers Pants Long Multi-Pockets',\r\n        category: 'Trouser',\r\n        image: '/images/product-6.jpg',\r\n        price: '85',\r\n        brand: 'cadigan ',\r\n        rating: '9',\r\n        numReviews: '10',\r\n        countInStock: '6',\r\n        },\r\n],\r\n\r\n};"],"mappings":";;;;;;eAAgB;EACZA,QAAQ,EAAE,CACN;IACIC,GAAG,EAAE,0BADT;IAEAC,IAAI,EAAE,kDAFN;IAGAC,QAAQ,EAAE,QAHV;IAIAC,KAAK,EAAE,uBAJP;IAKAC,KAAK,EAAE,IALP;IAMAC,KAAK,EAAE,UANP;IAOAC,MAAM,EAAE,KAPR;IAQAC,UAAU,EAAE,IARZ;IASAC,YAAY,EAAE;EATd,CADM,EAaN;IACIR,GAAG,EAAE,0BADT;IAEAC,IAAI,EAAE,8CAFN;IAGAC,QAAQ,EAAE,QAHV;IAIAC,KAAK,EAAE,uBAJP;IAKAC,KAAK,EAAE,IALP;IAMAC,KAAK,EAAE,MANP;IAOAC,MAAM,EAAE,GAPR;IAQAC,UAAU,EAAE,IARZ;IASAC,YAAY,EAAE;EATd,CAbM,EAyBN;IACIR,GAAG,EAAE,GADT;IAEAC,IAAI,EAAE,gCAFN;IAGAC,QAAQ,EAAE,QAHV;IAIAC,KAAK,EAAE,uBAJP;IAKAC,KAAK,EAAE,IALP;IAMAC,KAAK,EAAE,QANP;IAOAC,MAAM,EAAE,KAPR;IAQAC,UAAU,EAAE,IARZ;IASAC,YAAY,EAAE;EATd,CAzBM,EAqCN;IACIR,GAAG,EAAE,GADT;IAEAC,IAAI,EAAE,6CAFN;IAGAC,QAAQ,EAAE,QAHV;IAIAC,KAAK,EAAE,uBAJP;IAKAC,KAAK,EAAE,IALP;IAMAC,KAAK,EAAE,SANP;IAOAC,MAAM,EAAE,KAPR;IAQAC,UAAU,EAAE,IARZ;IASAC,YAAY,EAAE;EATd,CArCM,EAiDN;IACIR,GAAG,EAAE,GADT;IAEAC,IAAI,EAAE,sDAFN;IAGAC,QAAQ,EAAE,QAHV;IAIAC,KAAK,EAAE,uBAJP;IAKAC,KAAK,EAAE,IALP;IAMAC,KAAK,EAAE,QANP;IAOAC,MAAM,EAAE,KAPR;IAQAC,UAAU,EAAE;EARZ,CAjDM,EA4DN;IACIP,GAAG,EAAE,GADT;IAEAC,IAAI,EAAE,+CAFN;IAGAC,QAAQ,EAAE,SAHV;IAIAC,KAAK,EAAE,uBAJP;IAKAC,KAAK,EAAE,IALP;IAMAC,KAAK,EAAE,UANP;IAOAC,MAAM,EAAE,GAPR;IAQAC,UAAU,EAAE,IARZ;IASAC,YAAY,EAAE;EATd,CA5DM;AADE,C"}},"mtime":1666789037868},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"filename\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\config.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nvar _default = {\n  MONGODB_URL: process.env.MONGODB_URL,\n  JWT_SECRET: process.env.JWT_SECRET,\n  PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJNT05HT0RCX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJKV1RfU0VDUkVUIiwiUEFZUEFMX0NMSUVOVF9JRCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxSSVNDT0ggRlVORFpcXERlc2t0b3BcXGpzYW1hem9uYVxcYmFja2VuZFxcIiwic291cmNlcyI6WyJjb25maWcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52JztcclxuXHJcbmRvdGVudi5jb25maWcoKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIE1PTkdPREJfVVJMOiBwcm9jZXNzLmVudi5NT05HT0RCX1VSTCxcclxuICAgIEpXVF9TRUNSRVQ6IHByb2Nlc3MuZW52LkpXVF9TRUNSRVQsXHJcbiAgICBQQVlQQUxfQ0xJRU5UX0lEOiBwcm9jZXNzLmVudi5QQVlQQUxfQ0xJRU5UX0lELCAgXHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBOzs7O0FBRUFBLGVBQUEsQ0FBT0MsTUFBUDs7ZUFFZTtFQUNYQyxXQUFXLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixXQURkO0VBRVhHLFVBQVUsRUFBRUYsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFVBRmI7RUFHWEMsZ0JBQWdCLEVBQUVILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRTtBQUhuQixDIn0=","map":{"version":3,"names":["dotenv","config","MONGODB_URL","process","env","JWT_SECRET","PAYPAL_CLIENT_ID"],"sourceRoot":"C:\\Users\\RISCOH FUNDZ\\Desktop\\jsamazona\\backend\\","sources":["config.js"],"sourcesContent":["\r\nimport dotenv from 'dotenv';\r\n\r\ndotenv.config();\r\n\r\nexport default {\r\n    MONGODB_URL: process.env.MONGODB_URL,\r\n    JWT_SECRET: process.env.JWT_SECRET,\r\n    PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID,  \r\n};\r\n"],"mappings":";;;;;;;AACA;;;;AAEAA,eAAA,CAAOC,MAAP;;eAEe;EACXC,WAAW,EAAEC,OAAO,CAACC,GAAR,CAAYF,WADd;EAEXG,UAAU,EAAEF,OAAO,CAACC,GAAR,CAAYC,UAFb;EAGXC,gBAAgB,EAAEH,OAAO,CAACC,GAAR,CAAYE;AAHnB,C"}},"mtime":1673885353777},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"filename\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\config.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nvar _default = {\n  MONGODB_URL: process.env.MONGODB_URL,\n  JWT_SECRET: process.env.JWT_SECRET,\n  PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJNT05HT0RCX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJKV1RfU0VDUkVUIiwiUEFZUEFMX0NMSUVOVF9JRCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxSSVNDT0ggRlVORFpcXERlc2t0b3BcXGpzYW1hem9uYVxcYmFja2VuZFxcIiwic291cmNlcyI6WyJjb25maWcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52JztcclxuXHJcbmRvdGVudi5jb25maWcoKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIE1PTkdPREJfVVJMOiBwcm9jZXNzLmVudi5NT05HT0RCX1VSTCxcclxuICAgIEpXVF9TRUNSRVQ6IHByb2Nlc3MuZW52LkpXVF9TRUNSRVQsXHJcbiAgICBQQVlQQUxfQ0xJRU5UX0lEOiBwcm9jZXNzLmVudi5QQVlQQUxfQ0xJRU5UX0lELCAgXHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBOzs7O0FBRUFBLGVBQUEsQ0FBT0MsTUFBUDs7ZUFFZTtFQUNYQyxXQUFXLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixXQURkO0VBRVhHLFVBQVUsRUFBRUYsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFVBRmI7RUFHWEMsZ0JBQWdCLEVBQUVILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRTtBQUhuQixDIn0=","map":{"version":3,"names":["dotenv","config","MONGODB_URL","process","env","JWT_SECRET","PAYPAL_CLIENT_ID"],"sourceRoot":"C:\\Users\\RISCOH FUNDZ\\Desktop\\jsamazona\\backend\\","sources":["config.js"],"sourcesContent":["\r\nimport dotenv from 'dotenv';\r\n\r\ndotenv.config();\r\n\r\nexport default {\r\n    MONGODB_URL: process.env.MONGODB_URL,\r\n    JWT_SECRET: process.env.JWT_SECRET,\r\n    PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID,  \r\n};\r\n"],"mappings":";;;;;;;AACA;;;;AAEAA,eAAA,CAAOC,MAAP;;eAEe;EACXC,WAAW,EAAEC,OAAO,CAACC,GAAR,CAAYF,WADd;EAEXG,UAAU,EAAEF,OAAO,CAACC,GAAR,CAAYC,UAFb;EAGXC,gBAAgB,EAAEH,OAAO,CAACC,GAAR,CAAYE;AAHnB,C"}},"mtime":1673885353777},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"filename\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\routers\\\\userRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _userModel = _interopRequireDefault(require(\"../models/userModel\"));\n\nvar _utils = require(\"../utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userRouter = _express.default.Router();\n\nuserRouter.get(\"/createadmin\", (0, _expressAsyncHandler.default)(async (req, res) => {\n  try {\n    const user = new _userModel.default({\n      name: 'Riscoh',\n      email: 'riscohfundz.com',\n      password: 'Adebayo16',\n      isAdmin: true\n    });\n    const createdUser = await user.save();\n    res.send(createdUser);\n  } catch (err) {\n    res.status(500).send({\n      message: err.message\n    });\n  }\n}));\nuserRouter.post('/signin', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const signinUser = await _userModel.default.findOne({\n    email: req.body.email,\n    password: req.body.password\n  });\n\n  if (!signinUser) {\n    res.status(401).send({\n      message: 'Invalid Email or Password'\n    });\n  } else {\n    res.send({\n      _id: signinUser._id,\n      name: signinUser.name,\n      email: signinUser.email,\n      isAdmin: signinUser.isAdmin,\n      token: (0, _utils.generateToken)(signinUser)\n    });\n  }\n}));\nuserRouter.post('/register', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = new _userModel.default({\n    name: req.body.name,\n    email: req.body.email,\n    password: req.body.password\n  });\n  const createdUser = await user.save();\n\n  if (!createdUser) {\n    res.status(401).send({\n      message: 'Invalid User Data'\n    });\n  } else {\n    res.send({\n      _id: createdUser._id,\n      name: createdUser.name,\n      email: createdUser.email,\n      isAdmin: createdUser.isAdmin,\n      token: (0, _utils.generateToken)(createdUser)\n    });\n  }\n}));\nuserRouter.put('/:id', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findById(req.params.id);\n\n  if (!user) {\n    res.status(404).send({\n      message: 'User Not Found!'\n    });\n  } else {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n    user.password = req.body.password || user.password;\n    const updatedUser = await user.save();\n    res.send({\n      _id: updatedUser._id,\n      name: updatedUser.name,\n      email: updatedUser.email,\n      isAdmin: updatedUser.isAdmin,\n      token: (0, _utils.generateToken)(updatedUser)\n    });\n  }\n}));\nvar _default = userRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyUm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsImV4cHJlc3NBc3luY0hhbmRsZXIiLCJyZXEiLCJyZXMiLCJ1c2VyIiwiVXNlciIsIm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiaXNBZG1pbiIsImNyZWF0ZWRVc2VyIiwic2F2ZSIsInNlbmQiLCJlcnIiLCJzdGF0dXMiLCJtZXNzYWdlIiwicG9zdCIsInNpZ25pblVzZXIiLCJmaW5kT25lIiwiYm9keSIsIl9pZCIsInRva2VuIiwiZ2VuZXJhdGVUb2tlbiIsInB1dCIsImlzQXV0aCIsImZpbmRCeUlkIiwicGFyYW1zIiwiaWQiLCJ1cGRhdGVkVXNlciJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxSSVNDT0ggRlVORFpcXERlc2t0b3BcXGpzYW1hem9uYVxcYmFja2VuZFxccm91dGVyc1xcIiwic291cmNlcyI6WyJ1c2VyUm91dGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IGV4cHJlc3NBc3luY0hhbmRsZXIgZnJvbSAnZXhwcmVzcy1hc3luYy1oYW5kbGVyJztcclxuaW1wb3J0IFVzZXIgZnJvbSAnLi4vbW9kZWxzL3VzZXJNb2RlbCc7XHJcbmltcG9ydCB7IGdlbmVyYXRlVG9rZW4sIGlzQXV0aCB9IGZyb20gJy4uL3V0aWxzJztcclxuIFxyXG5cclxuY29uc3QgdXNlclJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcblxyXG51c2VyUm91dGVyLmdldChcIi9jcmVhdGVhZG1pblwiLCAgZXhwcmVzc0FzeW5jSGFuZGxlciAoYXN5bmMgKHJlcSxyZXMpPT57XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlcih7XHJcbiAgICAgICAgICBuYW1lOiAnUmlzY29oJyxcclxuICAgICAgICAgIGVtYWlsOiAncmlzY29oZnVuZHouY29tJyxcclxuICAgICAgICAgIHBhc3N3b3JkOiAnQWRlYmF5bzE2JyxcclxuICAgICAgICAgIGlzQWRtaW46IHRydWUsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgY3JlYXRlZFVzZXIgPSBhd2FpdCB1c2VyLnNhdmUoKTtcclxuICAgICAgICByZXMuc2VuZChjcmVhdGVkVXNlcik7XHJcbiAgICB9IGNhdGNoKGVycil7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiBlcnIubWVzc2FnZSB9KTtcclxuICAgIH1cclxufSlcclxuKTtcclxudXNlclJvdXRlci5wb3N0KFxyXG4gICAgJy9zaWduaW4nLFxyXG4gZXhwcmVzc0FzeW5jSGFuZGxlciggYXN5bmMgKHJlcSwgcmVzKSA9PntcclxuICAgIGNvbnN0IHNpZ25pblVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoe1xyXG4gICAgICAgIGVtYWlsOiByZXEuYm9keS5lbWFpbCxcclxuICAgICAgICBwYXNzd29yZDogcmVxLmJvZHkucGFzc3dvcmQsXHJcbiAgICB9KTtcclxuICAgIGlmKCFzaWduaW5Vc2VyKXtcclxuICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IFxyXG4gICAgICAgICAgbWVzc2FnZTogJ0ludmFsaWQgRW1haWwgb3IgUGFzc3dvcmQnLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgcmVzLnNlbmQoe1xyXG4gICAgICAgICAgICBfaWQ6IHNpZ25pblVzZXIuX2lkLFxyXG4gICAgICAgICAgICBuYW1lOiBzaWduaW5Vc2VyLm5hbWUsXHJcbiAgICAgICAgICAgIGVtYWlsOiBzaWduaW5Vc2VyLmVtYWlsLFxyXG4gICAgICAgICAgICBpc0FkbWluOiBzaWduaW5Vc2VyLmlzQWRtaW4sXHJcbiAgICAgICAgICAgIHRva2VuOiBnZW5lcmF0ZVRva2VuKHNpZ25pblVzZXIpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59KVxyXG4pO1xyXG5cclxudXNlclJvdXRlci5wb3N0KFxyXG4gICAgJy9yZWdpc3RlcicsXHJcbiBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT57XHJcbiAgY29uc3QgdXNlciA9IG5ldyBVc2VyKHtcclxuICAgIG5hbWU6IHJlcS5ib2R5Lm5hbWUsXHJcbiAgICBlbWFpbDogcmVxLmJvZHkuZW1haWwsXHJcbiAgICBwYXNzd29yZDogcmVxLmJvZHkucGFzc3dvcmQsXHJcbiAgfSk7XHJcbiAgY29uc3QgY3JlYXRlZFVzZXIgPSBhd2FpdCB1c2VyLnNhdmUoKTtcclxuICAgIGlmKCFjcmVhdGVkVXNlcil7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBcclxuICAgICAgICAgIG1lc3NhZ2U6ICdJbnZhbGlkIFVzZXIgRGF0YScsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICByZXMuc2VuZCh7XHJcbiAgICAgICAgICAgIF9pZDogY3JlYXRlZFVzZXIuX2lkLFxyXG4gICAgICAgICAgICBuYW1lOiBjcmVhdGVkVXNlci5uYW1lLFxyXG4gICAgICAgICAgICBlbWFpbDogY3JlYXRlZFVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgIGlzQWRtaW46IGNyZWF0ZWRVc2VyLmlzQWRtaW4sXHJcbiAgICAgICAgICAgIHRva2VuOiBnZW5lcmF0ZVRva2VuKGNyZWF0ZWRVc2VyKSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSlcclxuKTtcclxuXHJcbnVzZXJSb3V0ZXIucHV0KFxyXG4gICAgJy86aWQnLCBcclxuICAgIGlzQXV0aCxcclxuIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PntcclxuICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcclxuICBpZiAoIXVzZXIpIHtcclxuICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoe1xyXG4gICAgbWVzc2FnZTogJ1VzZXIgTm90IEZvdW5kIScsXHJcbiAgIH0pO1xyXG4gIH1lbHNle1xyXG4gICAgdXNlci5uYW1lID0gIHJlcS5ib2R5Lm5hbWUgfHwgdXNlci5uYW1lO1xyXG4gICAgdXNlci5lbWFpbCA9ICByZXEuYm9keS5lbWFpbCB8fCB1c2VyLmVtYWlsO1xyXG4gICAgdXNlci5wYXNzd29yZCA9ICByZXEuYm9keS5wYXNzd29yZCB8fCB1c2VyLnBhc3N3b3JkO1xyXG4gICAgY29uc3QgdXBkYXRlZFVzZXIgPSBhd2FpdCB1c2VyLnNhdmUoKTtcclxuICAgICAgICByZXMuc2VuZCh7XHJcbiAgICAgICAgICAgIF9pZDogdXBkYXRlZFVzZXIuX2lkLFxyXG4gICAgICAgICAgICBuYW1lOiB1cGRhdGVkVXNlci5uYW1lLFxyXG4gICAgICAgICAgICBlbWFpbDogdXBkYXRlZFVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgIGlzQWRtaW46IHVwZGF0ZWRVc2VyLmlzQWRtaW4sXHJcbiAgICAgICAgICAgIHRva2VuOiBnZW5lcmF0ZVRva2VuKHVwZGF0ZWRVc2VyKSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSlcclxuKTtcclxuZXhwb3J0IGRlZmF1bHQgdXNlclJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUdBLE1BQU1BLFVBQVUsR0FBR0MsZ0JBQUEsQ0FBUUMsTUFBUixFQUFuQjs7QUFFQUYsVUFBVSxDQUFDRyxHQUFYLENBQWUsY0FBZixFQUFnQyxJQUFBQyw0QkFBQSxFQUFxQixPQUFPQyxHQUFQLEVBQVdDLEdBQVgsS0FBaUI7RUFDbEUsSUFBSTtJQUNBLE1BQU1DLElBQUksR0FBRyxJQUFJQyxrQkFBSixDQUFTO01BQ3BCQyxJQUFJLEVBQUUsUUFEYztNQUVwQkMsS0FBSyxFQUFFLGlCQUZhO01BR3BCQyxRQUFRLEVBQUUsV0FIVTtNQUlwQkMsT0FBTyxFQUFFO0lBSlcsQ0FBVCxDQUFiO0lBTUEsTUFBTUMsV0FBVyxHQUFHLE1BQU1OLElBQUksQ0FBQ08sSUFBTCxFQUExQjtJQUNBUixHQUFHLENBQUNTLElBQUosQ0FBU0YsV0FB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","map":{"version":3,"names":["userRouter","express","Router","get","expressAsyncHandler","req","res","user","User","name","email","password","isAdmin","createdUser","save","send","err","status","message","post","signinUser","findOne","body","_id","token","generateToken","put","isAuth","findById","params","id","updatedUser"],"sourceRoot":"C:\\Users\\RISCOH FUNDZ\\Desktop\\jsamazona\\backend\\routers\\","sources":["userRouter.js"],"sourcesContent":["\r\nimport express from 'express';\r\nimport expressAsyncHandler from 'express-async-handler';\r\nimport User from '../models/userModel';\r\nimport { generateToken, isAuth } from '../utils';\r\n \r\n\r\nconst userRouter = express.Router();\r\n\r\nuserRouter.get(\"/createadmin\",  expressAsyncHandler (async (req,res)=>{\r\n    try {\r\n        const user = new User({\r\n          name: 'Riscoh',\r\n          email: 'riscohfundz.com',\r\n          password: 'Adebayo16',\r\n          isAdmin: true,\r\n        });\r\n        const createdUser = await user.save();\r\n        res.send(createdUser);\r\n    } catch(err){\r\n        res.status(500).send({ message: err.message });\r\n    }\r\n})\r\n);\r\nuserRouter.post(\r\n    '/signin',\r\n expressAsyncHandler( async (req, res) =>{\r\n    const signinUser = await User.findOne({\r\n        email: req.body.email,\r\n        password: req.body.password,\r\n    });\r\n    if(!signinUser){\r\n        res.status(401).send({ \r\n          message: 'Invalid Email or Password',\r\n        });\r\n    }else{\r\n        res.send({\r\n            _id: signinUser._id,\r\n            name: signinUser.name,\r\n            email: signinUser.email,\r\n            isAdmin: signinUser.isAdmin,\r\n            token: generateToken(signinUser),\r\n        });\r\n    }\r\n})\r\n);\r\n\r\nuserRouter.post(\r\n    '/register',\r\n expressAsyncHandler(async (req, res) =>{\r\n  const user = new User({\r\n    name: req.body.name,\r\n    email: req.body.email,\r\n    password: req.body.password,\r\n  });\r\n  const createdUser = await user.save();\r\n    if(!createdUser){\r\n        res.status(401).send({ \r\n          message: 'Invalid User Data',\r\n        });\r\n    }else{\r\n        res.send({\r\n            _id: createdUser._id,\r\n            name: createdUser.name,\r\n            email: createdUser.email,\r\n            isAdmin: createdUser.isAdmin,\r\n            token: generateToken(createdUser),\r\n        });\r\n    }\r\n})\r\n);\r\n\r\nuserRouter.put(\r\n    '/:id', \r\n    isAuth,\r\n expressAsyncHandler(async (req, res) =>{\r\n  const user = await User.findById(req.params.id);\r\n  if (!user) {\r\n   res.status(404).send({\r\n    message: 'User Not Found!',\r\n   });\r\n  }else{\r\n    user.name =  req.body.name || user.name;\r\n    user.email =  req.body.email || user.email;\r\n    user.password =  req.body.password || user.password;\r\n    const updatedUser = await user.save();\r\n        res.send({\r\n            _id: updatedUser._id,\r\n            name: updatedUser.name,\r\n            email: updatedUser.email,\r\n            isAdmin: updatedUser.isAdmin,\r\n            token: generateToken(updatedUser),\r\n        });\r\n    }\r\n})\r\n);\r\nexport default userRouter;"],"mappings":";;;;;;;AACA;;AACA;;AACA;;AACA;;;;AAGA,MAAMA,UAAU,GAAGC,gBAAA,CAAQC,MAAR,EAAnB;;AAEAF,UAAU,CAACG,GAAX,CAAe,cAAf,EAAgC,IAAAC,4BAAA,EAAqB,OAAOC,GAAP,EAAWC,GAAX,KAAiB;EAClE,IAAI;IACA,MAAMC,IAAI,GAAG,IAAIC,kBAAJ,CAAS;MACpBC,IAAI,EAAE,QADc;MAEpBC,KAAK,EAAE,iBAFa;MAGpBC,QAAQ,EAAE,WAHU;MAIpBC,OAAO,EAAE;IAJW,CAAT,CAAb;IAMA,MAAMC,WAAW,GAAG,MAAMN,IAAI,CAACO,IAAL,EAA1B;IACAR,GAAG,CAACS,IAAJ,CAASF,WAAT;EACH,CATD,CASE,OAAMG,GAAN,EAAU;IACRV,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBF,IAAhB,CAAqB;MAAEG,OAAO,EAAEF,GAAG,CAACE;IAAf,CAArB;EACH;AACJ,CAb+B,CAAhC;AAeAlB,UAAU,CAACmB,IAAX,CACI,SADJ,EAEC,IAAAf,4BAAA,EAAqB,OAAOC,GAAP,EAAYC,GAAZ,KAAmB;EACrC,MAAMc,UAAU,GAAG,MAAMZ,kBAAA,CAAKa,OAAL,CAAa;IAClCX,KAAK,EAAEL,GAAG,CAACiB,IAAJ,CAASZ,KADkB;IAElCC,QAAQ,EAAEN,GAAG,CAACiB,IAAJ,CAASX;EAFe,CAAb,CAAzB;;EAIA,IAAG,CAACS,UAAJ,EAAe;IACXd,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBF,IAAhB,CAAqB;MACnBG,OAAO,EAAE;IADU,CAArB;EAGH,CAJD,MAIK;IACDZ,GAAG,CAACS,IAAJ,CAAS;MACLQ,GAAG,EAAEH,UAAU,CAACG,GADX;MAELd,IAAI,EAAEW,UAAU,CAACX,IAFZ;MAGLC,KAAK,EAAEU,UAAU,CAACV,KAHb;MAILE,OAAO,EAAEQ,UAAU,CAACR,OAJf;MAKLY,KAAK,EAAE,IAAAC,oBAAA,EAAcL,UAAd;IALF,CAAT;EAOH;AACJ,CAlBA,CAFD;AAuBApB,UAAU,CAACmB,IAAX,CACI,WADJ,EAEC,IAAAf,4BAAA,EAAoB,OAAOC,GAAP,EAAYC,GAAZ,KAAmB;EACtC,MAAMC,IAAI,GAAG,IAAIC,kBAAJ,CAAS;IACpBC,IAAI,EAAEJ,GAAG,CAACiB,IAAJ,CAASb,IADK;IAEpBC,KAAK,EAAEL,GAAG,CAACiB,IAAJ,CAASZ,KAFI;IAGpBC,QAAQ,EAAEN,GAAG,CAACiB,IAAJ,CAASX;EAHC,CAAT,CAAb;EAKA,MAAME,WAAW,GAAG,MAAMN,IAAI,CAACO,IAAL,EAA1B;;EACE,IAAG,CAACD,WAAJ,EAAgB;IACZP,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBF,IAAhB,CAAqB;MACnBG,OAAO,EAAE;IADU,CAArB;EAGH,CAJD,MAIK;IACDZ,GAAG,CAACS,IAAJ,CAAS;MACLQ,GAAG,EAAEV,WAAW,CAACU,GADZ;MAELd,IAAI,EAAEI,WAAW,CAACJ,IAFb;MAGLC,KAAK,EAAEG,WAAW,CAACH,KAHd;MAILE,OAAO,EAAEC,WAAW,CAACD,OAJhB;MAKLY,KAAK,EAAE,IAAAC,oBAAA,EAAcZ,WAAd;IALF,CAAT;EAOH;AACJ,CApBA,CAFD;AAyBAb,UAAU,CAAC0B,GAAX,CACI,MADJ,EAEIC,aAFJ,EAGC,IAAAvB,4BAAA,EAAoB,OAAOC,GAAP,EAAYC,GAAZ,KAAmB;EACtC,MAAMC,IAAI,GAAG,MAAMC,kBAAA,CAAKoB,QAAL,CAAcvB,GAAG,CAACwB,MAAJ,CAAWC,EAAzB,CAAnB;;EACA,IAAI,CAACvB,IAAL,EAAW;IACVD,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBF,IAAhB,CAAqB;MACpBG,OAAO,EAAE;IADW,CAArB;EAGA,CAJD,MAIK;IACHX,IAAI,CAACE,IAAL,GAAaJ,GAAG,CAACiB,IAAJ,CAASb,IAAT,IAAiBF,IAAI,CAACE,IAAnC;IACAF,IAAI,CAACG,KAAL,GAAcL,GAAG,CAACiB,IAAJ,CAASZ,KAAT,IAAkBH,IAAI,CAACG,KAArC;IACAH,IAAI,CAACI,QAAL,GAAiBN,GAAG,CAACiB,IAAJ,CAASX,QAAT,IAAqBJ,IAAI,CAACI,QAA3C;IACA,MAAMoB,WAAW,GAAG,MAAMxB,IAAI,CAACO,IAAL,EAA1B;IACIR,GAAG,CAACS,IAAJ,CAAS;MACLQ,GAAG,EAAEQ,WAAW,CAACR,GADZ;MAELd,IAAI,EAAEsB,WAAW,CAACtB,IAFb;MAGLC,KAAK,EAAEqB,WAAW,CAACrB,KAHd;MAILE,OAAO,EAAEmB,WAAW,CAACnB,OAJhB;MAKLY,KAAK,EAAE,IAAAC,oBAAA,EAAcM,WAAd;IALF,CAAT;EAOH;AACJ,CAnBA,CAHD;eAwBe/B,U"}},"mtime":1674076236178},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"filename\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\models\\\\userModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true,\n    index: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  isAdmin: {\n    type: Boolean,\n    required: true,\n    default: false\n  }\n});\n\nconst User = _mongoose.default.model('User', userSchema);\n\nvar _default = User;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiZW1haWwiLCJpbmRleCIsInVuaXF1ZSIsInBhc3N3b3JkIiwiaXNBZG1pbiIsIkJvb2xlYW4iLCJkZWZhdWx0IiwiVXNlciIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFJJU0NPSCBGVU5EWlxcRGVza3RvcFxcanNhbWF6b25hXFxiYWNrZW5kXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsidXNlck1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCB1c2VyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgICBuYW1lOiB7dHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICBlbWFpbDoge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICBpbmRleDogdHJ1ZSxcclxuICAgICAgdW5pcXVlOiB0cnVlXHJcbiAgICB9LFxyXG4gICAgICBwYXNzd29yZDoge3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWV9LFxyXG4gICAgICBpc0FkbWluOiB7dHlwZTogQm9vbGVhbiwgcmVxdWlyZWQ6IHRydWUsIGRlZmF1bHQ6IGZhbHNlfSxcclxufSk7XHJcbmNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbCgnVXNlcicsdXNlclNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IFVzZXI7XHJcbiAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDQTs7OztBQUVBLE1BQU1BLFVBQVUsR0FBRyxJQUFJQyxpQkFBQSxDQUFTQyxNQUFiLENBQW9CO0VBQ25DQyxJQUFJLEVBQUU7SUFBQ0MsSUFBSSxFQUFFQyxNQUFQO0lBQWVDLFFBQVEsRUFBRTtFQUF6QixDQUQ2QjtFQUVuQ0MsS0FBSyxFQUFFO0lBQ0xILElBQUksRUFBRUMsTUFERDtJQUVMQyxRQUFRLEVBQUUsSUFGTDtJQUdMRSxLQUFLLEVBQUUsSUFIRjtJQUlMQyxNQUFNLEVBQUU7RUFKSCxDQUY0QjtFQVFqQ0MsUUFBUSxFQUFFO0lBQUNOLElBQUksRUFBRUMsTUFBUDtJQUFlQyxRQUFRLEVBQUU7RUFBekIsQ0FSdUI7RUFTakNLLE9BQU8sRUFBRTtJQUFDUCxJQUFJLEVBQUVRLE9BQVA7SUFBZ0JOLFFBQVEsRUFBRSxJQUExQjtJQUFnQ08sT0FBTyxFQUFFO0VBQXpDO0FBVHdCLENBQXBCLENBQW5COztBQVdBLE1BQU1DLElBQUksR0FBR2IsaUJBQUEsQ0FBU2MsS0FBVCxDQUFlLE1BQWYsRUFBc0JmLFVBQXRCLENBQWI7O2VBQ2VjLEkifQ==","map":{"version":3,"names":["userSchema","mongoose","Schema","name","type","String","required","email","index","unique","password","isAdmin","Boolean","default","User","model"],"sourceRoot":"C:\\Users\\RISCOH FUNDZ\\Desktop\\jsamazona\\backend\\models\\","sources":["userModel.js"],"sourcesContent":["\r\nimport mongoose from \"mongoose\";\r\n\r\nconst userSchema = new mongoose.Schema({\r\n    name: {type: String, required: true},\r\n    email: {\r\n      type: String,\r\n      required: true,\r\n      index: true,\r\n      unique: true\r\n    },\r\n      password: {type: String, required: true},\r\n      isAdmin: {type: Boolean, required: true, default: false},\r\n});\r\nconst User = mongoose.model('User',userSchema);\r\nexport default User;\r\n "],"mappings":";;;;;;;AACA;;;;AAEA,MAAMA,UAAU,GAAG,IAAIC,iBAAA,CAASC,MAAb,CAAoB;EACnCC,IAAI,EAAE;IAACC,IAAI,EAAEC,MAAP;IAAeC,QAAQ,EAAE;EAAzB,CAD6B;EAEnCC,KAAK,EAAE;IACLH,IAAI,EAAEC,MADD;IAELC,QAAQ,EAAE,IAFL;IAGLE,KAAK,EAAE,IAHF;IAILC,MAAM,EAAE;EAJH,CAF4B;EAQjCC,QAAQ,EAAE;IAACN,IAAI,EAAEC,MAAP;IAAeC,QAAQ,EAAE;EAAzB,CARuB;EASjCK,OAAO,EAAE;IAACP,IAAI,EAAEQ,OAAP;IAAgBN,QAAQ,EAAE,IAA1B;IAAgCO,OAAO,EAAE;EAAzC;AATwB,CAApB,CAAnB;;AAWA,MAAMC,IAAI,GAAGb,iBAAA,CAASc,KAAT,CAAe,MAAf,EAAsBf,UAAtB,CAAb;;eACec,I"}},"mtime":1674074730468},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"filename\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\routers\\\\userRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _userModel = _interopRequireDefault(require(\"../models/userModel\"));\n\nvar _utils = require(\"../utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userRouter = _express.default.Router();\n\nuserRouter.get(\"/createadmin\", (0, _expressAsyncHandler.default)(async (req, res) => {\n  try {\n    const user = new _userModel.default({\n      name: 'Riscoh',\n      email: 'riscohfundz.com',\n      password: 'Adebayo16',\n      isAdmin: true\n    });\n    const createdUser = await user.save();\n    res.send(createdUser);\n  } catch (err) {\n    res.status(500).send({\n      message: err.message\n    });\n  }\n}));\nuserRouter.post('/signin', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const signinUser = await _userModel.default.findOne({\n    email: req.body.email,\n    password: req.body.password\n  });\n\n  if (!signinUser) {\n    res.status(401).send({\n      message: 'Invalid Email or Password'\n    });\n  } else {\n    res.send({\n      _id: signinUser._id,\n      name: signinUser.name,\n      email: signinUser.email,\n      isAdmin: signinUser.isAdmin,\n      token: (0, _utils.generateToken)(signinUser)\n    });\n  }\n}));\nuserRouter.post('/register', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = new _userModel.default({\n    name: req.body.name,\n    email: req.body.email,\n    password: req.body.password\n  });\n  const createdUser = await user.save();\n\n  if (!createdUser) {\n    res.status(401).send({\n      message: 'Invalid User Data'\n    });\n  } else {\n    res.send({\n      _id: createdUser._id,\n      name: createdUser.name,\n      email: createdUser.email,\n      isAdmin: createdUser.isAdmin,\n      token: (0, _utils.generateToken)(createdUser)\n    });\n  }\n}));\nuserRouter.put('/:id', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findById(req.params.id);\n\n  if (!user) {\n    res.status(404).send({\n      message: 'User Not Found!'\n    });\n  } else {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n    user.password = req.body.password || user.password;\n    const updatedUser = await user.save();\n    res.send({\n      _id: updatedUser._id,\n      name: updatedUser.name,\n      email: updatedUser.email,\n      isAdmin: updatedUser.isAdmin,\n      token: (0, _utils.generateToken)(updatedUser)\n    });\n  }\n}));\nvar _default = userRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyUm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsImV4cHJlc3NBc3luY0hhbmRsZXIiLCJyZXEiLCJyZXMiLCJ1c2VyIiwiVXNlciIsIm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiaXNBZG1pbiIsImNyZWF0ZWRVc2VyIiwic2F2ZSIsInNlbmQiLCJlcnIiLCJzdGF0dXMiLCJtZXNzYWdlIiwicG9zdCIsInNpZ25pblVzZXIiLCJmaW5kT25lIiwiYm9keSIsIl9pZCIsInRva2VuIiwiZ2VuZXJhdGVUb2tlbiIsInB1dCIsImlzQXV0aCIsImZpbmRCeUlkIiwicGFyYW1zIiwiaWQiLCJ1cGRhdGVkVXNlciJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxSSVNDT0ggRlVORFpcXERlc2t0b3BcXGpzYW1hem9uYVxcYmFja2VuZFxccm91dGVyc1xcIiwic291cmNlcyI6WyJ1c2VyUm91dGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IGV4cHJlc3NBc3luY0hhbmRsZXIgZnJvbSAnZXhwcmVzcy1hc3luYy1oYW5kbGVyJztcclxuaW1wb3J0IFVzZXIgZnJvbSAnLi4vbW9kZWxzL3VzZXJNb2RlbCc7XHJcbmltcG9ydCB7IGdlbmVyYXRlVG9rZW4sIGlzQXV0aCB9IGZyb20gJy4uL3V0aWxzJztcclxuIFxyXG5cclxuY29uc3QgdXNlclJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcblxyXG51c2VyUm91dGVyLmdldChcIi9jcmVhdGVhZG1pblwiLCAgZXhwcmVzc0FzeW5jSGFuZGxlciAoYXN5bmMgKHJlcSxyZXMpPT57XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlcih7XHJcbiAgICAgICAgICBuYW1lOiAnUmlzY29oJyxcclxuICAgICAgICAgIGVtYWlsOiAncmlzY29oZnVuZHouY29tJyxcclxuICAgICAgICAgIHBhc3N3b3JkOiAnQWRlYmF5bzE2JyxcclxuICAgICAgICAgIGlzQWRtaW46IHRydWUsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgY3JlYXRlZFVzZXIgPSBhd2FpdCB1c2VyLnNhdmUoKTtcclxuICAgICAgICByZXMuc2VuZChjcmVhdGVkVXNlcik7XHJcbiAgICB9IGNhdGNoKGVycil7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiBlcnIubWVzc2FnZSB9KTtcclxuICAgIH1cclxufSlcclxuKTtcclxudXNlclJvdXRlci5wb3N0KFxyXG4gICAgJy9zaWduaW4nLFxyXG4gZXhwcmVzc0FzeW5jSGFuZGxlciggYXN5bmMgKHJlcSwgcmVzKSA9PntcclxuICAgIGNvbnN0IHNpZ25pblVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoe1xyXG4gICAgICAgIGVtYWlsOiByZXEuYm9keS5lbWFpbCxcclxuICAgICAgICBwYXNzd29yZDogcmVxLmJvZHkucGFzc3dvcmQsXHJcbiAgICB9KTtcclxuICAgIGlmKCFzaWduaW5Vc2VyKXtcclxuICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IFxyXG4gICAgICAgICAgbWVzc2FnZTogJ0ludmFsaWQgRW1haWwgb3IgUGFzc3dvcmQnLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgcmVzLnNlbmQoe1xyXG4gICAgICAgICAgICBfaWQ6IHNpZ25pblVzZXIuX2lkLFxyXG4gICAgICAgICAgICBuYW1lOiBzaWduaW5Vc2VyLm5hbWUsXHJcbiAgICAgICAgICAgIGVtYWlsOiBzaWduaW5Vc2VyLmVtYWlsLFxyXG4gICAgICAgICAgICBpc0FkbWluOiBzaWduaW5Vc2VyLmlzQWRtaW4sXHJcbiAgICAgICAgICAgIHRva2VuOiBnZW5lcmF0ZVRva2VuKHNpZ25pblVzZXIpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59KVxyXG4pO1xyXG5cclxudXNlclJvdXRlci5wb3N0KFxyXG4gICAgJy9yZWdpc3RlcicsXHJcbiBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT57XHJcbiAgY29uc3QgdXNlciA9IG5ldyBVc2VyKHtcclxuICAgIG5hbWU6IHJlcS5ib2R5Lm5hbWUsXHJcbiAgICBlbWFpbDogcmVxLmJvZHkuZW1haWwsXHJcbiAgICBwYXNzd29yZDogcmVxLmJvZHkucGFzc3dvcmQsXHJcbiAgfSk7XHJcbiAgY29uc3QgY3JlYXRlZFVzZXIgPSBhd2FpdCB1c2VyLnNhdmUoKTtcclxuICAgIGlmKCFjcmVhdGVkVXNlcil7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBcclxuICAgICAgICAgIG1lc3NhZ2U6ICdJbnZhbGlkIFVzZXIgRGF0YScsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICByZXMuc2VuZCh7XHJcbiAgICAgICAgICAgIF9pZDogY3JlYXRlZFVzZXIuX2lkLFxyXG4gICAgICAgICAgICBuYW1lOiBjcmVhdGVkVXNlci5uYW1lLFxyXG4gICAgICAgICAgICBlbWFpbDogY3JlYXRlZFVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgIGlzQWRtaW46IGNyZWF0ZWRVc2VyLmlzQWRtaW4sXHJcbiAgICAgICAgICAgIHRva2VuOiBnZW5lcmF0ZVRva2VuKGNyZWF0ZWRVc2VyKSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSlcclxuKTtcclxuXHJcbnVzZXJSb3V0ZXIucHV0KFxyXG4gICAgJy86aWQnLCBcclxuICAgIGlzQXV0aCxcclxuIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PntcclxuICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcclxuICBpZiAoIXVzZXIpIHtcclxuICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoe1xyXG4gICAgbWVzc2FnZTogJ1VzZXIgTm90IEZvdW5kIScsXHJcbiAgIH0pO1xyXG4gIH1lbHNle1xyXG4gICAgdXNlci5uYW1lID0gIHJlcS5ib2R5Lm5hbWUgfHwgdXNlci5uYW1lO1xyXG4gICAgdXNlci5lbWFpbCA9ICByZXEuYm9keS5lbWFpbCB8fCB1c2VyLmVtYWlsO1xyXG4gICAgdXNlci5wYXNzd29yZCA9ICByZXEuYm9keS5wYXNzd29yZCB8fCB1c2VyLnBhc3N3b3JkO1xyXG4gICAgY29uc3QgdXBkYXRlZFVzZXIgPSBhd2FpdCB1c2VyLnNhdmUoKTtcclxuICAgICAgICByZXMuc2VuZCh7XHJcbiAgICAgICAgICAgIF9pZDogdXBkYXRlZFVzZXIuX2lkLFxyXG4gICAgICAgICAgICBuYW1lOiB1cGRhdGVkVXNlci5uYW1lLFxyXG4gICAgICAgICAgICBlbWFpbDogdXBkYXRlZFVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgIGlzQWRtaW46IHVwZGF0ZWRVc2VyLmlzQWRtaW4sXHJcbiAgICAgICAgICAgIHRva2VuOiBnZW5lcmF0ZVRva2VuKHVwZGF0ZWRVc2VyKSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSlcclxuKTtcclxuZXhwb3J0IGRlZmF1bHQgdXNlclJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUdBLE1BQU1BLFVBQVUsR0FBR0MsZ0JBQUEsQ0FBUUMsTUFBUixFQUFuQjs7QUFFQUYsVUFBVSxDQUFDRyxHQUFYLENBQWUsY0FBZixFQUFnQyxJQUFBQyw0QkFBQSxFQUFxQixPQUFPQyxHQUFQLEVBQVdDLEdBQVgsS0FBaUI7RUFDbEUsSUFBSTtJQUNBLE1BQU1DLElBQUksR0FBRyxJQUFJQyxrQkFBSixDQUFTO01BQ3BCQyxJQUFJLEVBQUUsUUFEYztNQUVwQkMsS0FBSyxFQUFFLGlCQUZhO01BR3BCQyxRQUFRLEVBQUUsV0FIVTtNQUlwQkMsT0FBTyxFQUFFO0lBSlcsQ0FBVCxDQUFiO0lBTUEsTUFBTUMsV0FBVyxHQUFHLE1BQU1OLElBQUksQ0FBQ08sSUFBTCxFQUExQjtJQUNBUixHQUFHLENBQUNTLElBQUosQ0FBU0YsV0FB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","map":{"version":3,"names":["userRouter","express","Router","get","expressAsyncHandler","req","res","user","User","name","email","password","isAdmin","createdUser","save","send","err","status","message","post","signinUser","findOne","body","_id","token","generateToken","put","isAuth","findById","params","id","updatedUser"],"sourceRoot":"C:\\Users\\RISCOH FUNDZ\\Desktop\\jsamazona\\backend\\routers\\","sources":["userRouter.js"],"sourcesContent":["\r\nimport express from 'express';\r\nimport expressAsyncHandler from 'express-async-handler';\r\nimport User from '../models/userModel';\r\nimport { generateToken, isAuth } from '../utils';\r\n \r\n\r\nconst userRouter = express.Router();\r\n\r\nuserRouter.get(\"/createadmin\",  expressAsyncHandler (async (req,res)=>{\r\n    try {\r\n        const user = new User({\r\n          name: 'Riscoh',\r\n          email: 'riscohfundz.com',\r\n          password: 'Adebayo16',\r\n          isAdmin: true,\r\n        });\r\n        const createdUser = await user.save();\r\n        res.send(createdUser);\r\n    } catch(err){\r\n        res.status(500).send({ message: err.message });\r\n    }\r\n})\r\n);\r\nuserRouter.post(\r\n    '/signin',\r\n expressAsyncHandler( async (req, res) =>{\r\n    const signinUser = await User.findOne({\r\n        email: req.body.email,\r\n        password: req.body.password,\r\n    });\r\n    if(!signinUser){\r\n        res.status(401).send({ \r\n          message: 'Invalid Email or Password',\r\n        });\r\n    }else{\r\n        res.send({\r\n            _id: signinUser._id,\r\n            name: signinUser.name,\r\n            email: signinUser.email,\r\n            isAdmin: signinUser.isAdmin,\r\n            token: generateToken(signinUser),\r\n        });\r\n    }\r\n})\r\n);\r\n\r\nuserRouter.post(\r\n    '/register',\r\n expressAsyncHandler(async (req, res) =>{\r\n  const user = new User({\r\n    name: req.body.name,\r\n    email: req.body.email,\r\n    password: req.body.password,\r\n  });\r\n  const createdUser = await user.save();\r\n    if(!createdUser){\r\n        res.status(401).send({ \r\n          message: 'Invalid User Data',\r\n        });\r\n    }else{\r\n        res.send({\r\n            _id: createdUser._id,\r\n            name: createdUser.name,\r\n            email: createdUser.email,\r\n            isAdmin: createdUser.isAdmin,\r\n            token: generateToken(createdUser),\r\n        });\r\n    }\r\n})\r\n);\r\n\r\nuserRouter.put(\r\n    '/:id', \r\n    isAuth,\r\n expressAsyncHandler(async (req, res) =>{\r\n  const user = await User.findById(req.params.id);\r\n  if (!user) {\r\n   res.status(404).send({\r\n    message: 'User Not Found!',\r\n   });\r\n  }else{\r\n    user.name =  req.body.name || user.name;\r\n    user.email =  req.body.email || user.email;\r\n    user.password =  req.body.password || user.password;\r\n    const updatedUser = await user.save();\r\n        res.send({\r\n            _id: updatedUser._id,\r\n            name: updatedUser.name,\r\n            email: updatedUser.email,\r\n            isAdmin: updatedUser.isAdmin,\r\n            token: generateToken(updatedUser),\r\n        });\r\n    }\r\n})\r\n);\r\nexport default userRouter;"],"mappings":"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"}},"mtime":1674076236178},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"filename\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\models\\\\userModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true,\n    index: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  isAdmin: {\n    type: Boolean,\n    required: true,\n    default: false\n  }\n});\n\nconst User = _mongoose.default.model('User', userSchema);\n\nvar _default = User;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiZW1haWwiLCJpbmRleCIsInVuaXF1ZSIsInBhc3N3b3JkIiwiaXNBZG1pbiIsIkJvb2xlYW4iLCJkZWZhdWx0IiwiVXNlciIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFJJU0NPSCBGVU5EWlxcRGVza3RvcFxcanNhbWF6b25hXFxiYWNrZW5kXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsidXNlck1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCB1c2VyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgICBuYW1lOiB7dHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICBlbWFpbDoge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICBpbmRleDogdHJ1ZSxcclxuICAgICAgdW5pcXVlOiB0cnVlXHJcbiAgICB9LFxyXG4gICAgICBwYXNzd29yZDoge3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWV9LFxyXG4gICAgICBpc0FkbWluOiB7dHlwZTogQm9vbGVhbiwgcmVxdWlyZWQ6IHRydWUsIGRlZmF1bHQ6IGZhbHNlfSxcclxufSk7XHJcbmNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbCgnVXNlcicsdXNlclNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IFVzZXI7XHJcbiAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDQTs7OztBQUVBLE1BQU1BLFVBQVUsR0FBRyxJQUFJQyxpQkFBQSxDQUFTQyxNQUFiLENBQW9CO0VBQ25DQyxJQUFJLEVBQUU7SUFBQ0MsSUFBSSxFQUFFQyxNQUFQO0lBQWVDLFFBQVEsRUFBRTtFQUF6QixDQUQ2QjtFQUVuQ0MsS0FBSyxFQUFFO0lBQ0xILElBQUksRUFBRUMsTUFERDtJQUVMQyxRQUFRLEVBQUUsSUFGTDtJQUdMRSxLQUFLLEVBQUUsSUFIRjtJQUlMQyxNQUFNLEVBQUU7RUFKSCxDQUY0QjtFQVFqQ0MsUUFBUSxFQUFFO0lBQUNOLElBQUksRUFBRUMsTUFBUDtJQUFlQyxRQUFRLEVBQUU7RUFBekIsQ0FSdUI7RUFTakNLLE9BQU8sRUFBRTtJQUFDUCxJQUFJLEVBQUVRLE9BQVA7SUFBZ0JOLFFBQVEsRUFBRSxJQUExQjtJQUFnQ08sT0FBTyxFQUFFO0VBQXpDO0FBVHdCLENBQXBCLENBQW5COztBQVdBLE1BQU1DLElBQUksR0FBR2IsaUJBQUEsQ0FBU2MsS0FBVCxDQUFlLE1BQWYsRUFBc0JmLFVBQXRCLENBQWI7O2VBQ2VjLEkifQ==","map":{"version":3,"names":["userSchema","mongoose","Schema","name","type","String","required","email","index","unique","password","isAdmin","Boolean","default","User","model"],"sourceRoot":"C:\\Users\\RISCOH FUNDZ\\Desktop\\jsamazona\\backend\\models\\","sources":["userModel.js"],"sourcesContent":["\r\nimport mongoose from \"mongoose\";\r\n\r\nconst userSchema = new mongoose.Schema({\r\n    name: {type: String, required: true},\r\n    email: {\r\n      type: String,\r\n      required: true,\r\n      index: true,\r\n      unique: true\r\n    },\r\n      password: {type: String, required: true},\r\n      isAdmin: {type: Boolean, required: true, default: false},\r\n});\r\nconst User = mongoose.model('User',userSchema);\r\nexport default User;\r\n "],"mappings":";;;;;;;AACA;;;;AAEA,MAAMA,UAAU,GAAG,IAAIC,iBAAA,CAASC,MAAb,CAAoB;EACnCC,IAAI,EAAE;IAACC,IAAI,EAAEC,MAAP;IAAeC,QAAQ,EAAE;EAAzB,CAD6B;EAEnCC,KAAK,EAAE;IACLH,IAAI,EAAEC,MADD;IAELC,QAAQ,EAAE,IAFL;IAGLE,KAAK,EAAE,IAHF;IAILC,MAAM,EAAE;EAJH,CAF4B;EAQjCC,QAAQ,EAAE;IAACN,IAAI,EAAEC,MAAP;IAAeC,QAAQ,EAAE;EAAzB,CARuB;EASjCK,OAAO,EAAE;IAACP,IAAI,EAAEQ,OAAP;IAAgBN,QAAQ,EAAE,IAA1B;IAAgCO,OAAO,EAAE;EAAzC;AATwB,CAApB,CAAnB;;AAWA,MAAMC,IAAI,GAAGb,iBAAA,CAASc,KAAT,CAAe,MAAf,EAAsBf,UAAtB,CAAb;;eACec,I"}},"mtime":1674074730468},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"filename\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\utils.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isAuth = exports.isAdmin = exports.generateToken = void 0;\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _config = _interopRequireDefault(require(\"./config\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst generateToken = user => {\n  return _jsonwebtoken.default.sign({\n    _id: user._id,\n    name: user.name,\n    email: user.email,\n    isAdmin: user.isAdmin\n  }, _config.default.JWT_SECRET);\n};\n\nexports.generateToken = generateToken;\n\nconst isAuth = (req, res, next) => {\n  const bearerToken = req.headers.authorization;\n\n  if (!bearerToken) {\n    res.status(401).send({\n      message: 'Token is not Supplied'\n    });\n  } else {\n    const token = bearerToken.slice(7, bearerToken.length); // console.log(token);\n\n    _jsonwebtoken.default.verify(token, _config.default.JWT_SECRET, (err, data) => {\n      if (err) {\n        res.status(401).send({\n          message: 'Invalid Token'\n        });\n      } else {\n        req.user = data;\n        next();\n      }\n    });\n  }\n};\n\nexports.isAuth = isAuth;\n\nconst isAdmin = (req, res, next) => {\n  if (req.user && req.user.isAdmin) {\n    next();\n  } else {\n    res.status(401).send({\n      message: 'Token is not valid for a user'\n    });\n  }\n};\n\nexports.isAdmin = isAdmin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZW5lcmF0ZVRva2VuIiwidXNlciIsImp3dCIsInNpZ24iLCJfaWQiLCJuYW1lIiwiZW1haWwiLCJpc0FkbWluIiwiY29uZmlnIiwiSldUX1NFQ1JFVCIsImlzQXV0aCIsInJlcSIsInJlcyIsIm5leHQiLCJiZWFyZXJUb2tlbiIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwic3RhdHVzIiwic2VuZCIsIm1lc3NhZ2UiLCJ0b2tlbiIsInNsaWNlIiwibGVuZ3RoIiwidmVyaWZ5IiwiZXJyIiwiZGF0YSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxSSVNDT0ggRlVORFpcXERlc2t0b3BcXGpzYW1hem9uYVxcYmFja2VuZFxcIiwic291cmNlcyI6WyJ1dGlscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xyXG5pbXBvcnQgY29uZmlnIGZyb20gXCIuL2NvbmZpZ1wiOyBcclxuXHJcbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVRva2VuID0gKHVzZXIpID0+e1xyXG4gICByZXR1cm4gand0LnNpZ24oXHJcbiAgICB7XHJcbiAgICBfaWQ6IHVzZXIuX2lkLFxyXG4gICAgbmFtZTogIHVzZXIubmFtZSxcclxuICAgIGVtYWlsOiAgdXNlci5lbWFpbCxcclxuICAgIGlzQWRtaW46ICB1c2VyLmlzQWRtaW4sXHJcbiAgIH0sXHJcbiAgICBjb25maWcuSldUX1NFQ1JFVCxcclxuICApO1xyXG59O1xyXG5leHBvcnQgY29uc3QgaXNBdXRoID0gKHJlcSwgcmVzLCBuZXh0KSA9PntcclxuICBjb25zdCBiZWFyZXJUb2tlbiA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb247XHJcbiAgaWYgKCFiZWFyZXJUb2tlbikge1xyXG4gICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQgKHttZXNzYWdlOiAnVG9rZW4gaXMgbm90IFN1cHBsaWVkJ30pO1xyXG4gIH1lbHNlIHtcclxuICAgIGNvbnN0IHRva2VuID0gYmVhcmVyVG9rZW4uc2xpY2UoNywgYmVhcmVyVG9rZW4ubGVuZ3RoKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKHRva2VuKTtcclxuICAgIGp3dC52ZXJpZnkodG9rZW4sY29uZmlnLkpXVF9TRUNSRVQsIChlcnIsIGRhdGEpID0+e1xyXG4gICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoe21lc3NhZ2U6ICdJbnZhbGlkIFRva2VuJ30pO1xyXG4gICAgICB9IGVsc2UgeyBcclxuICAgICAgICByZXEudXNlciA9IGRhdGE7XHJcbiAgICAgICAgbmV4dCgpOyBcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5leHBvcnQgY29uc3QgaXNBZG1pbiA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIGlmIChyZXEudXNlciAmJiByZXEudXNlci5pc0FkbWluKSB7XHJcbiAgICBuZXh0KCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHttZXNzYWdlOidUb2tlbiBpcyBub3QgdmFsaWQgZm9yIGEgdXNlcicgfSk7XHJcbiAgfVxyXG59OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBOztBQUNBOzs7O0FBRU8sTUFBTUEsYUFBYSxHQUFJQyxJQUFELElBQVM7RUFDbkMsT0FBT0MscUJBQUEsQ0FBSUMsSUFBSixDQUNOO0lBQ0FDLEdBQUcsRUFBRUgsSUFBSSxDQUFDRyxHQURWO0lBRUFDLElBQUksRUFBR0osSUFBSSxDQUFDSSxJQUZaO0lBR0FDLEtBQUssRUFBR0wsSUFBSSxDQUFDSyxLQUhiO0lBSUFDLE9BQU8sRUFBR04sSUFBSSxDQUFDTTtFQUpmLENBRE0sRUFPTkMsZUFBQSxDQUFPQyxVQVBELENBQVA7QUFTRixDQVZNOzs7O0FBV0EsTUFBTUMsTUFBTSxHQUFHLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW1CO0VBQ3ZDLE1BQU1DLFdBQVcsR0FBR0gsR0FBRyxDQUFDSSxPQUFKLENBQVlDLGFBQWhDOztFQUNBLElBQUksQ0FBQ0YsV0FBTCxFQUFrQjtJQUNoQkYsR0FBRyxDQUFDSyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBc0I7TUFBQ0MsT0FBTyxFQUFFO0lBQVYsQ0FBdEI7RUFDRCxDQUZELE1BRU07SUFDSixNQUFNQyxLQUFLLEdBQUdOLFdBQVcsQ0FBQ08sS0FBWixDQUFrQixDQUFsQixFQUFxQlAsV0FBVyxDQUFDUSxNQUFqQyxDQUFkLENBREksQ0FFSjs7SUFDQXBCLHFCQUFBLENBQUlxQixNQUFKLENBQVdILEtBQVgsRUFBaUJaLGVBQUEsQ0FBT0MsVUFBeEIsRUFBb0MsQ0FBQ2UsR0FBRCxFQUFNQyxJQUFOLEtBQWM7TUFDaEQsSUFBSUQsR0FBSixFQUFTO1FBQ1BaLEdBQUcsQ0FBQ0ssTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO1VBQUNDLE9BQU8sRUFBRTtRQUFWLENBQXJCO01BQ0QsQ0FGRCxNQUVPO1FBQ0xSLEdBQUcsQ0FBQ1YsSUFBSixHQUFXd0IsSUFBWDtRQUNBWixJQUFJO01BQ0w7SUFDRixDQVBEO0VBUUQ7QUFDRixDQWhCTTs7OztBQWlCQSxNQUFNTixPQUFPLEdBQUcsQ0FBQ0ksR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7RUFDekMsSUFBSUYsR0FBRyxDQUFDVixJQUFKLElBQVlVLEdBQUcsQ0FBQ1YsSUFBSixDQUFTTSxPQUF6QixFQUFrQztJQUNoQ00sSUFBSTtFQUNMLENBRkQsTUFFTztJQUNMRCxHQUFHLENBQUNLLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtNQUFDQyxPQUFPLEVBQUM7SUFBVCxDQUFyQjtFQUNEO0FBQ0YsQ0FOTSJ9","map":{"version":3,"names":["generateToken","user","jwt","sign","_id","name","email","isAdmin","config","JWT_SECRET","isAuth","req","res","next","bearerToken","headers","authorization","status","send","message","token","slice","length","verify","err","data"],"sourceRoot":"C:\\Users\\RISCOH FUNDZ\\Desktop\\jsamazona\\backend\\","sources":["utils.js"],"sourcesContent":["\r\nimport jwt from 'jsonwebtoken';\r\nimport config from \"./config\"; \r\n\r\nexport const generateToken = (user) =>{\r\n   return jwt.sign(\r\n    {\r\n    _id: user._id,\r\n    name:  user.name,\r\n    email:  user.email,\r\n    isAdmin:  user.isAdmin,\r\n   },\r\n    config.JWT_SECRET,\r\n  );\r\n};\r\nexport const isAuth = (req, res, next) =>{\r\n  const bearerToken = req.headers.authorization;\r\n  if (!bearerToken) {\r\n    res.status(401).send ({message: 'Token is not Supplied'});\r\n  }else {\r\n    const token = bearerToken.slice(7, bearerToken.length);\r\n    // console.log(token);\r\n    jwt.verify(token,config.JWT_SECRET, (err, data) =>{\r\n      if (err) {\r\n        res.status(401).send({message: 'Invalid Token'});\r\n      } else { \r\n        req.user = data;\r\n        next(); \r\n      }\r\n    });\r\n  }\r\n};\r\nexport const isAdmin = (req, res, next) => {\r\n  if (req.user && req.user.isAdmin) {\r\n    next();\r\n  } else {\r\n    res.status(401).send({message:'Token is not valid for a user' });\r\n  }\r\n};"],"mappings":";;;;;;;AACA;;AACA;;;;AAEO,MAAMA,aAAa,GAAIC,IAAD,IAAS;EACnC,OAAOC,qBAAA,CAAIC,IAAJ,CACN;IACAC,GAAG,EAAEH,IAAI,CAACG,GADV;IAEAC,IAAI,EAAGJ,IAAI,CAACI,IAFZ;IAGAC,KAAK,EAAGL,IAAI,CAACK,KAHb;IAIAC,OAAO,EAAGN,IAAI,CAACM;EAJf,CADM,EAONC,eAAA,CAAOC,UAPD,CAAP;AASF,CAVM;;;;AAWA,MAAMC,MAAM,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAmB;EACvC,MAAMC,WAAW,GAAGH,GAAG,CAACI,OAAJ,CAAYC,aAAhC;;EACA,IAAI,CAACF,WAAL,EAAkB;IAChBF,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAsB;MAACC,OAAO,EAAE;IAAV,CAAtB;EACD,CAFD,MAEM;IACJ,MAAMC,KAAK,GAAGN,WAAW,CAACO,KAAZ,CAAkB,CAAlB,EAAqBP,WAAW,CAACQ,MAAjC,CAAd,CADI,CAEJ;;IACApB,qBAAA,CAAIqB,MAAJ,CAAWH,KAAX,EAAiBZ,eAAA,CAAOC,UAAxB,EAAoC,CAACe,GAAD,EAAMC,IAAN,KAAc;MAChD,IAAID,GAAJ,EAAS;QACPZ,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;UAACC,OAAO,EAAE;QAAV,CAArB;MACD,CAFD,MAEO;QACLR,GAAG,CAACV,IAAJ,GAAWwB,IAAX;QACAZ,IAAI;MACL;IACF,CAPD;EAQD;AACF,CAhBM;;;;AAiBA,MAAMN,OAAO,GAAG,CAACI,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;EACzC,IAAIF,GAAG,CAACV,IAAJ,IAAYU,GAAG,CAACV,IAAJ,CAASM,OAAzB,EAAkC;IAChCM,IAAI;EACL,CAFD,MAEO;IACLD,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;MAACC,OAAO,EAAC;IAAT,CAArB;EACD;AACF,CANM"}},"mtime":1671662833890},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"filename\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\utils.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isAuth = exports.isAdmin = exports.generateToken = void 0;\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _config = _interopRequireDefault(require(\"./config\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst generateToken = user => {\n  return _jsonwebtoken.default.sign({\n    _id: user._id,\n    name: user.name,\n    email: user.email,\n    isAdmin: user.isAdmin\n  }, _config.default.JWT_SECRET);\n};\n\nexports.generateToken = generateToken;\n\nconst isAuth = (req, res, next) => {\n  const bearerToken = req.headers.authorization;\n\n  if (!bearerToken) {\n    res.status(401).send({\n      message: 'Token is not Supplied'\n    });\n  } else {\n    const token = bearerToken.slice(7, bearerToken.length); // console.log(token);\n\n    _jsonwebtoken.default.verify(token, _config.default.JWT_SECRET, (err, data) => {\n      if (err) {\n        res.status(401).send({\n          message: 'Invalid Token'\n        });\n      } else {\n        req.user = data;\n        next();\n      }\n    });\n  }\n};\n\nexports.isAuth = isAuth;\n\nconst isAdmin = (req, res, next) => {\n  if (req.user && req.user.isAdmin) {\n    next();\n  } else {\n    res.status(401).send({\n      message: 'Token is not valid for a user'\n    });\n  }\n};\n\nexports.isAdmin = isAdmin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZW5lcmF0ZVRva2VuIiwidXNlciIsImp3dCIsInNpZ24iLCJfaWQiLCJuYW1lIiwiZW1haWwiLCJpc0FkbWluIiwiY29uZmlnIiwiSldUX1NFQ1JFVCIsImlzQXV0aCIsInJlcSIsInJlcyIsIm5leHQiLCJiZWFyZXJUb2tlbiIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwic3RhdHVzIiwic2VuZCIsIm1lc3NhZ2UiLCJ0b2tlbiIsInNsaWNlIiwibGVuZ3RoIiwidmVyaWZ5IiwiZXJyIiwiZGF0YSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxSSVNDT0ggRlVORFpcXERlc2t0b3BcXGpzYW1hem9uYVxcYmFja2VuZFxcIiwic291cmNlcyI6WyJ1dGlscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xyXG5pbXBvcnQgY29uZmlnIGZyb20gXCIuL2NvbmZpZ1wiOyBcclxuXHJcbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVRva2VuID0gKHVzZXIpID0+e1xyXG4gICByZXR1cm4gand0LnNpZ24oXHJcbiAgICB7XHJcbiAgICBfaWQ6IHVzZXIuX2lkLFxyXG4gICAgbmFtZTogIHVzZXIubmFtZSxcclxuICAgIGVtYWlsOiAgdXNlci5lbWFpbCxcclxuICAgIGlzQWRtaW46ICB1c2VyLmlzQWRtaW4sXHJcbiAgIH0sXHJcbiAgICBjb25maWcuSldUX1NFQ1JFVCxcclxuICApO1xyXG59O1xyXG5leHBvcnQgY29uc3QgaXNBdXRoID0gKHJlcSwgcmVzLCBuZXh0KSA9PntcclxuICBjb25zdCBiZWFyZXJUb2tlbiA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb247XHJcbiAgaWYgKCFiZWFyZXJUb2tlbikge1xyXG4gICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQgKHttZXNzYWdlOiAnVG9rZW4gaXMgbm90IFN1cHBsaWVkJ30pO1xyXG4gIH1lbHNlIHtcclxuICAgIGNvbnN0IHRva2VuID0gYmVhcmVyVG9rZW4uc2xpY2UoNywgYmVhcmVyVG9rZW4ubGVuZ3RoKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKHRva2VuKTtcclxuICAgIGp3dC52ZXJpZnkodG9rZW4sY29uZmlnLkpXVF9TRUNSRVQsIChlcnIsIGRhdGEpID0+e1xyXG4gICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoe21lc3NhZ2U6ICdJbnZhbGlkIFRva2VuJ30pO1xyXG4gICAgICB9IGVsc2UgeyBcclxuICAgICAgICByZXEudXNlciA9IGRhdGE7XHJcbiAgICAgICAgbmV4dCgpOyBcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5leHBvcnQgY29uc3QgaXNBZG1pbiA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIGlmIChyZXEudXNlciAmJiByZXEudXNlci5pc0FkbWluKSB7XHJcbiAgICBuZXh0KCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHttZXNzYWdlOidUb2tlbiBpcyBub3QgdmFsaWQgZm9yIGEgdXNlcicgfSk7XHJcbiAgfVxyXG59OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBOztBQUNBOzs7O0FBRU8sTUFBTUEsYUFBYSxHQUFJQyxJQUFELElBQVM7RUFDbkMsT0FBT0MscUJBQUEsQ0FBSUMsSUFBSixDQUNOO0lBQ0FDLEdBQUcsRUFBRUgsSUFBSSxDQUFDRyxHQURWO0lBRUFDLElBQUksRUFBR0osSUFBSSxDQUFDSSxJQUZaO0lBR0FDLEtBQUssRUFBR0wsSUFBSSxDQUFDSyxLQUhiO0lBSUFDLE9BQU8sRUFBR04sSUFBSSxDQUFDTTtFQUpmLENBRE0sRUFPTkMsZUFBQSxDQUFPQyxVQVBELENBQVA7QUFTRixDQVZNOzs7O0FBV0EsTUFBTUMsTUFBTSxHQUFHLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW1CO0VBQ3ZDLE1BQU1DLFdBQVcsR0FBR0gsR0FBRyxDQUFDSSxPQUFKLENBQVlDLGFBQWhDOztFQUNBLElBQUksQ0FBQ0YsV0FBTCxFQUFrQjtJQUNoQkYsR0FBRyxDQUFDSyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBc0I7TUFBQ0MsT0FBTyxFQUFFO0lBQVYsQ0FBdEI7RUFDRCxDQUZELE1BRU07SUFDSixNQUFNQyxLQUFLLEdBQUdOLFdBQVcsQ0FBQ08sS0FBWixDQUFrQixDQUFsQixFQUFxQlAsV0FBVyxDQUFDUSxNQUFqQyxDQUFkLENBREksQ0FFSjs7SUFDQXBCLHFCQUFBLENBQUlxQixNQUFKLENBQVdILEtBQVgsRUFBaUJaLGVBQUEsQ0FBT0MsVUFBeEIsRUFBb0MsQ0FBQ2UsR0FBRCxFQUFNQyxJQUFOLEtBQWM7TUFDaEQsSUFBSUQsR0FBSixFQUFTO1FBQ1BaLEdBQUcsQ0FBQ0ssTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO1VBQUNDLE9BQU8sRUFBRTtRQUFWLENBQXJCO01BQ0QsQ0FGRCxNQUVPO1FBQ0xSLEdBQUcsQ0FBQ1YsSUFBSixHQUFXd0IsSUFBWDtRQUNBWixJQUFJO01BQ0w7SUFDRixDQVBEO0VBUUQ7QUFDRixDQWhCTTs7OztBQWlCQSxNQUFNTixPQUFPLEdBQUcsQ0FBQ0ksR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7RUFDekMsSUFBSUYsR0FBRyxDQUFDVixJQUFKLElBQVlVLEdBQUcsQ0FBQ1YsSUFBSixDQUFTTSxPQUF6QixFQUFrQztJQUNoQ00sSUFBSTtFQUNMLENBRkQsTUFFTztJQUNMRCxHQUFHLENBQUNLLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtNQUFDQyxPQUFPLEVBQUM7SUFBVCxDQUFyQjtFQUNEO0FBQ0YsQ0FOTSJ9","map":{"version":3,"names":["generateToken","user","jwt","sign","_id","name","email","isAdmin","config","JWT_SECRET","isAuth","req","res","next","bearerToken","headers","authorization","status","send","message","token","slice","length","verify","err","data"],"sourceRoot":"C:\\Users\\RISCOH FUNDZ\\Desktop\\jsamazona\\backend\\","sources":["utils.js"],"sourcesContent":["\r\nimport jwt from 'jsonwebtoken';\r\nimport config from \"./config\"; \r\n\r\nexport const generateToken = (user) =>{\r\n   return jwt.sign(\r\n    {\r\n    _id: user._id,\r\n    name:  user.name,\r\n    email:  user.email,\r\n    isAdmin:  user.isAdmin,\r\n   },\r\n    config.JWT_SECRET,\r\n  );\r\n};\r\nexport const isAuth = (req, res, next) =>{\r\n  const bearerToken = req.headers.authorization;\r\n  if (!bearerToken) {\r\n    res.status(401).send ({message: 'Token is not Supplied'});\r\n  }else {\r\n    const token = bearerToken.slice(7, bearerToken.length);\r\n    // console.log(token);\r\n    jwt.verify(token,config.JWT_SECRET, (err, data) =>{\r\n      if (err) {\r\n        res.status(401).send({message: 'Invalid Token'});\r\n      } else { \r\n        req.user = data;\r\n        next(); \r\n      }\r\n    });\r\n  }\r\n};\r\nexport const isAdmin = (req, res, next) => {\r\n  if (req.user && req.user.isAdmin) {\r\n    next();\r\n  } else {\r\n    res.status(401).send({message:'Token is not valid for a user' });\r\n  }\r\n};"],"mappings":";;;;;;;AACA;;AACA;;;;AAEO,MAAMA,aAAa,GAAIC,IAAD,IAAS;EACnC,OAAOC,qBAAA,CAAIC,IAAJ,CACN;IACAC,GAAG,EAAEH,IAAI,CAACG,GADV;IAEAC,IAAI,EAAGJ,IAAI,CAACI,IAFZ;IAGAC,KAAK,EAAGL,IAAI,CAACK,KAHb;IAIAC,OAAO,EAAGN,IAAI,CAACM;EAJf,CADM,EAONC,eAAA,CAAOC,UAPD,CAAP;AASF,CAVM;;;;AAWA,MAAMC,MAAM,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAmB;EACvC,MAAMC,WAAW,GAAGH,GAAG,CAACI,OAAJ,CAAYC,aAAhC;;EACA,IAAI,CAACF,WAAL,EAAkB;IAChBF,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAsB;MAACC,OAAO,EAAE;IAAV,CAAtB;EACD,CAFD,MAEM;IACJ,MAAMC,KAAK,GAAGN,WAAW,CAACO,KAAZ,CAAkB,CAAlB,EAAqBP,WAAW,CAACQ,MAAjC,CAAd,CADI,CAEJ;;IACApB,qBAAA,CAAIqB,MAAJ,CAAWH,KAAX,EAAiBZ,eAAA,CAAOC,UAAxB,EAAoC,CAACe,GAAD,EAAMC,IAAN,KAAc;MAChD,IAAID,GAAJ,EAAS;QACPZ,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;UAACC,OAAO,EAAE;QAAV,CAArB;MACD,CAFD,MAEO;QACLR,GAAG,CAACV,IAAJ,GAAWwB,IAAX;QACAZ,IAAI;MACL;IACF,CAPD;EAQD;AACF,CAhBM;;;;AAiBA,MAAMN,OAAO,GAAG,CAACI,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;EACzC,IAAIF,GAAG,CAACV,IAAJ,IAAYU,GAAG,CAACV,IAAJ,CAASM,OAAzB,EAAkC;IAChCM,IAAI;EACL,CAFD,MAEO;IACLD,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;MAACC,OAAO,EAAC;IAAT,CAArB;EACD;AACF,CANM"}},"mtime":1671662833890},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"filename\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\routers\\\\orderRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _utils = require(\"../utils\");\n\nvar _orderModel = _interopRequireDefault(require(\"../models/orderModel\"));\n\nvar _userModel = _interopRequireDefault(require(\"../models/userModel\"));\n\nvar _productModel = _interopRequireDefault(require(\"../models/productModel\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst orderRouter = _express.default.Router();\n\norderRouter.get('/summary', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _orderModel.default.aggregate([{\n    $group: {\n      _id: null,\n      numOrders: {\n        $sum: 1\n      },\n      totalSales: {\n        $sum: '$totalPrice'\n      }\n    }\n  }]);\n  const users = await _userModel.default.aggregate([{\n    $group: {\n      _id: null,\n      numUsers: {\n        $sum: 1\n      }\n    }\n  }]);\n  const dailyOrders = await _orderModel.default.aggregate([{\n    $group: {\n      _id: {\n        $dateToString: {\n          format: '%Y-%m-%d',\n          date: '$createdAt'\n        }\n      },\n      orders: {\n        $sum: 1\n      },\n      sales: {\n        $sum: '$totalPrice'\n      }\n    }\n  }]);\n  const productCategories = await _productModel.default.aggregate([{\n    $group: {\n      _id: '$category',\n      count: {\n        $sum: 1\n      }\n    }\n  }]);\n  res.send({\n    users,\n    orders: orders.length === 0 ? [{\n      numOrders: 0,\n      totalSales: 0\n    }] : orders,\n    dailyOrders,\n    productCategories\n  });\n}));\norderRouter.get('/', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _orderModel.default.find({}).populate('user');\n  res.send(orders);\n}));\norderRouter.get('/mine', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _orderModel.default.find({\n    user: req.user._id\n  });\n  res.send(orders);\n}));\norderRouter.get('/:id', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    res.send(order);\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found'\n    });\n  }\n}));\norderRouter.post('/', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = new _orderModel.default({\n    orderItems: req.body.orderItems,\n    user: req.user._id,\n    shipping: req.body.shipping,\n    payment: req.body.payment,\n    itemsPrice: req.body.itemsPrice,\n    taxPrice: req.body.taxPrice,\n    shippingPrice: req.body.shippingPrice,\n    totalPrice: req.body.totalPrice\n  });\n  const createdOrder = await order.save();\n  res.status(201).send({\n    message: 'New Order Created',\n    order: createdOrder\n  });\n}));\norderRouter.delete('/:id', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    const deletedOrder = await order.remove();\n    res.send({\n      message: 'Order Deleted',\n      product: deletedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found!'\n    });\n  }\n}));\norderRouter.put('/:id/pay', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    order.isPaid = true;\n    order.paidAt = Date.now();\n    order.payment.paymentResult = {\n      payerID: req.body.payerID,\n      paymentID: req.body.paymentID,\n      orderID: req.body.orderID\n    };\n    const updatedOrder = await order.save();\n    res.send({\n      message: 'Order Paid',\n      order: updatedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found.'\n    });\n  }\n}));\norderRouter.put('/:id/deliver', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    order.isDelivered = true;\n    order.deliveredAt = Date.now();\n    const updatedOrder = await order.save();\n    res.send({\n      message: 'Order Delivered',\n      order: updatedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found.'\n    });\n  }\n}));\nvar _default = orderRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJvcmRlclJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJnZXQiLCJpc0F1dGgiLCJpc0FkbWluIiwiZXhwcmVzc0FzeW5jSGFuZGxlciIsInJlcSIsInJlcyIsIm9yZGVycyIsIk9yZGVyIiwiYWdncmVnYXRlIiwiJGdyb3VwIiwiX2lkIiwibnVtT3JkZXJzIiwiJHN1bSIsInRvdGFsU2FsZXMiLCJ1c2VycyIsIlVzZXIiLCJudW1Vc2VycyIsImRhaWx5T3JkZXJzIiwiJGRhdGVUb1N0cmluZyIsImZvcm1hdCIsImRhdGUiLCJzYWxlcyIsInByb2R1Y3RDYXRlZ29yaWVzIiwiUHJvZHVjdCIsImNvdW50Iiwic2VuZCIsImxlbmd0aCIsImZpbmQiLCJwb3B1bGF0ZSIsInVzZXIiLCJvcmRlciIsImZpbmRCeUlkIiwicGFyYW1zIiwiaWQiLCJzdGF0dXMiLCJtZXNzYWdlIiwicG9zdCIsIm9yZGVySXRlbXMiLCJib2R5Iiwic2hpcHBpbmciLCJwYXltZW50IiwiaXRlbXNQcmljZSIsInRheFByaWNlIiwic2hpcHBpbmdQcmljZSIsInRvdGFsUHJpY2UiLCJjcmVhdGVkT3JkZXIiLCJzYXZlIiwiZGVsZXRlIiwiZGVsZXRlZE9yZGVyIiwicmVtb3ZlIiwicHJvZHVjdCIsInB1dCIsImlzUGFpZCIsInBhaWRBdCIsIkRhdGUiLCJub3ciLCJwYXltZW50UmVzdWx0IiwicGF5ZXJJRCIsInBheW1lbnRJRCIsIm9yZGVySUQiLCJ1cGRhdGVkT3JkZXIiLCJpc0RlbGl2ZXJlZCIsImRlbGl2ZXJlZEF0Il0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFJJU0NPSCBGVU5EWlxcRGVza3RvcFxcanNhbWF6b25hXFxiYWNrZW5kXFxyb3V0ZXJzXFwiLCJzb3VyY2VzIjpbIm9yZGVyUm91dGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IGV4cHJlc3NBc3luY0hhbmRsZXIgZnJvbSAnZXhwcmVzcy1hc3luYy1oYW5kbGVyJztcclxuaW1wb3J0IHsgaXNBZG1pbiwgaXNBdXRoIH0gZnJvbSAnLi4vdXRpbHMnO1xyXG5pbXBvcnQgT3JkZXIgZnJvbSAnLi4vbW9kZWxzL29yZGVyTW9kZWwnO1xyXG5pbXBvcnQgVXNlciBmcm9tICcuLi9tb2RlbHMvdXNlck1vZGVsJztcclxuaW1wb3J0IFByb2R1Y3QgZnJvbSAnLi4vbW9kZWxzL3Byb2R1Y3RNb2RlbCc7XHJcblxyXG5jb25zdCBvcmRlclJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcbm9yZGVyUm91dGVyLmdldCgnL3N1bW1hcnknLCBpc0F1dGgsIGlzQWRtaW4sIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3Qgb3JkZXJzID0gYXdhaXQgT3JkZXIuYWdncmVnYXRlKFtcclxuICAgIHtcclxuICAgICAgJGdyb3VwOiB7XHJcbiAgICAgICAgX2lkOiBudWxsLFxyXG4gICAgICAgIG51bU9yZGVyczogeyAkc3VtOiAxIH0sXHJcbiAgICAgICAgdG90YWxTYWxlczogeyRzdW06ICckdG90YWxQcmljZSd9XHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gIF0pO1xyXG4gIGNvbnN0IHVzZXJzID0gYXdhaXQgVXNlci5hZ2dyZWdhdGUoW1xyXG4gICAge1xyXG4gICAgICAkZ3JvdXA6IHtcclxuICAgICAgICBfaWQ6IG51bGwsXHJcbiAgICAgICAgbnVtVXNlcnM6IHsgJHN1bTogMSB9LFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICBdKTtcclxuXHJcbiAgY29uc3QgZGFpbHlPcmRlcnMgPSBhd2FpdCBPcmRlci5hZ2dyZWdhdGUoW1xyXG4gICAge1xyXG4gICAgICAkZ3JvdXA6IHtcclxuICAgICAgICBfaWQ6IHskZGF0ZVRvU3RyaW5nOiB7Zm9ybWF0OiAnJVktJW0tJWQnLCBkYXRlOiAnJGNyZWF0ZWRBdCd9fSxcclxuICAgICAgICBvcmRlcnM6IHskc3VtOiAxfSxcclxuICAgICAgICBzYWxlczogeyRzdW06ICckdG90YWxQcmljZSd9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICBdKVxyXG5cclxuICBjb25zdCBwcm9kdWN0Q2F0ZWdvcmllcyA9IGF3YWl0IFByb2R1Y3QuYWdncmVnYXRlKFtcclxuICAgIHtcclxuICAgICAgJGdyb3VwOiB7XHJcbiAgICAgICAgX2lkOiAnJGNhdGVnb3J5JyxcclxuICAgICAgICBjb3VudDogeyRzdW06IDF9LFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICBdKTtcclxuICByZXMuc2VuZCh7XHJcbiAgICB1c2VycyxcclxuICAgIG9yZGVyczogb3JkZXJzLmxlbmd0aCA9PT0gMCA/IFt7bnVtT3JkZXJzOiAwLCB0b3RhbFNhbGVzOiAwfV0gOiBvcmRlcnMsXHJcbiAgIGRhaWx5T3JkZXJzLFxyXG4gICBwcm9kdWN0Q2F0ZWdvcmllcyxcclxuICAgfSk7XHJcbiAgfSlcclxuKTtcclxub3JkZXJSb3V0ZXIuZ2V0KFxyXG4gICcvJywgXHJcbiAgaXNBdXRoLFxyXG4gIGlzQWRtaW4sIFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIgKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3Qgb3JkZXJzID0gYXdhaXQgT3JkZXIuZmluZCh7fSkucG9wdWxhdGUoJ3VzZXInKTtcclxuICAgIHJlcy5zZW5kKG9yZGVycyk7XHJcbiAgfSlcclxuICApO1xyXG5cclxub3JkZXJSb3V0ZXIuZ2V0KFxyXG4gICcvbWluZScsXHJcbiAgIGlzQXV0aCxcclxuICAgIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKT0+e1xyXG4gICAgIGNvbnN0IG9yZGVycyA9IGF3YWl0IE9yZGVyLmZpbmQoe3VzZXI6IHJlcS51c2VyLl9pZCB9KTtcclxuICAgICByZXMuc2VuZChvcmRlcnMpXHJcbn0pXHJcbik7XHJcbm9yZGVyUm91dGVyLmdldChcclxuICAnLzppZCcsXHJcbiAgaXNBdXRoLFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKT0+e1xyXG4gIGNvbnN0IG9yZGVyID0gYXdhaXQgT3JkZXIuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XHJcbiAgaWYgKG9yZGVyKSB7XHJcbiAgICByZXMuc2VuZChvcmRlcik7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHttZXNzYWdlOiAnT3JkZXIgTm90IEZvdW5kJ30pO1xyXG4gIH1cclxuIH0pXHJcbik7XHJcblxyXG5vcmRlclJvdXRlci5wb3N0KFxyXG4gICcvJywgXHJcbmlzQXV0aCwgXHJcbmV4cHJlc3NBc3luY0hhbmRsZXIgKGFzeW5jKHJlcSwgcmVzKT0+e1xyXG4gICAgY29uc3Qgb3JkZXIgPSBuZXcgT3JkZXIoe1xyXG4gICAgICAgIG9yZGVySXRlbXM6IHJlcS5ib2R5Lm9yZGVySXRlbXMsXHJcbiAgICAgICAgdXNlcjogcmVxLnVzZXIuX2lkLFxyXG4gICAgICAgIHNoaXBwaW5nOiByZXEuYm9keS5zaGlwcGluZyxcclxuICAgICAgICBwYXltZW50OiByZXEuYm9keS5wYXltZW50LFxyXG4gICAgICAgIGl0ZW1zUHJpY2U6IHJlcS5ib2R5Lml0ZW1zUHJpY2UsXHJcbiAgICAgICAgdGF4UHJpY2U6IHJlcS5ib2R5LnRheFByaWNlLFxyXG4gICAgICAgIHNoaXBwaW5nUHJpY2U6IHJlcS5ib2R5LnNoaXBwaW5nUHJpY2UsXHJcbiAgICAgICAgdG90YWxQcmljZTogcmVxLmJvZHkudG90YWxQcmljZSxcclxuXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGNyZWF0ZWRPcmRlciA9IGF3YWl0IG9yZGVyLnNhdmUoKTtcclxuICAgIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHttZXNzYWdlOiAnTmV3IE9yZGVyIENyZWF0ZWQnLCBvcmRlcjogY3JlYXRlZE9yZGVyIH0pXHJcbiAgfSlcclxuKTtcclxuXHJcbm9yZGVyUm91dGVyLmRlbGV0ZShcclxuICAnLzppZCcsXHJcbiAgaXNBdXRoLCBcclxuICBpc0FkbWluLFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIgKGFzeW5jIChyZXEsIHJlcykgPT57XHJcbiAgY29uc3Qgb3JkZXIgPSBhd2FpdCBPcmRlci5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcclxuICBpZiAob3JkZXIpIHtcclxuICAgICAgY29uc3QgZGVsZXRlZE9yZGVyID0gYXdhaXQgb3JkZXIucmVtb3ZlKCk7XHJcbiAgICAgIHJlcy5zZW5kKHttZXNzYWdlOiAnT3JkZXIgRGVsZXRlZCcsIHByb2R1Y3Q6IGRlbGV0ZWRPcmRlciB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7bWVzc2FnZTogJ09yZGVyIE5vdCBGb3VuZCEnfSk7XHJcbiAgfVxyXG59KVxyXG4pO1xyXG5cclxub3JkZXJSb3V0ZXIucHV0KFxyXG4gICcvOmlkL3BheScsXHJcbiAgIGlzQXV0aCxcclxuICAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpPT57XHJcbiAgY29uc3Qgb3JkZXIgPSBhd2FpdCBPcmRlci5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcclxuICBpZiAob3JkZXIpe1xyXG4gICAgb3JkZXIuaXNQYWlkID0gdHJ1ZTtcclxuICAgIG9yZGVyLnBhaWRBdCA9IERhdGUubm93KCk7XHJcbiAgICBvcmRlci5wYXltZW50LnBheW1lbnRSZXN1bHQgPSB7XHJcbiAgICAgIHBheWVySUQ6IHJlcS5ib2R5LnBheWVySUQsXHJcbiAgICAgIHBheW1lbnRJRDogcmVxLmJvZHkucGF5bWVudElELFxyXG4gICAgICBvcmRlcklEOiByZXEuYm9keS5vcmRlcklELFxyXG4gICAgfTtcclxuICAgIGNvbnN0IHVwZGF0ZWRPcmRlcj0gYXdhaXQgb3JkZXIuc2F2ZSgpO1xyXG4gICAgcmVzLnNlbmQoe21lc3NhZ2U6ICdPcmRlciBQYWlkJywgb3JkZXI6IHVwZGF0ZWRPcmRlcn0pO1xyXG4gIH1lbHNlIHtcclxuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHttZXNzYWdlOiAnT3JkZXIgTm90IEZvdW5kLid9KVxyXG4gIH1cclxufSlcclxuKTtcclxuXHJcbm9yZGVyUm91dGVyLnB1dChcclxuICAnLzppZC9kZWxpdmVyJyxcclxuICAgaXNBdXRoLFxyXG4gICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcyk9PntcclxuICBjb25zdCBvcmRlciA9IGF3YWl0IE9yZGVyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xyXG4gIGlmIChvcmRlcil7XHJcbiAgICBvcmRlci5pc0RlbGl2ZXJlZCA9IHRydWU7XHJcbiAgICBvcmRlci5kZWxpdmVyZWRBdCA9IERhdGUubm93KCk7XHJcbiAgICBjb25zdCB1cGRhdGVkT3JkZXI9IGF3YWl0IG9yZGVyLnNhdmUoKTtcclxuICAgIHJlcy5zZW5kKHttZXNzYWdlOiAnT3JkZXIgRGVsaXZlcmVkJywgb3JkZXI6IHVwZGF0ZWRPcmRlcn0pO1xyXG4gIH1lbHNlIHtcclxuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHttZXNzYWdlOiAnT3JkZXIgTm90IEZvdW5kLid9KVxyXG4gIH1cclxufSlcclxuKTtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBvcmRlclJvdXRlcjsgIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxXQUFXLEdBQUdDLGdCQUFBLENBQVFDLE1BQVIsRUFBcEI7O0FBQ0FGLFdBQVcsQ0FBQ0csR0FBWixDQUFnQixVQUFoQixFQUE0QkMsYUFBNUIsRUFBb0NDLGNBQXBDLEVBQTZDLElBQUFDLDRCQUFBLEVBQW9CLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtFQUNuRixNQUFNQyxNQUFNLEdBQUcsTUFBTUMsbUJBQUEsQ0FBTUMsU0FBTixDQUFnQixDQUNuQztJQUNFQyxNQUFNLEVBQUU7TUFDTkMsR0FBRyxFQUFFLElBREM7TUFFTkMsU0FBUyxFQUFFO1FBQUVDLElBQUksRUFBRTtNQUFSLENBRkw7TUFHTkMsVUFBVSxFQUFFO1FBQUNELElBQUksRUFBRTtN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","map":{"version":3,"names":["orderRouter","express","Router","get","isAuth","isAdmin","expressAsyncHandler","req","res","orders","Order","aggregate","$group","_id","numOrders","$sum","totalSales","users","User","numUsers","dailyOrders","$dateToString","format","date","sales","productCategories","Product","count","send","length","find","populate","user","order","findById","params","id","status","message","post","orderItems","body","shipping","payment","itemsPrice","taxPrice","shippingPrice","totalPrice","createdOrder","save","delete","deletedOrder","remove","product","put","isPaid","paidAt","Date","now","paymentResult","payerID","paymentID","orderID","updatedOrder","isDelivered","deliveredAt"],"sourceRoot":"C:\\Users\\RISCOH FUNDZ\\Desktop\\jsamazona\\backend\\routers\\","sources":["orderRouter.js"],"sourcesContent":["\r\nimport express from 'express';\r\nimport expressAsyncHandler from 'express-async-handler';\r\nimport { isAdmin, isAuth } from '../utils';\r\nimport Order from '../models/orderModel';\r\nimport User from '../models/userModel';\r\nimport Product from '../models/productModel';\r\n\r\nconst orderRouter = express.Router();\r\norderRouter.get('/summary', isAuth, isAdmin, expressAsyncHandler(async (req, res) => {\r\n  const orders = await Order.aggregate([\r\n    {\r\n      $group: {\r\n        _id: null,\r\n        numOrders: { $sum: 1 },\r\n        totalSales: {$sum: '$totalPrice'}\r\n      },\r\n    },\r\n  ]);\r\n  const users = await User.aggregate([\r\n    {\r\n      $group: {\r\n        _id: null,\r\n        numUsers: { $sum: 1 },\r\n      },\r\n    },\r\n  ]);\r\n\r\n  const dailyOrders = await Order.aggregate([\r\n    {\r\n      $group: {\r\n        _id: {$dateToString: {format: '%Y-%m-%d', date: '$createdAt'}},\r\n        orders: {$sum: 1},\r\n        sales: {$sum: '$totalPrice'}\r\n      }\r\n    }\r\n  ])\r\n\r\n  const productCategories = await Product.aggregate([\r\n    {\r\n      $group: {\r\n        _id: '$category',\r\n        count: {$sum: 1},\r\n      },\r\n    },\r\n  ]);\r\n  res.send({\r\n    users,\r\n    orders: orders.length === 0 ? [{numOrders: 0, totalSales: 0}] : orders,\r\n   dailyOrders,\r\n   productCategories,\r\n   });\r\n  })\r\n);\r\norderRouter.get(\r\n  '/', \r\n  isAuth,\r\n  isAdmin, \r\n  expressAsyncHandler (async (req, res) => {\r\n    const orders = await Order.find({}).populate('user');\r\n    res.send(orders);\r\n  })\r\n  );\r\n\r\norderRouter.get(\r\n  '/mine',\r\n   isAuth,\r\n    expressAsyncHandler(async (req, res)=>{\r\n     const orders = await Order.find({user: req.user._id });\r\n     res.send(orders)\r\n})\r\n);\r\norderRouter.get(\r\n  '/:id',\r\n  isAuth,\r\n  expressAsyncHandler(async (req, res)=>{\r\n  const order = await Order.findById(req.params.id);\r\n  if (order) {\r\n    res.send(order);\r\n  } else {\r\n    res.status(404).send({message: 'Order Not Found'});\r\n  }\r\n })\r\n);\r\n\r\norderRouter.post(\r\n  '/', \r\nisAuth, \r\nexpressAsyncHandler (async(req, res)=>{\r\n    const order = new Order({\r\n        orderItems: req.body.orderItems,\r\n        user: req.user._id,\r\n        shipping: req.body.shipping,\r\n        payment: req.body.payment,\r\n        itemsPrice: req.body.itemsPrice,\r\n        taxPrice: req.body.taxPrice,\r\n        shippingPrice: req.body.shippingPrice,\r\n        totalPrice: req.body.totalPrice,\r\n\r\n    });\r\n    const createdOrder = await order.save();\r\n    res.status(201).send({message: 'New Order Created', order: createdOrder })\r\n  })\r\n);\r\n\r\norderRouter.delete(\r\n  '/:id',\r\n  isAuth, \r\n  isAdmin,\r\n  expressAsyncHandler (async (req, res) =>{\r\n  const order = await Order.findById(req.params.id);\r\n  if (order) {\r\n      const deletedOrder = await order.remove();\r\n      res.send({message: 'Order Deleted', product: deletedOrder });\r\n  } else {\r\n      res.status(404).send({message: 'Order Not Found!'});\r\n  }\r\n})\r\n);\r\n\r\norderRouter.put(\r\n  '/:id/pay',\r\n   isAuth,\r\n   expressAsyncHandler(async (req, res)=>{\r\n  const order = await Order.findById(req.params.id);\r\n  if (order){\r\n    order.isPaid = true;\r\n    order.paidAt = Date.now();\r\n    order.payment.paymentResult = {\r\n      payerID: req.body.payerID,\r\n      paymentID: req.body.paymentID,\r\n      orderID: req.body.orderID,\r\n    };\r\n    const updatedOrder= await order.save();\r\n    res.send({message: 'Order Paid', order: updatedOrder});\r\n  }else {\r\n    res.status(404).send({message: 'Order Not Found.'})\r\n  }\r\n})\r\n);\r\n\r\norderRouter.put(\r\n  '/:id/deliver',\r\n   isAuth,\r\n   expressAsyncHandler(async (req, res)=>{\r\n  const order = await Order.findById(req.params.id);\r\n  if (order){\r\n    order.isDelivered = true;\r\n    order.deliveredAt = Date.now();\r\n    const updatedOrder= await order.save();\r\n    res.send({message: 'Order Delivered', order: updatedOrder});\r\n  }else {\r\n    res.status(404).send({message: 'Order Not Found.'})\r\n  }\r\n})\r\n);\r\n\r\n\r\nexport default orderRouter; "],"mappings":"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"}},"mtime":1673977186562},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"filename\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\models\\\\orderModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst orderSchema = new _mongoose.default.Schema({\n  orderItems: [{\n    name: {\n      type: String,\n      required: true\n    },\n    image: {\n      type: String,\n      required: true\n    },\n    price: {\n      type: Number,\n      required: true\n    },\n    qty: {\n      type: Number,\n      required: true\n    },\n    product: {\n      type: _mongoose.default.Schema.Types.ObjectId,\n      ref: 'Product',\n      required: true\n    }\n  }],\n  user: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'User',\n    required: true\n  },\n  shipping: {\n    address: String,\n    city: String,\n    postalCode: String,\n    country: String\n  },\n  payment: {\n    paymentMethod: String,\n    paymentResult: {\n      orderID: String,\n      payerID: String,\n      payment: String\n    }\n  },\n  itemsPrice: Number,\n  taxPrice: Number,\n  shippingPrice: Number,\n  totalPrice: Number,\n  isPaid: {\n    type: Boolean,\n    required: true,\n    default: false\n  },\n  paidAt: Date,\n  isDelivered: {\n    type: Boolean,\n    required: true,\n    default: false\n  },\n  deliveredAt: Date\n}, {\n  timestamps: true\n});\n\nconst Order = _mongoose.default.model('Order', orderSchema);\n\nvar _default = Order;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJvcmRlclNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwib3JkZXJJdGVtcyIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJpbWFnZSIsInByaWNlIiwiTnVtYmVyIiwicXR5IiwicHJvZHVjdCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJ1c2VyIiwic2hpcHBpbmciLCJhZGRyZXNzIiwiY2l0eSIsInBvc3RhbENvZGUiLCJjb3VudHJ5IiwicGF5bWVudCIsInBheW1lbnRNZXRob2QiLCJwYXltZW50UmVzdWx0Iiwib3JkZXJJRCIsInBheWVySUQiLCJpdGVtc1ByaWNlIiwidGF4UHJpY2UiLCJzaGlwcGluZ1ByaWNlIiwidG90YWxQcmljZSIsImlzUGFpZCIsIkJvb2xlYW4iLCJkZWZhdWx0IiwicGFpZEF0IiwiRGF0ZSIsImlzRGVsaXZlcmVkIiwiZGVsaXZlcmVkQXQiLCJ0aW1lc3RhbXBzIiwiT3JkZXIiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxSSVNDT0ggRlVORFpcXERlc2t0b3BcXGpzYW1hem9uYVxcYmFja2VuZFxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIm9yZGVyTW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XHJcblxyXG5jb25zdCBvcmRlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXHJcbiAgICB7XHJcbiAgICAgIG9yZGVySXRlbXM6ICBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgbmFtZToge3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWV9LFxyXG4gICAgICAgICAgaW1hZ2U6IHt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgICAgICAgIHByaWNlOiB7dHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICAgICAgICBxdHk6IHt0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgICAgICAgIHByb2R1Y3Q6IHtcclxuICAgICAgICAgICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgICAgICAgIHJlZjogJ1Byb2R1Y3QnLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICBdLFxyXG4gICAgICB1c2VyOiB7dHlwZTptb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ1VzZXInLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICAgIHNoaXBwaW5nOiB7XHJcbiAgICAgICAgYWRkcmVzczogU3RyaW5nLFxyXG4gICAgICAgIGNpdHk6IFN0cmluZyxcclxuICAgICAgICBwb3N0YWxDb2RlOiBTdHJpbmcsXHJcbiAgICAgICAgY291bnRyeTogU3RyaW5nLFxyXG4gICAgICB9LFxyXG4gICAgICBwYXltZW50OiB7XHJcbiAgICAgICAgcGF5bWVudE1ldGhvZDogU3RyaW5nLFxyXG4gICAgICAgIHBheW1lbnRSZXN1bHQ6IHtcclxuICAgICAgICAgIG9yZGVySUQ6IFN0cmluZyxcclxuICAgICAgICAgIHBheWVySUQ6IFN0cmluZyxcclxuICAgICAgICAgIHBheW1lbnQ6IFN0cmluZyxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgICBpdGVtc1ByaWNlOiBOdW1iZXIsXHJcbiAgICAgIHRheFByaWNlOiBOdW1iZXIsXHJcbiAgICAgIHNoaXBwaW5nUHJpY2U6IE51bWJlcixcclxuICAgICAgdG90YWxQcmljZTogTnVtYmVyLFxyXG4gICAgICBpc1BhaWQ6IHt0eXBlOiBCb29sZWFuLCByZXF1aXJlZDogdHJ1ZSwgZGVmYXVsdDogZmFsc2V9LFxyXG4gICAgICBwYWlkQXQ6IERhdGUsXHJcbiAgICAgIGlzRGVsaXZlcmVkOiB7dHlwZTogQm9vbGVhbiwgcmVxdWlyZWQ6IHRydWUsIGRlZmF1bHQ6IGZhbHNlfSxcclxuICAgICAgZGVsaXZlcmVkQXQ6IERhdGUsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0aW1lc3RhbXBzOiB0cnVlLFxyXG4gIH1cclxuKTtcclxuY29uc3QgT3JkZXIgPSBtb25nb29zZS5tb2RlbCgnT3JkZXInLCBvcmRlclNjaGVtYSlcclxuZXhwb3J0IGRlZmF1bHQgT3JkZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxXQUFXLEdBQUcsSUFBSUMsaUJBQUEsQ0FBU0MsTUFBYixDQUNoQjtFQUNFQyxVQUFVLEVBQUcsQ0FDWDtJQUNFQyxJQUFJLEVBQUU7TUFBQ0MsSUFBSSxFQUFFQyxNQUFQO01BQWVDLFFBQVEsRUFBRTtJQUF6QixDQURSO0lBRUVDLEtBQUssRUFBRTtNQUFDSCxJQUFJLEVBQUVDLE1BQVA7TUFBZUMsUUFBUSxFQUFFO0lBQXpCLENBRlQ7SUFHRUUsS0FBSyxFQUFFO01BQUNKLElBQUksRUFBRUssTUFBUDtNQUFlSCxRQUFRLEVBQUU7SUFBekIsQ0FIVDtJQUlFSSxHQUFHLEVBQUU7TUFBQ04sSUFBSSxFQUFFSyxNQUFQO01BQWVILFFBQVEsRUFBRTtJQUF6QixDQUpQO0lBS0VLLE9BQU8sRUFBRTtNQUNQUCxJQUFJLEVBQUVKLGlCQUFBLENBQVNDLE1BQVQsQ0FBZ0JXLEtBQWhCLENBQXNCQyxRQURyQjtNQUVSQyxHQUFHLEVBQUUsU0FGRztNQUdUUixRQUFRLEVBQUU7SUFIRDtFQUxYLENBRFcsQ0FEZjtFQWNFUyxJQUFJLEVBQUU7SUFBQ1gsSUFBSSxFQUFDSixpQkFBQSxDQUFTQyxNQUFULENBQWdCVyxLQUFoQixDQUFzQkMsUUFBNUI7SUFBc0NDLEdBQUcsRUFBRSxNQUEzQztJQUFtRFIsUUFBUSxFQUFFO0VBQTdELENBZFI7RUFlRVUsUUFBUSxFQUFFO0lBQ1JDLE9BQU8sRUFBRVosTUFERDtJQUVSYSxJQUFJLEVBQUViLE1BRkU7SUFHUmMsVUFBVSxFQUFFZCxNQUhKO0lBSVJlLE9BQU8sRUFBRWY7RUFKRCxDQWZaO0VBcUJFZ0IsT0FBTyxFQUFFO0lBQ1BDLGFBQWEsRUFBRWpCLE1BRFI7SUFFUGtCLGFBQWEsRUFBRTtNQUNiQyxPQUFPLEVBQUVuQixNQURJO01BRWJvQixPQUFPLEVBQUVwQixNQUZJO01BR2JnQixPQUFPLEVBQUVoQjtJQUhJO0VBRlIsQ0FyQlg7RUE2QkVxQixVQUFVLEVBQUVqQixNQTdCZDtFQThCRWtCLFFBQVEsRUFBRWxCLE1BOUJaO0VBK0JFbUIsYUFBYSxFQUFFbkIsTUEvQmpCO0VBZ0NFb0IsVUFBVSxFQUFFcEIsTUFoQ2Q7RUFpQ0VxQixNQUFNLEVBQUU7SUFBQzFCLElBQUksRUFBRTJCLE9BQVA7SUFBZ0J6QixRQUFRLEVBQUUsSUFBMUI7SUFBZ0MwQixPQUFPLEVBQUU7RUFBekMsQ0FqQ1Y7RUFrQ0VDLE1BQU0sRUFBRUMsSUFsQ1Y7RUFtQ0VDLFdBQVcsRUFBRTtJQUFDL0IsSUFBSSxFQUFFMkIsT0FBUDtJQUFnQnpCLFFBQVEsRUFBRSxJQUExQjtJQUFnQzBCLE9BQU8sRUFBRTtFQUF6QyxDQW5DZjtFQW9DRUksV0FBVyxFQUFFRjtBQXBDZixDQURnQixFQXVDaEI7RUFDRUcsVUFBVSxFQUFFO0FBRGQsQ0F2Q2dCLENBQXBCOztBQTJDQSxNQUFNQyxLQUFLLEdBQUd0QyxpQkFBQSxDQUFTdUMsS0FBVCxDQUFlLE9BQWYsRUFBd0J4QyxXQUF4QixDQUFkOztlQUNldUMsSyJ9","map":{"version":3,"names":["orderSchema","mongoose","Schema","orderItems","name","type","String","required","image","price","Number","qty","product","Types","ObjectId","ref","user","shipping","address","city","postalCode","country","payment","paymentMethod","paymentResult","orderID","payerID","itemsPrice","taxPrice","shippingPrice","totalPrice","isPaid","Boolean","default","paidAt","Date","isDelivered","deliveredAt","timestamps","Order","model"],"sourceRoot":"C:\\Users\\RISCOH FUNDZ\\Desktop\\jsamazona\\backend\\models\\","sources":["orderModel.js"],"sourcesContent":["\r\nimport mongoose from 'mongoose';\r\n\r\nconst orderSchema = new mongoose.Schema(\r\n    {\r\n      orderItems:  [\r\n        {\r\n          name: {type: String, required: true},\r\n          image: {type: String, required: true},\r\n          price: {type: Number, required: true},\r\n          qty: {type: Number, required: true},\r\n          product: {\r\n            type: mongoose.Schema.Types.ObjectId,\r\n           ref: 'Product',\r\n          required: true,\r\n        },\r\n        },\r\n      ],\r\n      user: {type:mongoose.Schema.Types.ObjectId, ref: 'User', required: true},\r\n      shipping: {\r\n        address: String,\r\n        city: String,\r\n        postalCode: String,\r\n        country: String,\r\n      },\r\n      payment: {\r\n        paymentMethod: String,\r\n        paymentResult: {\r\n          orderID: String,\r\n          payerID: String,\r\n          payment: String,\r\n        },\r\n      },\r\n      itemsPrice: Number,\r\n      taxPrice: Number,\r\n      shippingPrice: Number,\r\n      totalPrice: Number,\r\n      isPaid: {type: Boolean, required: true, default: false},\r\n      paidAt: Date,\r\n      isDelivered: {type: Boolean, required: true, default: false},\r\n      deliveredAt: Date,\r\n    },\r\n    {\r\n      timestamps: true,\r\n  }\r\n);\r\nconst Order = mongoose.model('Order', orderSchema)\r\nexport default Order;"],"mappings":";;;;;;;AACA;;;;AAEA,MAAMA,WAAW,GAAG,IAAIC,iBAAA,CAASC,MAAb,CAChB;EACEC,UAAU,EAAG,CACX;IACEC,IAAI,EAAE;MAACC,IAAI,EAAEC,MAAP;MAAeC,QAAQ,EAAE;IAAzB,CADR;IAEEC,KAAK,EAAE;MAACH,IAAI,EAAEC,MAAP;MAAeC,QAAQ,EAAE;IAAzB,CAFT;IAGEE,KAAK,EAAE;MAACJ,IAAI,EAAEK,MAAP;MAAeH,QAAQ,EAAE;IAAzB,CAHT;IAIEI,GAAG,EAAE;MAACN,IAAI,EAAEK,MAAP;MAAeH,QAAQ,EAAE;IAAzB,CAJP;IAKEK,OAAO,EAAE;MACPP,IAAI,EAAEJ,iBAAA,CAASC,MAAT,CAAgBW,KAAhB,CAAsBC,QADrB;MAERC,GAAG,EAAE,SAFG;MAGTR,QAAQ,EAAE;IAHD;EALX,CADW,CADf;EAcES,IAAI,EAAE;IAACX,IAAI,EAACJ,iBAAA,CAASC,MAAT,CAAgBW,KAAhB,CAAsBC,QAA5B;IAAsCC,GAAG,EAAE,MAA3C;IAAmDR,QAAQ,EAAE;EAA7D,CAdR;EAeEU,QAAQ,EAAE;IACRC,OAAO,EAAEZ,MADD;IAERa,IAAI,EAAEb,MAFE;IAGRc,UAAU,EAAEd,MAHJ;IAIRe,OAAO,EAAEf;EAJD,CAfZ;EAqBEgB,OAAO,EAAE;IACPC,aAAa,EAAEjB,MADR;IAEPkB,aAAa,EAAE;MACbC,OAAO,EAAEnB,MADI;MAEboB,OAAO,EAAEpB,MAFI;MAGbgB,OAAO,EAAEhB;IAHI;EAFR,CArBX;EA6BEqB,UAAU,EAAEjB,MA7Bd;EA8BEkB,QAAQ,EAAElB,MA9BZ;EA+BEmB,aAAa,EAAEnB,MA/BjB;EAgCEoB,UAAU,EAAEpB,MAhCd;EAiCEqB,MAAM,EAAE;IAAC1B,IAAI,EAAE2B,OAAP;IAAgBzB,QAAQ,EAAE,IAA1B;IAAgC0B,OAAO,EAAE;EAAzC,CAjCV;EAkCEC,MAAM,EAAEC,IAlCV;EAmCEC,WAAW,EAAE;IAAC/B,IAAI,EAAE2B,OAAP;IAAgBzB,QAAQ,EAAE,IAA1B;IAAgC0B,OAAO,EAAE;EAAzC,CAnCf;EAoCEI,WAAW,EAAEF;AApCf,CADgB,EAuChB;EACEG,UAAU,EAAE;AADd,CAvCgB,CAApB;;AA2CA,MAAMC,KAAK,GAAGtC,iBAAA,CAASuC,KAAT,CAAe,OAAf,EAAwBxC,WAAxB,CAAd;;eACeuC,K"}},"mtime":1671662728641},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"filename\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\routers\\\\orderRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _utils = require(\"../utils\");\n\nvar _orderModel = _interopRequireDefault(require(\"../models/orderModel\"));\n\nvar _userModel = _interopRequireDefault(require(\"../models/userModel\"));\n\nvar _productModel = _interopRequireDefault(require(\"../models/productModel\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst orderRouter = _express.default.Router();\n\norderRouter.get('/summary', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _orderModel.default.aggregate([{\n    $group: {\n      _id: null,\n      numOrders: {\n        $sum: 1\n      },\n      totalSales: {\n        $sum: '$totalPrice'\n      }\n    }\n  }]);\n  const users = await _userModel.default.aggregate([{\n    $group: {\n      _id: null,\n      numUsers: {\n        $sum: 1\n      }\n    }\n  }]);\n  const dailyOrders = await _orderModel.default.aggregate([{\n    $group: {\n      _id: {\n        $dateToString: {\n          format: '%Y-%m-%d',\n          date: '$createdAt'\n        }\n      },\n      orders: {\n        $sum: 1\n      },\n      sales: {\n        $sum: '$totalPrice'\n      }\n    }\n  }]);\n  const productCategories = await _productModel.default.aggregate([{\n    $group: {\n      _id: '$category',\n      count: {\n        $sum: 1\n      }\n    }\n  }]);\n  res.send({\n    users,\n    orders: orders.length === 0 ? [{\n      numOrders: 0,\n      totalSales: 0\n    }] : orders,\n    dailyOrders,\n    productCategories\n  });\n}));\norderRouter.get('/', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _orderModel.default.find({}).populate('user');\n  res.send(orders);\n}));\norderRouter.get('/mine', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _orderModel.default.find({\n    user: req.user._id\n  });\n  res.send(orders);\n}));\norderRouter.get('/:id', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    res.send(order);\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found'\n    });\n  }\n}));\norderRouter.post('/', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = new _orderModel.default({\n    orderItems: req.body.orderItems,\n    user: req.user._id,\n    shipping: req.body.shipping,\n    payment: req.body.payment,\n    itemsPrice: req.body.itemsPrice,\n    taxPrice: req.body.taxPrice,\n    shippingPrice: req.body.shippingPrice,\n    totalPrice: req.body.totalPrice\n  });\n  const createdOrder = await order.save();\n  res.status(201).send({\n    message: 'New Order Created',\n    order: createdOrder\n  });\n}));\norderRouter.delete('/:id', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    const deletedOrder = await order.remove();\n    res.send({\n      message: 'Order Deleted',\n      product: deletedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found!'\n    });\n  }\n}));\norderRouter.put('/:id/pay', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    order.isPaid = true;\n    order.paidAt = Date.now();\n    order.payment.paymentResult = {\n      payerID: req.body.payerID,\n      paymentID: req.body.paymentID,\n      orderID: req.body.orderID\n    };\n    const updatedOrder = await order.save();\n    res.send({\n      message: 'Order Paid',\n      order: updatedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found.'\n    });\n  }\n}));\norderRouter.put('/:id/deliver', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    order.isDelivered = true;\n    order.deliveredAt = Date.now();\n    const updatedOrder = await order.save();\n    res.send({\n      message: 'Order Delivered',\n      order: updatedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found.'\n    });\n  }\n}));\nvar _default = orderRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJvcmRlclJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJnZXQiLCJpc0F1dGgiLCJpc0FkbWluIiwiZXhwcmVzc0FzeW5jSGFuZGxlciIsInJlcSIsInJlcyIsIm9yZGVycyIsIk9yZGVyIiwiYWdncmVnYXRlIiwiJGdyb3VwIiwiX2lkIiwibnVtT3JkZXJzIiwiJHN1bSIsInRvdGFsU2FsZXMiLCJ1c2VycyIsIlVzZXIiLCJudW1Vc2VycyIsImRhaWx5T3JkZXJzIiwiJGRhdGVUb1N0cmluZyIsImZvcm1hdCIsImRhdGUiLCJzYWxlcyIsInByb2R1Y3RDYXRlZ29yaWVzIiwiUHJvZHVjdCIsImNvdW50Iiwic2VuZCIsImxlbmd0aCIsImZpbmQiLCJwb3B1bGF0ZSIsInVzZXIiLCJvcmRlciIsImZpbmRCeUlkIiwicGFyYW1zIiwiaWQiLCJzdGF0dXMiLCJtZXNzYWdlIiwicG9zdCIsIm9yZGVySXRlbXMiLCJib2R5Iiwic2hpcHBpbmciLCJwYXltZW50IiwiaXRlbXNQcmljZSIsInRheFByaWNlIiwic2hpcHBpbmdQcmljZSIsInRvdGFsUHJpY2UiLCJjcmVhdGVkT3JkZXIiLCJzYXZlIiwiZGVsZXRlIiwiZGVsZXRlZE9yZGVyIiwicmVtb3ZlIiwicHJvZHVjdCIsInB1dCIsImlzUGFpZCIsInBhaWRBdCIsIkRhdGUiLCJub3ciLCJwYXltZW50UmVzdWx0IiwicGF5ZXJJRCIsInBheW1lbnRJRCIsIm9yZGVySUQiLCJ1cGRhdGVkT3JkZXIiLCJpc0RlbGl2ZXJlZCIsImRlbGl2ZXJlZEF0Il0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFJJU0NPSCBGVU5EWlxcRGVza3RvcFxcanNhbWF6b25hXFxiYWNrZW5kXFxyb3V0ZXJzXFwiLCJzb3VyY2VzIjpbIm9yZGVyUm91dGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IGV4cHJlc3NBc3luY0hhbmRsZXIgZnJvbSAnZXhwcmVzcy1hc3luYy1oYW5kbGVyJztcclxuaW1wb3J0IHsgaXNBZG1pbiwgaXNBdXRoIH0gZnJvbSAnLi4vdXRpbHMnO1xyXG5pbXBvcnQgT3JkZXIgZnJvbSAnLi4vbW9kZWxzL29yZGVyTW9kZWwnO1xyXG5pbXBvcnQgVXNlciBmcm9tICcuLi9tb2RlbHMvdXNlck1vZGVsJztcclxuaW1wb3J0IFByb2R1Y3QgZnJvbSAnLi4vbW9kZWxzL3Byb2R1Y3RNb2RlbCc7XHJcblxyXG5jb25zdCBvcmRlclJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcbm9yZGVyUm91dGVyLmdldCgnL3N1bW1hcnknLCBpc0F1dGgsIGlzQWRtaW4sIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3Qgb3JkZXJzID0gYXdhaXQgT3JkZXIuYWdncmVnYXRlKFtcclxuICAgIHtcclxuICAgICAgJGdyb3VwOiB7XHJcbiAgICAgICAgX2lkOiBudWxsLFxyXG4gICAgICAgIG51bU9yZGVyczogeyAkc3VtOiAxIH0sXHJcbiAgICAgICAgdG90YWxTYWxlczogeyRzdW06ICckdG90YWxQcmljZSd9XHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gIF0pO1xyXG4gIGNvbnN0IHVzZXJzID0gYXdhaXQgVXNlci5hZ2dyZWdhdGUoW1xyXG4gICAge1xyXG4gICAgICAkZ3JvdXA6IHtcclxuICAgICAgICBfaWQ6IG51bGwsXHJcbiAgICAgICAgbnVtVXNlcnM6IHsgJHN1bTogMSB9LFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICBdKTtcclxuXHJcbiAgY29uc3QgZGFpbHlPcmRlcnMgPSBhd2FpdCBPcmRlci5hZ2dyZWdhdGUoW1xyXG4gICAge1xyXG4gICAgICAkZ3JvdXA6IHtcclxuICAgICAgICBfaWQ6IHskZGF0ZVRvU3RyaW5nOiB7Zm9ybWF0OiAnJVktJW0tJWQnLCBkYXRlOiAnJGNyZWF0ZWRBdCd9fSxcclxuICAgICAgICBvcmRlcnM6IHskc3VtOiAxfSxcclxuICAgICAgICBzYWxlczogeyRzdW06ICckdG90YWxQcmljZSd9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICBdKVxyXG5cclxuICBjb25zdCBwcm9kdWN0Q2F0ZWdvcmllcyA9IGF3YWl0IFByb2R1Y3QuYWdncmVnYXRlKFtcclxuICAgIHtcclxuICAgICAgJGdyb3VwOiB7XHJcbiAgICAgICAgX2lkOiAnJGNhdGVnb3J5JyxcclxuICAgICAgICBjb3VudDogeyRzdW06IDF9LFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICBdKTtcclxuICByZXMuc2VuZCh7XHJcbiAgICB1c2VycyxcclxuICAgIG9yZGVyczogb3JkZXJzLmxlbmd0aCA9PT0gMCA/IFt7bnVtT3JkZXJzOiAwLCB0b3RhbFNhbGVzOiAwfV0gOiBvcmRlcnMsXHJcbiAgIGRhaWx5T3JkZXJzLFxyXG4gICBwcm9kdWN0Q2F0ZWdvcmllcyxcclxuICAgfSk7XHJcbiAgfSlcclxuKTtcclxub3JkZXJSb3V0ZXIuZ2V0KFxyXG4gICcvJywgXHJcbiAgaXNBdXRoLFxyXG4gIGlzQWRtaW4sIFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIgKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3Qgb3JkZXJzID0gYXdhaXQgT3JkZXIuZmluZCh7fSkucG9wdWxhdGUoJ3VzZXInKTtcclxuICAgIHJlcy5zZW5kKG9yZGVycyk7XHJcbiAgfSlcclxuICApO1xyXG5cclxub3JkZXJSb3V0ZXIuZ2V0KFxyXG4gICcvbWluZScsXHJcbiAgIGlzQXV0aCxcclxuICAgIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKT0+e1xyXG4gICAgIGNvbnN0IG9yZGVycyA9IGF3YWl0IE9yZGVyLmZpbmQoe3VzZXI6IHJlcS51c2VyLl9pZCB9KTtcclxuICAgICByZXMuc2VuZChvcmRlcnMpXHJcbn0pXHJcbik7XHJcbm9yZGVyUm91dGVyLmdldChcclxuICAnLzppZCcsXHJcbiAgaXNBdXRoLFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKT0+e1xyXG4gIGNvbnN0IG9yZGVyID0gYXdhaXQgT3JkZXIuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XHJcbiAgaWYgKG9yZGVyKSB7XHJcbiAgICByZXMuc2VuZChvcmRlcik7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHttZXNzYWdlOiAnT3JkZXIgTm90IEZvdW5kJ30pO1xyXG4gIH1cclxuIH0pXHJcbik7XHJcblxyXG5vcmRlclJvdXRlci5wb3N0KFxyXG4gICcvJywgXHJcbmlzQXV0aCwgXHJcbmV4cHJlc3NBc3luY0hhbmRsZXIgKGFzeW5jKHJlcSwgcmVzKT0+e1xyXG4gICAgY29uc3Qgb3JkZXIgPSBuZXcgT3JkZXIoe1xyXG4gICAgICAgIG9yZGVySXRlbXM6IHJlcS5ib2R5Lm9yZGVySXRlbXMsXHJcbiAgICAgICAgdXNlcjogcmVxLnVzZXIuX2lkLFxyXG4gICAgICAgIHNoaXBwaW5nOiByZXEuYm9keS5zaGlwcGluZyxcclxuICAgICAgICBwYXltZW50OiByZXEuYm9keS5wYXltZW50LFxyXG4gICAgICAgIGl0ZW1zUHJpY2U6IHJlcS5ib2R5Lml0ZW1zUHJpY2UsXHJcbiAgICAgICAgdGF4UHJpY2U6IHJlcS5ib2R5LnRheFByaWNlLFxyXG4gICAgICAgIHNoaXBwaW5nUHJpY2U6IHJlcS5ib2R5LnNoaXBwaW5nUHJpY2UsXHJcbiAgICAgICAgdG90YWxQcmljZTogcmVxLmJvZHkudG90YWxQcmljZSxcclxuXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGNyZWF0ZWRPcmRlciA9IGF3YWl0IG9yZGVyLnNhdmUoKTtcclxuICAgIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHttZXNzYWdlOiAnTmV3IE9yZGVyIENyZWF0ZWQnLCBvcmRlcjogY3JlYXRlZE9yZGVyIH0pXHJcbiAgfSlcclxuKTtcclxuXHJcbm9yZGVyUm91dGVyLmRlbGV0ZShcclxuICAnLzppZCcsXHJcbiAgaXNBdXRoLCBcclxuICBpc0FkbWluLFxyXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIgKGFzeW5jIChyZXEsIHJlcykgPT57XHJcbiAgY29uc3Qgb3JkZXIgPSBhd2FpdCBPcmRlci5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcclxuICBpZiAob3JkZXIpIHtcclxuICAgICAgY29uc3QgZGVsZXRlZE9yZGVyID0gYXdhaXQgb3JkZXIucmVtb3ZlKCk7XHJcbiAgICAgIHJlcy5zZW5kKHttZXNzYWdlOiAnT3JkZXIgRGVsZXRlZCcsIHByb2R1Y3Q6IGRlbGV0ZWRPcmRlciB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7bWVzc2FnZTogJ09yZGVyIE5vdCBGb3VuZCEnfSk7XHJcbiAgfVxyXG59KVxyXG4pO1xyXG5cclxub3JkZXJSb3V0ZXIucHV0KFxyXG4gICcvOmlkL3BheScsXHJcbiAgIGlzQXV0aCxcclxuICAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpPT57XHJcbiAgY29uc3Qgb3JkZXIgPSBhd2FpdCBPcmRlci5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcclxuICBpZiAob3JkZXIpe1xyXG4gICAgb3JkZXIuaXNQYWlkID0gdHJ1ZTtcclxuICAgIG9yZGVyLnBhaWRBdCA9IERhdGUubm93KCk7XHJcbiAgICBvcmRlci5wYXltZW50LnBheW1lbnRSZXN1bHQgPSB7XHJcbiAgICAgIHBheWVySUQ6IHJlcS5ib2R5LnBheWVySUQsXHJcbiAgICAgIHBheW1lbnRJRDogcmVxLmJvZHkucGF5bWVudElELFxyXG4gICAgICBvcmRlcklEOiByZXEuYm9keS5vcmRlcklELFxyXG4gICAgfTtcclxuICAgIGNvbnN0IHVwZGF0ZWRPcmRlcj0gYXdhaXQgb3JkZXIuc2F2ZSgpO1xyXG4gICAgcmVzLnNlbmQoe21lc3NhZ2U6ICdPcmRlciBQYWlkJywgb3JkZXI6IHVwZGF0ZWRPcmRlcn0pO1xyXG4gIH1lbHNlIHtcclxuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHttZXNzYWdlOiAnT3JkZXIgTm90IEZvdW5kLid9KVxyXG4gIH1cclxufSlcclxuKTtcclxuXHJcbm9yZGVyUm91dGVyLnB1dChcclxuICAnLzppZC9kZWxpdmVyJyxcclxuICAgaXNBdXRoLFxyXG4gICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcyk9PntcclxuICBjb25zdCBvcmRlciA9IGF3YWl0IE9yZGVyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xyXG4gIGlmIChvcmRlcil7XHJcbiAgICBvcmRlci5pc0RlbGl2ZXJlZCA9IHRydWU7XHJcbiAgICBvcmRlci5kZWxpdmVyZWRBdCA9IERhdGUubm93KCk7XHJcbiAgICBjb25zdCB1cGRhdGVkT3JkZXI9IGF3YWl0IG9yZGVyLnNhdmUoKTtcclxuICAgIHJlcy5zZW5kKHttZXNzYWdlOiAnT3JkZXIgRGVsaXZlcmVkJywgb3JkZXI6IHVwZGF0ZWRPcmRlcn0pO1xyXG4gIH1lbHNlIHtcclxuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHttZXNzYWdlOiAnT3JkZXIgTm90IEZvdW5kLid9KVxyXG4gIH1cclxufSlcclxuKTtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBvcmRlclJvdXRlcjsgIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxXQUFXLEdBQUdDLGdCQUFBLENBQVFDLE1BQVIsRUFBcEI7O0FBQ0FGLFdBQVcsQ0FBQ0csR0FBWixDQUFnQixVQUFoQixFQUE0QkMsYUFBNUIsRUFBb0NDLGNBQXBDLEVBQTZDLElBQUFDLDRCQUFBLEVBQW9CLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtFQUNuRixNQUFNQyxNQUFNLEdBQUcsTUFBTUMsbUJBQUEsQ0FBTUMsU0FBTixDQUFnQixDQUNuQztJQUNFQyxNQUFNLEVBQUU7TUFDTkMsR0FBRyxFQUFFLElBREM7TUFFTkMsU0FBUyxFQUFFO1FBQUVDLElBQUksRUFBRTtNQUFSLENBRkw7TUFHTkMsVUFBVSxFQUFFO1FBQUNELElBQUksRUFBRTtN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","map":{"version":3,"names":["orderRouter","express","Router","get","isAuth","isAdmin","expressAsyncHandler","req","res","orders","Order","aggregate","$group","_id","numOrders","$sum","totalSales","users","User","numUsers","dailyOrders","$dateToString","format","date","sales","productCategories","Product","count","send","length","find","populate","user","order","findById","params","id","status","message","post","orderItems","body","shipping","payment","itemsPrice","taxPrice","shippingPrice","totalPrice","createdOrder","save","delete","deletedOrder","remove","product","put","isPaid","paidAt","Date","now","paymentResult","payerID","paymentID","orderID","updatedOrder","isDelivered","deliveredAt"],"sourceRoot":"C:\\Users\\RISCOH FUNDZ\\Desktop\\jsamazona\\backend\\routers\\","sources":["orderRouter.js"],"sourcesContent":["\r\nimport express from 'express';\r\nimport expressAsyncHandler from 'express-async-handler';\r\nimport { isAdmin, isAuth } from '../utils';\r\nimport Order from '../models/orderModel';\r\nimport User from '../models/userModel';\r\nimport Product from '../models/productModel';\r\n\r\nconst orderRouter = express.Router();\r\norderRouter.get('/summary', isAuth, isAdmin, expressAsyncHandler(async (req, res) => {\r\n  const orders = await Order.aggregate([\r\n    {\r\n      $group: {\r\n        _id: null,\r\n        numOrders: { $sum: 1 },\r\n        totalSales: {$sum: '$totalPrice'}\r\n      },\r\n    },\r\n  ]);\r\n  const users = await User.aggregate([\r\n    {\r\n      $group: {\r\n        _id: null,\r\n        numUsers: { $sum: 1 },\r\n      },\r\n    },\r\n  ]);\r\n\r\n  const dailyOrders = await Order.aggregate([\r\n    {\r\n      $group: {\r\n        _id: {$dateToString: {format: '%Y-%m-%d', date: '$createdAt'}},\r\n        orders: {$sum: 1},\r\n        sales: {$sum: '$totalPrice'}\r\n      }\r\n    }\r\n  ])\r\n\r\n  const productCategories = await Product.aggregate([\r\n    {\r\n      $group: {\r\n        _id: '$category',\r\n        count: {$sum: 1},\r\n      },\r\n    },\r\n  ]);\r\n  res.send({\r\n    users,\r\n    orders: orders.length === 0 ? [{numOrders: 0, totalSales: 0}] : orders,\r\n   dailyOrders,\r\n   productCategories,\r\n   });\r\n  })\r\n);\r\norderRouter.get(\r\n  '/', \r\n  isAuth,\r\n  isAdmin, \r\n  expressAsyncHandler (async (req, res) => {\r\n    const orders = await Order.find({}).populate('user');\r\n    res.send(orders);\r\n  })\r\n  );\r\n\r\norderRouter.get(\r\n  '/mine',\r\n   isAuth,\r\n    expressAsyncHandler(async (req, res)=>{\r\n     const orders = await Order.find({user: req.user._id });\r\n     res.send(orders)\r\n})\r\n);\r\norderRouter.get(\r\n  '/:id',\r\n  isAuth,\r\n  expressAsyncHandler(async (req, res)=>{\r\n  const order = await Order.findById(req.params.id);\r\n  if (order) {\r\n    res.send(order);\r\n  } else {\r\n    res.status(404).send({message: 'Order Not Found'});\r\n  }\r\n })\r\n);\r\n\r\norderRouter.post(\r\n  '/', \r\nisAuth, \r\nexpressAsyncHandler (async(req, res)=>{\r\n    const order = new Order({\r\n        orderItems: req.body.orderItems,\r\n        user: req.user._id,\r\n        shipping: req.body.shipping,\r\n        payment: req.body.payment,\r\n        itemsPrice: req.body.itemsPrice,\r\n        taxPrice: req.body.taxPrice,\r\n        shippingPrice: req.body.shippingPrice,\r\n        totalPrice: req.body.totalPrice,\r\n\r\n    });\r\n    const createdOrder = await order.save();\r\n    res.status(201).send({message: 'New Order Created', order: createdOrder })\r\n  })\r\n);\r\n\r\norderRouter.delete(\r\n  '/:id',\r\n  isAuth, \r\n  isAdmin,\r\n  expressAsyncHandler (async (req, res) =>{\r\n  const order = await Order.findById(req.params.id);\r\n  if (order) {\r\n      const deletedOrder = await order.remove();\r\n      res.send({message: 'Order Deleted', product: deletedOrder });\r\n  } else {\r\n      res.status(404).send({message: 'Order Not Found!'});\r\n  }\r\n})\r\n);\r\n\r\norderRouter.put(\r\n  '/:id/pay',\r\n   isAuth,\r\n   expressAsyncHandler(async (req, res)=>{\r\n  const order = await Order.findById(req.params.id);\r\n  if (order){\r\n    order.isPaid = true;\r\n    order.paidAt = Date.now();\r\n    order.payment.paymentResult = {\r\n      payerID: req.body.payerID,\r\n      paymentID: req.body.paymentID,\r\n      orderID: req.body.orderID,\r\n    };\r\n    const updatedOrder= await order.save();\r\n    res.send({message: 'Order Paid', order: updatedOrder});\r\n  }else {\r\n    res.status(404).send({message: 'Order Not Found.'})\r\n  }\r\n})\r\n);\r\n\r\norderRouter.put(\r\n  '/:id/deliver',\r\n   isAuth,\r\n   expressAsyncHandler(async (req, res)=>{\r\n  const order = await Order.findById(req.params.id);\r\n  if (order){\r\n    order.isDelivered = true;\r\n    order.deliveredAt = Date.now();\r\n    const updatedOrder= await order.save();\r\n    res.send({message: 'Order Delivered', order: updatedOrder});\r\n  }else {\r\n    res.status(404).send({message: 'Order Not Found.'})\r\n  }\r\n})\r\n);\r\n\r\n\r\nexport default orderRouter; "],"mappings":"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"}},"mtime":1673977186562},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"filename\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\models\\\\orderModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst orderSchema = new _mongoose.default.Schema({\n  orderItems: [{\n    name: {\n      type: String,\n      required: true\n    },\n    image: {\n      type: String,\n      required: true\n    },\n    price: {\n      type: Number,\n      required: true\n    },\n    qty: {\n      type: Number,\n      required: true\n    },\n    product: {\n      type: _mongoose.default.Schema.Types.ObjectId,\n      ref: 'Product',\n      required: true\n    }\n  }],\n  user: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'User',\n    required: true\n  },\n  shipping: {\n    address: String,\n    city: String,\n    postalCode: String,\n    country: String\n  },\n  payment: {\n    paymentMethod: String,\n    paymentResult: {\n      orderID: String,\n      payerID: String,\n      payment: String\n    }\n  },\n  itemsPrice: Number,\n  taxPrice: Number,\n  shippingPrice: Number,\n  totalPrice: Number,\n  isPaid: {\n    type: Boolean,\n    required: true,\n    default: false\n  },\n  paidAt: Date,\n  isDelivered: {\n    type: Boolean,\n    required: true,\n    default: false\n  },\n  deliveredAt: Date\n}, {\n  timestamps: true\n});\n\nconst Order = _mongoose.default.model('Order', orderSchema);\n\nvar _default = Order;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJvcmRlclNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwib3JkZXJJdGVtcyIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJpbWFnZSIsInByaWNlIiwiTnVtYmVyIiwicXR5IiwicHJvZHVjdCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJ1c2VyIiwic2hpcHBpbmciLCJhZGRyZXNzIiwiY2l0eSIsInBvc3RhbENvZGUiLCJjb3VudHJ5IiwicGF5bWVudCIsInBheW1lbnRNZXRob2QiLCJwYXltZW50UmVzdWx0Iiwib3JkZXJJRCIsInBheWVySUQiLCJpdGVtc1ByaWNlIiwidGF4UHJpY2UiLCJzaGlwcGluZ1ByaWNlIiwidG90YWxQcmljZSIsImlzUGFpZCIsIkJvb2xlYW4iLCJkZWZhdWx0IiwicGFpZEF0IiwiRGF0ZSIsImlzRGVsaXZlcmVkIiwiZGVsaXZlcmVkQXQiLCJ0aW1lc3RhbXBzIiwiT3JkZXIiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxSSVNDT0ggRlVORFpcXERlc2t0b3BcXGpzYW1hem9uYVxcYmFja2VuZFxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIm9yZGVyTW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XHJcblxyXG5jb25zdCBvcmRlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXHJcbiAgICB7XHJcbiAgICAgIG9yZGVySXRlbXM6ICBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgbmFtZToge3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWV9LFxyXG4gICAgICAgICAgaW1hZ2U6IHt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgICAgICAgIHByaWNlOiB7dHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICAgICAgICBxdHk6IHt0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgICAgICAgIHByb2R1Y3Q6IHtcclxuICAgICAgICAgICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgICAgICAgIHJlZjogJ1Byb2R1Y3QnLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICBdLFxyXG4gICAgICB1c2VyOiB7dHlwZTptb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ1VzZXInLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICAgIHNoaXBwaW5nOiB7XHJcbiAgICAgICAgYWRkcmVzczogU3RyaW5nLFxyXG4gICAgICAgIGNpdHk6IFN0cmluZyxcclxuICAgICAgICBwb3N0YWxDb2RlOiBTdHJpbmcsXHJcbiAgICAgICAgY291bnRyeTogU3RyaW5nLFxyXG4gICAgICB9LFxyXG4gICAgICBwYXltZW50OiB7XHJcbiAgICAgICAgcGF5bWVudE1ldGhvZDogU3RyaW5nLFxyXG4gICAgICAgIHBheW1lbnRSZXN1bHQ6IHtcclxuICAgICAgICAgIG9yZGVySUQ6IFN0cmluZyxcclxuICAgICAgICAgIHBheWVySUQ6IFN0cmluZyxcclxuICAgICAgICAgIHBheW1lbnQ6IFN0cmluZyxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgICBpdGVtc1ByaWNlOiBOdW1iZXIsXHJcbiAgICAgIHRheFByaWNlOiBOdW1iZXIsXHJcbiAgICAgIHNoaXBwaW5nUHJpY2U6IE51bWJlcixcclxuICAgICAgdG90YWxQcmljZTogTnVtYmVyLFxyXG4gICAgICBpc1BhaWQ6IHt0eXBlOiBCb29sZWFuLCByZXF1aXJlZDogdHJ1ZSwgZGVmYXVsdDogZmFsc2V9LFxyXG4gICAgICBwYWlkQXQ6IERhdGUsXHJcbiAgICAgIGlzRGVsaXZlcmVkOiB7dHlwZTogQm9vbGVhbiwgcmVxdWlyZWQ6IHRydWUsIGRlZmF1bHQ6IGZhbHNlfSxcclxuICAgICAgZGVsaXZlcmVkQXQ6IERhdGUsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0aW1lc3RhbXBzOiB0cnVlLFxyXG4gIH1cclxuKTtcclxuY29uc3QgT3JkZXIgPSBtb25nb29zZS5tb2RlbCgnT3JkZXInLCBvcmRlclNjaGVtYSlcclxuZXhwb3J0IGRlZmF1bHQgT3JkZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxXQUFXLEdBQUcsSUFBSUMsaUJBQUEsQ0FBU0MsTUFBYixDQUNoQjtFQUNFQyxVQUFVLEVBQUcsQ0FDWDtJQUNFQyxJQUFJLEVBQUU7TUFBQ0MsSUFBSSxFQUFFQyxNQUFQO01BQWVDLFFBQVEsRUFBRTtJQUF6QixDQURSO0lBRUVDLEtBQUssRUFBRTtNQUFDSCxJQUFJLEVBQUVDLE1BQVA7TUFBZUMsUUFBUSxFQUFFO0lBQXpCLENBRlQ7SUFHRUUsS0FBSyxFQUFFO01BQUNKLElBQUksRUFBRUssTUFBUDtNQUFlSCxRQUFRLEVBQUU7SUFBekIsQ0FIVDtJQUlFSSxHQUFHLEVBQUU7TUFBQ04sSUFBSSxFQUFFSyxNQUFQO01BQWVILFFBQVEsRUFBRTtJQUF6QixDQUpQO0lBS0VLLE9BQU8sRUFBRTtNQUNQUCxJQUFJLEVBQUVKLGlCQUFBLENBQVNDLE1BQVQsQ0FBZ0JXLEtBQWhCLENBQXNCQyxRQURyQjtNQUVSQyxHQUFHLEVBQUUsU0FGRztNQUdUUixRQUFRLEVBQUU7SUFIRDtFQUxYLENBRFcsQ0FEZjtFQWNFUyxJQUFJLEVBQUU7SUFBQ1gsSUFBSSxFQUFDSixpQkFBQSxDQUFTQyxNQUFULENBQWdCVyxLQUFoQixDQUFzQkMsUUFBNUI7SUFBc0NDLEdBQUcsRUFBRSxNQUEzQztJQUFtRFIsUUFBUSxFQUFFO0VBQTdELENBZFI7RUFlRVUsUUFBUSxFQUFFO0lBQ1JDLE9BQU8sRUFBRVosTUFERDtJQUVSYSxJQUFJLEVBQUViLE1BRkU7SUFHUmMsVUFBVSxFQUFFZCxNQUhKO0lBSVJlLE9BQU8sRUFBRWY7RUFKRCxDQWZaO0VBcUJFZ0IsT0FBTyxFQUFFO0lBQ1BDLGFBQWEsRUFBRWpCLE1BRFI7SUFFUGtCLGFBQWEsRUFBRTtNQUNiQyxPQUFPLEVBQUVuQixNQURJO01BRWJvQixPQUFPLEVBQUVwQixNQUZJO01BR2JnQixPQUFPLEVBQUVoQjtJQUhJO0VBRlIsQ0FyQlg7RUE2QkVxQixVQUFVLEVBQUVqQixNQTdCZDtFQThCRWtCLFFBQVEsRUFBRWxCLE1BOUJaO0VBK0JFbUIsYUFBYSxFQUFFbkIsTUEvQmpCO0VBZ0NFb0IsVUFBVSxFQUFFcEIsTUFoQ2Q7RUFpQ0VxQixNQUFNLEVBQUU7SUFBQzFCLElBQUksRUFBRTJCLE9BQVA7SUFBZ0J6QixRQUFRLEVBQUUsSUFBMUI7SUFBZ0MwQixPQUFPLEVBQUU7RUFBekMsQ0FqQ1Y7RUFrQ0VDLE1BQU0sRUFBRUMsSUFsQ1Y7RUFtQ0VDLFdBQVcsRUFBRTtJQUFDL0IsSUFBSSxFQUFFMkIsT0FBUDtJQUFnQnpCLFFBQVEsRUFBRSxJQUExQjtJQUFnQzBCLE9BQU8sRUFBRTtFQUF6QyxDQW5DZjtFQW9DRUksV0FBVyxFQUFFRjtBQXBDZixDQURnQixFQXVDaEI7RUFDRUcsVUFBVSxFQUFFO0FBRGQsQ0F2Q2dCLENBQXBCOztBQTJDQSxNQUFNQyxLQUFLLEdBQUd0QyxpQkFBQSxDQUFTdUMsS0FBVCxDQUFlLE9BQWYsRUFBd0J4QyxXQUF4QixDQUFkOztlQUNldUMsSyJ9","map":{"version":3,"names":["orderSchema","mongoose","Schema","orderItems","name","type","String","required","image","price","Number","qty","product","Types","ObjectId","ref","user","shipping","address","city","postalCode","country","payment","paymentMethod","paymentResult","orderID","payerID","itemsPrice","taxPrice","shippingPrice","totalPrice","isPaid","Boolean","default","paidAt","Date","isDelivered","deliveredAt","timestamps","Order","model"],"sourceRoot":"C:\\Users\\RISCOH FUNDZ\\Desktop\\jsamazona\\backend\\models\\","sources":["orderModel.js"],"sourcesContent":["\r\nimport mongoose from 'mongoose';\r\n\r\nconst orderSchema = new mongoose.Schema(\r\n    {\r\n      orderItems:  [\r\n        {\r\n          name: {type: String, required: true},\r\n          image: {type: String, required: true},\r\n          price: {type: Number, required: true},\r\n          qty: {type: Number, required: true},\r\n          product: {\r\n            type: mongoose.Schema.Types.ObjectId,\r\n           ref: 'Product',\r\n          required: true,\r\n        },\r\n        },\r\n      ],\r\n      user: {type:mongoose.Schema.Types.ObjectId, ref: 'User', required: true},\r\n      shipping: {\r\n        address: String,\r\n        city: String,\r\n        postalCode: String,\r\n        country: String,\r\n      },\r\n      payment: {\r\n        paymentMethod: String,\r\n        paymentResult: {\r\n          orderID: String,\r\n          payerID: String,\r\n          payment: String,\r\n        },\r\n      },\r\n      itemsPrice: Number,\r\n      taxPrice: Number,\r\n      shippingPrice: Number,\r\n      totalPrice: Number,\r\n      isPaid: {type: Boolean, required: true, default: false},\r\n      paidAt: Date,\r\n      isDelivered: {type: Boolean, required: true, default: false},\r\n      deliveredAt: Date,\r\n    },\r\n    {\r\n      timestamps: true,\r\n  }\r\n);\r\nconst Order = mongoose.model('Order', orderSchema)\r\nexport default Order;"],"mappings":";;;;;;;AACA;;;;AAEA,MAAMA,WAAW,GAAG,IAAIC,iBAAA,CAASC,MAAb,CAChB;EACEC,UAAU,EAAG,CACX;IACEC,IAAI,EAAE;MAACC,IAAI,EAAEC,MAAP;MAAeC,QAAQ,EAAE;IAAzB,CADR;IAEEC,KAAK,EAAE;MAACH,IAAI,EAAEC,MAAP;MAAeC,QAAQ,EAAE;IAAzB,CAFT;IAGEE,KAAK,EAAE;MAACJ,IAAI,EAAEK,MAAP;MAAeH,QAAQ,EAAE;IAAzB,CAHT;IAIEI,GAAG,EAAE;MAACN,IAAI,EAAEK,MAAP;MAAeH,QAAQ,EAAE;IAAzB,CAJP;IAKEK,OAAO,EAAE;MACPP,IAAI,EAAEJ,iBAAA,CAASC,MAAT,CAAgBW,KAAhB,CAAsBC,QADrB;MAERC,GAAG,EAAE,SAFG;MAGTR,QAAQ,EAAE;IAHD;EALX,CADW,CADf;EAcES,IAAI,EAAE;IAACX,IAAI,EAACJ,iBAAA,CAASC,MAAT,CAAgBW,KAAhB,CAAsBC,QAA5B;IAAsCC,GAAG,EAAE,MAA3C;IAAmDR,QAAQ,EAAE;EAA7D,CAdR;EAeEU,QAAQ,EAAE;IACRC,OAAO,EAAEZ,MADD;IAERa,IAAI,EAAEb,MAFE;IAGRc,UAAU,EAAEd,MAHJ;IAIRe,OAAO,EAAEf;EAJD,CAfZ;EAqBEgB,OAAO,EAAE;IACPC,aAAa,EAAEjB,MADR;IAEPkB,aAAa,EAAE;MACbC,OAAO,EAAEnB,MADI;MAEboB,OAAO,EAAEpB,MAFI;MAGbgB,OAAO,EAAEhB;IAHI;EAFR,CArBX;EA6BEqB,UAAU,EAAEjB,MA7Bd;EA8BEkB,QAAQ,EAAElB,MA9BZ;EA+BEmB,aAAa,EAAEnB,MA/BjB;EAgCEoB,UAAU,EAAEpB,MAhCd;EAiCEqB,MAAM,EAAE;IAAC1B,IAAI,EAAE2B,OAAP;IAAgBzB,QAAQ,EAAE,IAA1B;IAAgC0B,OAAO,EAAE;EAAzC,CAjCV;EAkCEC,MAAM,EAAEC,IAlCV;EAmCEC,WAAW,EAAE;IAAC/B,IAAI,EAAE2B,OAAP;IAAgBzB,QAAQ,EAAE,IAA1B;IAAgC0B,OAAO,EAAE;EAAzC,CAnCf;EAoCEI,WAAW,EAAEF;AApCf,CADgB,EAuChB;EACEG,UAAU,EAAE;AADd,CAvCgB,CAApB;;AA2CA,MAAMC,KAAK,GAAGtC,iBAAA,CAASuC,KAAT,CAAe,OAAf,EAAwBxC,WAAxB,CAAd;;eACeuC,K"}},"mtime":1671662728641},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"filename\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\routers\\\\productRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _utils = require(\"../utils\");\n\nvar _productModel = _interopRequireDefault(require(\"../models/productModel\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst productRouter = _express.default.Router();\n\nproductRouter.get('/', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const searchKeyword = req.query.searchKeyword ? {\n    name: {\n      $regex: req.query.searchKeyword,\n      $options: 'i'\n    }\n  } : {};\n  const products = await _productModel.default.find({ ...searchKeyword\n  });\n  res.send(products);\n}));\nproductRouter.get('/:id', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n  res.send(product);\n}));\nproductRouter.post('/', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = new _productModel.default({\n    name: 'sample product',\n    description: 'sample desc',\n    category: 'sample category',\n    brand: 'sample brand',\n    image: '/images/product-1.jpg'\n  });\n  const createdProduct = await product.save();\n\n  if (createdProduct) {\n    res.status(201).send({\n      message: 'Product Created',\n      product: createdProduct\n    });\n  } else {\n    res.status(500).send({\n      message: 'Error in Creating Porduct'\n    });\n  }\n}));\nproductRouter.put('/:id', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const productId = req.params.id;\n  const product = await _productModel.default.findById(productId);\n\n  if (product) {\n    product.name = req.body.name;\n    product.price = req.body.price;\n    product.image = req.body.image;\n    product.brand = req.body.brand;\n    product.category = req.body.category;\n    product.countInStock = req.body.countInStock;\n    product.description = req.body.description;\n    const updatedProduct = await product.save();\n\n    if (updatedProduct) {\n      res.send({\n        message: 'Product Updated',\n        product: updatedProduct\n      });\n    } else {\n      res.status(500).send({\n        message: 'Error in Updating Porduct'\n      });\n    }\n  }\n}));\nproductRouter.delete('/:id', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n\n  if (product) {\n    const deletedProduct = await product.remove();\n    res.send({\n      message: 'Product Deleted',\n      product: deletedProduct\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found!'\n    });\n  }\n}));\nproductRouter.post('/:id/reviews', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n\n  if (product) {\n    const review = {\n      rating: req.body.rating,\n      comment: req.body.comment,\n      user: req.user._id,\n      name: req.user.name\n    };\n    product.reviews.push(review);\n    product.rating = product.reviews.reduce((a, c) => c.rating + a, 0) / product.reviews.length;\n    product.numReviews = product.reviews.length;\n    const updatedProduct = await product.save();\n    res.status(201).send({\n      meassage: 'Comment Created',\n      data: updatedProduct.reviews[updatedProduct.reviews.length - 1]\n    });\n  } else {\n    throw Error('Product does not exist.');\n  }\n}));\nvar _default = productRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9kdWN0Um91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsImV4cHJlc3NBc3luY0hhbmRsZXIiLCJyZXEiLCJyZXMiLCJzZWFyY2hLZXl3b3JkIiwicXVlcnkiLCJuYW1lIiwiJHJlZ2V4IiwiJG9wdGlvbnMiLCJwcm9kdWN0cyIsIlByb2R1Y3QiLCJmaW5kIiwic2VuZCIsInByb2R1Y3QiLCJmaW5kQnlJZCIsInBhcmFtcyIsImlkIiwicG9zdCIsImlzQXV0aCIsImlzQWRtaW4iLCJkZXNjcmlwdGlvbiIsImNhdGVnb3J5IiwiYnJhbmQiLCJpbWFnZSIsImNyZWF0ZWRQcm9kdWN0Iiwic2F2ZSIsInN0YXR1cyIsIm1lc3NhZ2UiLCJwdXQiLCJwcm9kdWN0SWQiLCJib2R5IiwicHJpY2UiLCJjb3VudEluU3RvY2siLCJ1cGRhdGVkUHJvZHVjdCIsImRlbGV0ZSIsImRlbGV0ZWRQcm9kdWN0IiwicmVtb3ZlIiwicmV2aWV3IiwicmF0aW5nIiwiY29tbWVudCIsInVzZXIiLCJfaWQiLCJyZXZpZXdzIiwicHVzaCIsInJlZHVjZSIsImEiLCJjIiwibGVuZ3RoIiwibnVtUmV2aWV3cyIsIm1lYXNzYWdlIiwiZGF0YSIsIkVycm9yIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFJJU0NPSCBGVU5EWlxcRGVza3RvcFxcanNhbWF6b25hXFxiYWNrZW5kXFxyb3V0ZXJzXFwiLCJzb3VyY2VzIjpbInByb2R1Y3RSb3V0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiICBcclxuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCBleHByZXNzQXN5bmNIYW5kbGVyIGZyb20gJ2V4cHJlc3MtYXN5bmMtaGFuZGxlcic7XHJcbmltcG9ydCB7IGlzQXV0aCwgaXNBZG1pbn0gZnJvbSAnLi4vdXRpbHMnO1xyXG5pbXBvcnQgUHJvZHVjdCBmcm9tICcuLi9tb2RlbHMvcHJvZHVjdE1vZGVsJztcclxuXHJcbmNvbnN0IHByb2R1Y3RSb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5wcm9kdWN0Um91dGVyLmdldChcclxuICAgICcvJyxcclxuICAgIGV4cHJlc3NBc3luY0hhbmRsZXIoIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICBjb25zdCBzZWFyY2hLZXl3b3JkID0gcmVxLnF1ZXJ5LnNlYXJjaEtleXdvcmQgP1xyXG4gICAgICB7XHJcbiAgICAgICAgbmFtZToge1xyXG4gICAgICAgICAgICAkcmVnZXg6IHJlcS5xdWVyeS5zZWFyY2hLZXl3b3JkLFxyXG4gICAgICAgICAgICAkb3B0aW9uczogJ2knLFxyXG4gICAgICAgIH0sICAgICAgICAgICAgXHJcbiAgICAgIH0gIFxyXG4gICAgIDoge307IFxyXG4gICAgICAgIGNvbnN0IHByb2R1Y3RzID0gYXdhaXQgUHJvZHVjdC5maW5kKHsgLi4uc2VhcmNoS2V5d29yZH0pO1xyXG4gICAgICAgIHJlcy5zZW5kKHByb2R1Y3RzKSBcclxuICB9KVxyXG4pO1xyXG4gcHJvZHVjdFJvdXRlci5nZXQoXHJcbiAgICAnLzppZCcsXHJcbiAgICBleHByZXNzQXN5bmNIYW5kbGVyKCBhc3luYyAocmVxLCByZXMpID0+e1xyXG4gICAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcclxuICAgICAgcmVzLnNlbmQocHJvZHVjdClcclxuICAgfSlcclxuICk7XHJcblxyXG5wcm9kdWN0Um91dGVyLnBvc3QoICBcclxuICAgICAnLycsIFxyXG4gICAgIGlzQXV0aCxcclxuICAgICBpc0FkbWluLFxyXG4gICAgIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKT0+e1xyXG4gICAgY29uc3QgcHJvZHVjdCA9IG5ldyBQcm9kdWN0KHtcclxuICAgICAgICBuYW1lOiAnc2FtcGxlIHByb2R1Y3QnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnc2FtcGxlIGRlc2MnLFxyXG4gICAgICAgIGNhdGVnb3J5OiAnc2FtcGxlIGNhdGVnb3J5JyxcclxuICAgICAgICBicmFuZDogJ3NhbXBsZSBicmFuZCcsXHJcbiAgICAgICAgaW1hZ2U6ICcvaW1hZ2VzL3Byb2R1Y3QtMS5qcGcnXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGNyZWF0ZWRQcm9kdWN0ID0gYXdhaXQgcHJvZHVjdC5zYXZlKCk7XHJcbiAgICBpZiAoY3JlYXRlZFByb2R1Y3QpIHtcclxuICAgICAgICByZXNcclxuICAgICAgICAgIC5zdGF0dXMoMjAxKVxyXG4gICAgICAgICAgLnNlbmQoe21lc3NhZ2U6ICdQcm9kdWN0IENyZWF0ZWQnLCBwcm9kdWN0OiBjcmVhdGVkUHJvZHVjdH0pO1xyXG4gICAgfSBlbHNlICB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe21lc3NhZ2U6ICdFcnJvciBpbiBDcmVhdGluZyBQb3JkdWN0J30pO1xyXG4gICAgfVxyXG59KVxyXG4pO1xyXG5wcm9kdWN0Um91dGVyLnB1dChcclxuICAgICcvOmlkJyxcclxuICAgIGlzQXV0aCxcclxuICAgIGlzQWRtaW4sXHJcbiAgICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcyk9PiB7XHJcbiAgICBjb25zdCBwcm9kdWN0SWQgPSByZXEucGFyYW1zLmlkO1xyXG4gICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZEJ5SWQocHJvZHVjdElkKTtcclxuICAgIGlmIChwcm9kdWN0KSB7XHJcbiAgICAgICAgcHJvZHVjdC5uYW1lID0gIHJlcS5ib2R5Lm5hbWU7XHJcbiAgICAgICAgcHJvZHVjdC5wcmljZSA9ICByZXEuYm9keS5wcmljZTtcclxuICAgICAgICBwcm9kdWN0LmltYWdlID0gIHJlcS5ib2R5LmltYWdlO1xyXG4gICAgICAgIHByb2R1Y3QuYnJhbmQgPSAgcmVxLmJvZHkuYnJhbmQ7XHJcbiAgICAgICAgcHJvZHVjdC5jYXRlZ29yeSA9ICByZXEuYm9keS5jYXRlZ29yeTtcclxuICAgICAgICBwcm9kdWN0LmNvdW50SW5TdG9jayA9ICByZXEuYm9keS5jb3VudEluU3RvY2s7XHJcbiAgICAgICAgcHJvZHVjdC5kZXNjcmlwdGlvbiA9ICByZXEuYm9keS5kZXNjcmlwdGlvbjtcclxuICAgICAgICBjb25zdCB1cGRhdGVkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3Quc2F2ZSgpO1xyXG4gICAgICAgIGlmICh1cGRhdGVkUHJvZHVjdCkge1xyXG4gICAgICAgICAgICByZXMuc2VuZCAoe21lc3NhZ2U6ICdQcm9kdWN0IFVwZGF0ZWQnLCBwcm9kdWN0OiB1cGRhdGVkUHJvZHVjdCB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6ICdFcnJvciBpbiBVcGRhdGluZyBQb3JkdWN0JyB9KTtcclxuICAgICAgICB9IFxyXG4gICAgfVxyXG59KVxyXG4pO1xyXG5wcm9kdWN0Um91dGVyLmRlbGV0ZShcclxuICAgICcvOmlkJyxcclxuICAgIGlzQXV0aCwgXHJcbiAgICBpc0FkbWluLFxyXG4gICAgZXhwcmVzc0FzeW5jSGFuZGxlciAoYXN5bmMgKHJlcSwgcmVzKSA9PntcclxuICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xyXG4gICAgaWYgKHByb2R1Y3QpIHtcclxuICAgICAgICBjb25zdCBkZWxldGVkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3QucmVtb3ZlKCk7XHJcbiAgICAgICAgcmVzLnNlbmQoe21lc3NhZ2U6ICdQcm9kdWN0IERlbGV0ZWQnLCBwcm9kdWN0OiBkZWxldGVkUHJvZHVjdCB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoe21lc3NhZ2U6ICdQcm9kdWN0IE5vdCBGb3VuZCEnfSk7XHJcbiAgICB9XHJcbn0pXHJcbik7XHJcblxyXG5wcm9kdWN0Um91dGVyLnBvc3QgKFxyXG4gICcvOmlkL3Jldmlld3MnLFxyXG4gIGlzQXV0aCxcclxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcyk9PiB7XHJcbiAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcclxuICAgIGlmIChwcm9kdWN0KSB7XHJcbiAgICAgICAgY29uc3QgcmV2aWV3ID0ge1xyXG4gICAgICAgICAgICByYXRpbmc6IHJlcS5ib2R5LnJhdGluZyxcclxuICAgICAgICAgICAgY29tbWVudDogcmVxLmJvZHkuY29tbWVudCxcclxuICAgICAgICAgICAgdXNlcjogcmVxLnVzZXIuX2lkLFxyXG4gICAgICAgICAgICBuYW1lOiByZXEudXNlci5uYW1lLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcHJvZHVjdC5yZXZpZXdzLnB1c2gocmV2aWV3KTtcclxuICAgICAgICBwcm9kdWN0LnJhdGluZyA9IFxyXG4gICAgICAgIHByb2R1Y3QucmV2aWV3cy5yZWR1Y2UoKGEsIGMpID0+IGMucmF0aW5nICsgYSwgMCkgL1xyXG4gICAgICAgIHByb2R1Y3QucmV2aWV3cy5sZW5ndGg7XHJcbiAgICAgICAgcHJvZHVjdC5udW1SZXZpZXdzID0gcHJvZHVjdC5yZXZpZXdzLmxlbmd0aDtcclxuICAgICAgICBjb25zdCB1cGRhdGVkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3Quc2F2ZSgpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHtcclxuICAgICAgICAgICAgbWVhc3NhZ2U6ICdDb21tZW50IENyZWF0ZWQnLFxyXG4gICAgICAgICAgICBkYXRhOiB1cGRhdGVkUHJvZHVjdC5yZXZpZXdzW3VwZGF0ZWRQcm9kdWN0LnJldmlld3MubGVuZ3RoIC0xXSxcclxuICAgICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhyb3cgRXJyb3IoJ1Byb2R1Y3QgZG9lcyBub3QgZXhpc3QuJylcclxuICAgIH1cclxuICB9KSk7XHJcbmV4cG9ydCBkZWZhdWx0IHByb2R1Y3RSb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7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","map":{"version":3,"names":["productRouter","express","Router","get","expressAsyncHandler","req","res","searchKeyword","query","name","$regex","$options","products","Product","find","send","product","findById","params","id","post","isAuth","isAdmin","description","category","brand","image","createdProduct","save","status","message","put","productId","body","price","countInStock","updatedProduct","delete","deletedProduct","remove","review","rating","comment","user","_id","reviews","push","reduce","a","c","length","numReviews","meassage","data","Error"],"sourceRoot":"C:\\Users\\RISCOH FUNDZ\\Desktop\\jsamazona\\backend\\routers\\","sources":["productRouter.js"],"sourcesContent":["  \r\nimport express from 'express';\r\nimport expressAsyncHandler from 'express-async-handler';\r\nimport { isAuth, isAdmin} from '../utils';\r\nimport Product from '../models/productModel';\r\n\r\nconst productRouter = express.Router();\r\nproductRouter.get(\r\n    '/',\r\n    expressAsyncHandler( async (req, res) => {\r\n      const searchKeyword = req.query.searchKeyword ?\r\n      {\r\n        name: {\r\n            $regex: req.query.searchKeyword,\r\n            $options: 'i',\r\n        },            \r\n      }  \r\n     : {}; \r\n        const products = await Product.find({ ...searchKeyword});\r\n        res.send(products) \r\n  })\r\n);\r\n productRouter.get(\r\n    '/:id',\r\n    expressAsyncHandler( async (req, res) =>{\r\n      const product = await Product.findById(req.params.id);\r\n      res.send(product)\r\n   })\r\n );\r\n\r\nproductRouter.post(  \r\n     '/', \r\n     isAuth,\r\n     isAdmin,\r\n     expressAsyncHandler(async (req, res)=>{\r\n    const product = new Product({\r\n        name: 'sample product',\r\n        description: 'sample desc',\r\n        category: 'sample category',\r\n        brand: 'sample brand',\r\n        image: '/images/product-1.jpg'\r\n    });\r\n    const createdProduct = await product.save();\r\n    if (createdProduct) {\r\n        res\r\n          .status(201)\r\n          .send({message: 'Product Created', product: createdProduct});\r\n    } else  {\r\n        res.status(500).send({message: 'Error in Creating Porduct'});\r\n    }\r\n})\r\n);\r\nproductRouter.put(\r\n    '/:id',\r\n    isAuth,\r\n    isAdmin,\r\n    expressAsyncHandler(async (req, res)=> {\r\n    const productId = req.params.id;\r\n    const product = await Product.findById(productId);\r\n    if (product) {\r\n        product.name =  req.body.name;\r\n        product.price =  req.body.price;\r\n        product.image =  req.body.image;\r\n        product.brand =  req.body.brand;\r\n        product.category =  req.body.category;\r\n        product.countInStock =  req.body.countInStock;\r\n        product.description =  req.body.description;\r\n        const updatedProduct = await product.save();\r\n        if (updatedProduct) {\r\n            res.send ({message: 'Product Updated', product: updatedProduct });\r\n        } else {\r\n            res.status(500).send({ message: 'Error in Updating Porduct' });\r\n        } \r\n    }\r\n})\r\n);\r\nproductRouter.delete(\r\n    '/:id',\r\n    isAuth, \r\n    isAdmin,\r\n    expressAsyncHandler (async (req, res) =>{\r\n    const product = await Product.findById(req.params.id);\r\n    if (product) {\r\n        const deletedProduct = await product.remove();\r\n        res.send({message: 'Product Deleted', product: deletedProduct });\r\n    } else {\r\n        res.status(404).send({message: 'Product Not Found!'});\r\n    }\r\n})\r\n);\r\n\r\nproductRouter.post (\r\n  '/:id/reviews',\r\n  isAuth,\r\n  expressAsyncHandler(async (req, res)=> {\r\n    const product = await Product.findById(req.params.id);\r\n    if (product) {\r\n        const review = {\r\n            rating: req.body.rating,\r\n            comment: req.body.comment,\r\n            user: req.user._id,\r\n            name: req.user.name,\r\n        };\r\n        product.reviews.push(review);\r\n        product.rating = \r\n        product.reviews.reduce((a, c) => c.rating + a, 0) /\r\n        product.reviews.length;\r\n        product.numReviews = product.reviews.length;\r\n        const updatedProduct = await product.save();\r\n        res.status(201).send({\r\n            meassage: 'Comment Created',\r\n            data: updatedProduct.reviews[updatedProduct.reviews.length -1],\r\n        });\r\n    } else {\r\n        throw Error('Product does not exist.')\r\n    }\r\n  }));\r\nexport default productRouter;"],"mappings":";;;;;;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,aAAa,GAAGC,gBAAA,CAAQC,MAAR,EAAtB;;AACAF,aAAa,CAACG,GAAd,CACI,GADJ,EAEI,IAAAC,4BAAA,EAAqB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;EACvC,MAAMC,aAAa,GAAGF,GAAG,CAACG,KAAJ,CAAUD,aAAV,GACtB;IACEE,IAAI,EAAE;MACFC,MAAM,EAAEL,GAAG,CAACG,KAAJ,CAAUD,aADhB;MAEFI,QAAQ,EAAE;IAFR;EADR,CADsB,GAOrB,EAPD;EAQE,MAAMC,QAAQ,GAAG,MAAMC,qBAAA,CAAQC,IAAR,CAAa,EAAE,GAAGP;EAAL,CAAb,CAAvB;EACAD,GAAG,CAACS,IAAJ,CAASH,QAAT;AACL,CAXC,CAFJ;AAeCZ,aAAa,CAACG,GAAd,CACG,MADH,EAEG,IAAAC,4BAAA,EAAqB,OAAOC,GAAP,EAAYC,GAAZ,KAAmB;EACtC,MAAMU,OAAO,GAAG,MAAMH,qBAAA,CAAQI,QAAR,CAAiBZ,GAAG,CAACa,MAAJ,CAAWC,EAA5B,CAAtB;EACAb,GAAG,CAACS,IAAJ,CAASC,OAAT;AACF,CAHA,CAFH;AAQDhB,aAAa,CAACoB,IAAd,CACK,GADL,EAEKC,aAFL,EAGKC,cAHL,EAIK,IAAAlB,4BAAA,EAAoB,OAAOC,GAAP,EAAYC,GAAZ,KAAkB;EACvC,MAAMU,OAAO,GAAG,IAAIH,qBAAJ,CAAY;IACxBJ,IAAI,EAAE,gBADkB;IAExBc,WAAW,EAAE,aAFW;IAGxBC,QAAQ,EAAE,iBAHc;IAIxBC,KAAK,EAAE,cAJiB;IAKxBC,KAAK,EAAE;EALiB,CAAZ,CAAhB;EAOA,MAAMC,cAAc,GAAG,MAAMX,OAAO,CAACY,IAAR,EAA7B;;EACA,IAAID,cAAJ,EAAoB;IAChBrB,GAAG,CACAuB,MADH,CACU,GADV,EAEGd,IAFH,CAEQ;MAACe,OAAO,EAAE,iBAAV;MAA6Bd,OAAO,EAAEW;IAAtC,CAFR;EAGH,CAJD,MAIQ;IACJrB,GAAG,CAACuB,MAAJ,CAAW,GAAX,EAAgBd,IAAhB,CAAqB;MAACe,OAAO,EAAE;IAAV,CAArB;EACH;AACJ,CAhBI,CAJL;AAsBA9B,aAAa,CAAC+B,GAAd,CACI,MADJ,EAEIV,aAFJ,EAGIC,cAHJ,EAII,IAAAlB,4BAAA,EAAoB,OAAOC,GAAP,EAAYC,GAAZ,KAAmB;EACvC,MAAM0B,SAAS,GAAG3B,GAAG,CAACa,MAAJ,CAAWC,EAA7B;EACA,MAAMH,OAAO,GAAG,MAAMH,qBAAA,CAAQI,QAAR,CAAiBe,SAAjB,CAAtB;;EACA,IAAIhB,OAAJ,EAAa;IACTA,OAAO,CAACP,IAAR,GAAgBJ,GAAG,CAAC4B,IAAJ,CAASxB,IAAzB;IACAO,OAAO,CAACkB,KAAR,GAAiB7B,GAAG,CAAC4B,IAAJ,CAASC,KAA1B;IACAlB,OAAO,CAACU,KAAR,GAAiBrB,GAAG,CAAC4B,IAAJ,CAASP,KAA1B;IACAV,OAAO,CAACS,KAAR,GAAiBpB,GAAG,CAAC4B,IAAJ,CAASR,KAA1B;IACAT,OAAO,CAACQ,QAAR,GAAoBnB,GAAG,CAAC4B,IAAJ,CAAST,QAA7B;IACAR,OAAO,CAACmB,YAAR,GAAwB9B,GAAG,CAAC4B,IAAJ,CAASE,YAAjC;IACAnB,OAAO,CAACO,WAAR,GAAuBlB,GAAG,CAAC4B,IAAJ,CAASV,WAAhC;IACA,MAAMa,cAAc,GAAG,MAAMpB,OAAO,CAACY,IAAR,EAA7B;;IACA,IAAIQ,cAAJ,EAAoB;MAChB9B,GAAG,CAACS,IAAJ,CAAU;QAACe,OAAO,EAAE,iBAAV;QAA6Bd,OAAO,EAAEoB;MAAtC,CAAV;IACH,CAFD,MAEO;MACH9B,GAAG,CAACuB,MAAJ,CAAW,GAAX,EAAgBd,IAAhB,CAAqB;QAAEe,OAAO,EAAE;MAAX,CAArB;IACH;EACJ;AACJ,CAlBG,CAJJ;AAwBA9B,aAAa,CAACqC,MAAd,CACI,MADJ,EAEIhB,aAFJ,EAGIC,cAHJ,EAII,IAAAlB,4BAAA,EAAqB,OAAOC,GAAP,EAAYC,GAAZ,KAAmB;EACxC,MAAMU,OAAO,GAAG,MAAMH,qBAAA,CAAQI,QAAR,CAAiBZ,GAAG,CAACa,MAAJ,CAAWC,EAA5B,CAAtB;;EACA,IAAIH,OAAJ,EAAa;IACT,MAAMsB,cAAc,GAAG,MAAMtB,OAAO,CAACuB,MAAR,EAA7B;IACAjC,GAAG,CAACS,IAAJ,CAAS;MAACe,OAAO,EAAE,iBAAV;MAA6Bd,OAAO,EAAEsB;IAAtC,CAAT;EACH,CAHD,MAGO;IACHhC,GAAG,CAACuB,MAAJ,CAAW,GAAX,EAAgBd,IAAhB,CAAqB;MAACe,OAAO,EAAE;IAAV,CAArB;EACH;AACJ,CARG,CAJJ;AAeA9B,aAAa,CAACoB,IAAd,CACE,cADF,EAEEC,aAFF,EAGE,IAAAjB,4BAAA,EAAoB,OAAOC,GAAP,EAAYC,GAAZ,KAAmB;EACrC,MAAMU,OAAO,GAAG,MAAMH,qBAAA,CAAQI,QAAR,CAAiBZ,GAAG,CAACa,MAAJ,CAAWC,EAA5B,CAAtB;;EACA,IAAIH,OAAJ,EAAa;IACT,MAAMwB,MAAM,GAAG;MACXC,MAAM,EAAEpC,GAAG,CAAC4B,IAAJ,CAASQ,MADN;MAEXC,OAAO,EAAErC,GAAG,CAAC4B,IAAJ,CAASS,OAFP;MAGXC,IAAI,EAAEtC,GAAG,CAACsC,IAAJ,CAASC,GAHJ;MAIXnC,IAAI,EAAEJ,GAAG,CAACsC,IAAJ,CAASlC;IAJJ,CAAf;IAMAO,OAAO,CAAC6B,OAAR,CAAgBC,IAAhB,CAAqBN,MAArB;IACAxB,OAAO,CAACyB,MAAR,GACAzB,OAAO,CAAC6B,OAAR,CAAgBE,MAAhB,CAAuB,CAACC,CAAD,EAAIC,CAAJ,KAAUA,CAAC,CAACR,MAAF,GAAWO,CAA5C,EAA+C,CAA/C,IACAhC,OAAO,CAAC6B,OAAR,CAAgBK,MAFhB;IAGAlC,OAAO,CAACmC,UAAR,GAAqBnC,OAAO,CAAC6B,OAAR,CAAgBK,MAArC;IACA,MAAMd,cAAc,GAAG,MAAMpB,OAAO,CAACY,IAAR,EAA7B;IACAtB,GAAG,CAACuB,MAAJ,CAAW,GAAX,EAAgBd,IAAhB,CAAqB;MACjBqC,QAAQ,EAAE,iBADO;MAEjBC,IAAI,EAAEjB,cAAc,CAACS,OAAf,CAAuBT,cAAc,CAACS,OAAf,CAAuBK,MAAvB,GAA+B,CAAtD;IAFW,CAArB;EAIH,CAjBD,MAiBO;IACH,MAAMI,KAAK,CAAC,yBAAD,CAAX;EACH;AACF,CAtBD,CAHF;eA0BetD,a"}},"mtime":1678547978545},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"filename\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\models\\\\productModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst reviewSchema = new _mongoose.default.Schema({\n  user: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'User',\n    required: true\n  },\n  name: {\n    type: String,\n    required: true\n  },\n  rating: {\n    type: Number,\n    required: true,\n    default: 0,\n    min: 0,\n    max: 5\n  },\n  comment: {\n    type: String,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst productSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  category: {\n    type: String,\n    required: true\n  },\n  brand: {\n    type: String,\n    required: true\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: Number,\n    default: 0.0,\n    required: true\n  },\n  countInStock: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  rating: {\n    type: Number,\n    default: 0.0,\n    required: true\n  },\n  numReviews: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  reviews: [reviewSchema]\n}, {\n  timestamps: true\n});\n\nconst Product = _mongoose.default.model('Product', productSchema);\n\nvar _default = Product;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXZpZXdTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsInVzZXIiLCJ0eXBlIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwibmFtZSIsIlN0cmluZyIsInJhdGluZyIsIk51bWJlciIsImRlZmF1bHQiLCJtaW4iLCJtYXgiLCJjb21tZW50IiwidGltZXN0YW1wcyIsInByb2R1Y3RTY2hlbWEiLCJkZXNjcmlwdGlvbiIsImNhdGVnb3J5IiwiYnJhbmQiLCJpbWFnZSIsInByaWNlIiwiY291bnRJblN0b2NrIiwibnVtUmV2aWV3cyIsInJldmlld3MiLCJQcm9kdWN0IiwibW9kZWwiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcUklTQ09IIEZVTkRaXFxEZXNrdG9wXFxqc2FtYXpvbmFcXGJhY2tlbmRcXG1vZGVsc1xcIiwic291cmNlcyI6WyJwcm9kdWN0TW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XHJcblxyXG5jb25zdCByZXZpZXdTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKFxyXG4gICAge1xyXG4gICAgICAgIHVzZXI6IHt0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ1VzZXInLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICAgICAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgICAgICByYXRpbmc6IHtcclxuICAgICAgICAgICAgdHlwZTogTnVtYmVyLFxyXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICAgICAgZGVmYXVsdDogMCxcclxuICAgICAgICAgICAgbWluOiAwLFxyXG4gICAgICAgICAgICBtYXg6IDUsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb21tZW50OiB7dHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICB9LFxyXG4gICAge3RpbWVzdGFtcHM6IHRydWV9XHJcbik7XHJcblxyXG5jb25zdCBwcm9kdWN0U2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYShcclxuICAgIHtcclxuICAgIG5hbWU6IHt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgIGRlc2NyaXB0aW9uOiB7dHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICBjYXRlZ29yeToge3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWV9LFxyXG4gICAgYnJhbmQ6IHt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgIGltYWdlOiB7dHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICBwcmljZToge3R5cGU6IE51bWJlciwgZGVmYXVsdDogMC4wLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICBjb3VudEluU3RvY2s6IHt0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgIHJhdGluZzoge3R5cGU6IE51bWJlciwgZGVmYXVsdDogMC4wLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICBudW1SZXZpZXdzOiB7dHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICByZXZpZXdzOiBbcmV2aWV3U2NoZW1hXSxcclxufSxcclxuIHt0aW1lc3RhbXBzOiB0cnVlfVxyXG4pO1xyXG5jb25zdCBQcm9kdWN0ID0gbW9uZ29vc2UubW9kZWwoJ1Byb2R1Y3QnLCBwcm9kdWN0U2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgUHJvZHVjdDsgIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxZQUFZLEdBQUcsSUFBSUMsaUJBQUEsQ0FBU0MsTUFBYixDQUNqQjtFQUNJQyxJQUFJLEVBQUU7SUFBQ0MsSUFBSSxFQUFFSCxpQkFBQSxDQUFTQyxNQUFULENBQWdCRyxLQUFoQixDQUFzQkMsUUFBN0I7SUFBdUNDLEdBQUcsRUFBRSxNQUE1QztJQUFvREMsUUFBUSxFQUFFO0VBQTlELENBRFY7RUFFSUMsSUFBSSxFQUFFO0lBQUVMLElBQUksRUFBRU0sTUFBUjtJQUFnQkYsUUFBUSxFQUFFO0VBQTFCLENBRlY7RUFHSUcsTUFBTSxFQUFFO0lBQ0pQLElBQUksRUFBRVEsTUFERjtJQUVKSixRQUFRLEVBQUUsSUFGTjtJQUdKSyxPQUFPLEVBQUUsQ0FITDtJQUlKQyxHQUFHLEVBQUUsQ0FKRDtJQUtKQyxHQUFHLEVBQUU7RUFMRCxDQUhaO0VBVUlDLE9BQU8sRUFBRTtJQUFDWixJQUFJLEVBQUVNLE1BQVA7SUFBZUYsUUFBUSxFQUFFO0VBQXpCO0FBVmIsQ0FEaUIsRUFhakI7RUFBQ1MsVUFBVSxFQUFFO0FBQWIsQ0FiaUIsQ0FBckI7QUFnQkEsTUFBTUMsYUFBYSxHQUFHLElBQUlqQixpQkFBQSxDQUFTQyxNQUFiLENBQ2xCO0VBQ0FPLElBQUksRUFBRTtJQUFDTCxJQUFJLEVBQUVNLE1BQVA7SUFBZUYsUUFBUSxFQUFFO0VBQXpCLENBRE47RUFFQVcsV0FBVyxFQUFFO0lBQUNmLElBQUksRUFBRU0sTUFBUDtJQUFlRixRQUFRLEVBQUU7RUFBekIsQ0FGYjtFQUdBWSxRQUFRLEVBQUU7SUFBQ2hCLElBQUksRUFBRU0sTUFBUDtJQUFlRixRQUFRLEVBQUU7RUFBekIsQ0FIVjtFQUlBYSxLQUFLLEVBQUU7SUFBQ2pCLElBQUksRUFBRU0sTUFBUDtJQUFlRixRQUFRLEVBQUU7RUFBekIsQ0FKUDtFQUtBYyxLQUFLLEVBQUU7SUFBQ2xCLElBQUksRUFBRU0sTUFBUDtJQUFlRixRQUFRLEVBQUU7RUFBekIsQ0FMUDtFQU1BZSxLQUFLLEVBQUU7SUFBQ25CLElBQUksRUFBRVEsTUFBUDtJQUFlQyxPQUFPLEVBQUUsR0FBeEI7SUFBNkJMLFFBQVEsRUFBRTtFQUF2QyxDQU5QO0VBT0FnQixZQUFZLEVBQUU7SUFBQ3BCLElBQUksRUFBRVEsTUFBUDtJQUFlQyxPQUFPLEVBQUUsQ0FBeEI7SUFBMkJMLFFBQVEsRUFBRTtFQUFyQyxDQVBkO0VBUUFHLE1BQU0sRUFBRTtJQUFDUCxJQUFJLEVBQUVRLE1BQVA7SUFBZUMsT0FBTyxFQUFFLEdBQXhCO0lBQTZCTCxRQUFRLEVBQUU7RUFBdkMsQ0FSUjtFQVNBaUIsVUFBVSxFQUFFO0lBQUNyQixJQUFJLEVBQUVRLE1BQVA7SUFBZUMsT0FBTyxFQUFFLENBQXhCO0lBQTJCTCxRQUFRLEVBQUU7RUFBckMsQ0FUWjtFQVVBa0IsT0FBTyxFQUFFLENBQUMxQixZQUFEO0FBVlQsQ0FEa0IsRUFhckI7RUFBQ2lCLFVBQVUsRUFBRTtBQUFiLENBYnFCLENBQXRCOztBQWVBLE1BQU1VLE9BQU8sR0FBRzFCLGlCQUFBLENBQVMyQixLQUFULENBQWUsU0FBZixFQUEwQlYsYUFBMUIsQ0FBaEI7O2VBQ2VTLE8ifQ==","map":{"version":3,"names":["reviewSchema","mongoose","Schema","user","type","Types","ObjectId","ref","required","name","String","rating","Number","default","min","max","comment","timestamps","productSchema","description","category","brand","image","price","countInStock","numReviews","reviews","Product","model"],"sourceRoot":"C:\\Users\\RISCOH FUNDZ\\Desktop\\jsamazona\\backend\\models\\","sources":["productModel.js"],"sourcesContent":["\r\nimport mongoose from 'mongoose';\r\n\r\nconst reviewSchema = new mongoose.Schema(\r\n    {\r\n        user: {type: mongoose.Schema.Types.ObjectId, ref: 'User', required: true},\r\n        name: { type: String, required: true},\r\n        rating: {\r\n            type: Number,\r\n            required: true,\r\n            default: 0,\r\n            min: 0,\r\n            max: 5,\r\n        },\r\n        comment: {type: String, required: true},\r\n    },\r\n    {timestamps: true}\r\n);\r\n\r\nconst productSchema = new mongoose.Schema(\r\n    {\r\n    name: {type: String, required: true},\r\n    description: {type: String, required: true},\r\n    category: {type: String, required: true},\r\n    brand: {type: String, required: true},\r\n    image: {type: String, required: true},\r\n    price: {type: Number, default: 0.0, required: true},\r\n    countInStock: {type: Number, default: 0, required: true},\r\n    rating: {type: Number, default: 0.0, required: true},\r\n    numReviews: {type: Number, default: 0, required: true},\r\n    reviews: [reviewSchema],\r\n},\r\n {timestamps: true}\r\n);\r\nconst Product = mongoose.model('Product', productSchema);\r\nexport default Product; "],"mappings":";;;;;;;AACA;;;;AAEA,MAAMA,YAAY,GAAG,IAAIC,iBAAA,CAASC,MAAb,CACjB;EACIC,IAAI,EAAE;IAACC,IAAI,EAAEH,iBAAA,CAASC,MAAT,CAAgBG,KAAhB,CAAsBC,QAA7B;IAAuCC,GAAG,EAAE,MAA5C;IAAoDC,QAAQ,EAAE;EAA9D,CADV;EAEIC,IAAI,EAAE;IAAEL,IAAI,EAAEM,MAAR;IAAgBF,QAAQ,EAAE;EAA1B,CAFV;EAGIG,MAAM,EAAE;IACJP,IAAI,EAAEQ,MADF;IAEJJ,QAAQ,EAAE,IAFN;IAGJK,OAAO,EAAE,CAHL;IAIJC,GAAG,EAAE,CAJD;IAKJC,GAAG,EAAE;EALD,CAHZ;EAUIC,OAAO,EAAE;IAACZ,IAAI,EAAEM,MAAP;IAAeF,QAAQ,EAAE;EAAzB;AAVb,CADiB,EAajB;EAACS,UAAU,EAAE;AAAb,CAbiB,CAArB;AAgBA,MAAMC,aAAa,GAAG,IAAIjB,iBAAA,CAASC,MAAb,CAClB;EACAO,IAAI,EAAE;IAACL,IAAI,EAAEM,MAAP;IAAeF,QAAQ,EAAE;EAAzB,CADN;EAEAW,WAAW,EAAE;IAACf,IAAI,EAAEM,MAAP;IAAeF,QAAQ,EAAE;EAAzB,CAFb;EAGAY,QAAQ,EAAE;IAAChB,IAAI,EAAEM,MAAP;IAAeF,QAAQ,EAAE;EAAzB,CAHV;EAIAa,KAAK,EAAE;IAACjB,IAAI,EAAEM,MAAP;IAAeF,QAAQ,EAAE;EAAzB,CAJP;EAKAc,KAAK,EAAE;IAAClB,IAAI,EAAEM,MAAP;IAAeF,QAAQ,EAAE;EAAzB,CALP;EAMAe,KAAK,EAAE;IAACnB,IAAI,EAAEQ,MAAP;IAAeC,OAAO,EAAE,GAAxB;IAA6BL,QAAQ,EAAE;EAAvC,CANP;EAOAgB,YAAY,EAAE;IAACpB,IAAI,EAAEQ,MAAP;IAAeC,OAAO,EAAE,CAAxB;IAA2BL,QAAQ,EAAE;EAArC,CAPd;EAQAG,MAAM,EAAE;IAACP,IAAI,EAAEQ,MAAP;IAAeC,OAAO,EAAE,GAAxB;IAA6BL,QAAQ,EAAE;EAAvC,CARR;EASAiB,UAAU,EAAE;IAACrB,IAAI,EAAEQ,MAAP;IAAeC,OAAO,EAAE,CAAxB;IAA2BL,QAAQ,EAAE;EAArC,CATZ;EAUAkB,OAAO,EAAE,CAAC1B,YAAD;AAVT,CADkB,EAarB;EAACiB,UAAU,EAAE;AAAb,CAbqB,CAAtB;;AAeA,MAAMU,OAAO,GAAG1B,iBAAA,CAAS2B,KAAT,CAAe,SAAf,EAA0BV,aAA1B,CAAhB;;eACeS,O"}},"mtime":1673886931541},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"filename\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\routers\\\\productRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _utils = require(\"../utils\");\n\nvar _productModel = _interopRequireDefault(require(\"../models/productModel\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst productRouter = _express.default.Router();\n\nproductRouter.get('/', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const searchKeyword = req.query.searchKeyword ? {\n    name: {\n      $regex: req.query.searchKeyword,\n      $options: 'i'\n    }\n  } : {};\n  const products = await _productModel.default.find({ ...searchKeyword\n  });\n  res.send(products);\n}));\nproductRouter.get('/:id', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n  res.send(product);\n}));\nproductRouter.post('/', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = new _productModel.default({\n    name: 'sample product',\n    description: 'sample desc',\n    category: 'sample category',\n    brand: 'sample brand',\n    image: '/images/product-1.jpg'\n  });\n  const createdProduct = await product.save();\n\n  if (createdProduct) {\n    res.status(201).send({\n      message: 'Product Created',\n      product: createdProduct\n    });\n  } else {\n    res.status(500).send({\n      message: 'Error in Creating Porduct'\n    });\n  }\n}));\nproductRouter.put('/:id', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const productId = req.params.id;\n  const product = await _productModel.default.findById(productId);\n\n  if (product) {\n    product.name = req.body.name;\n    product.price = req.body.price;\n    product.image = req.body.image;\n    product.brand = req.body.brand;\n    product.category = req.body.category;\n    product.countInStock = req.body.countInStock;\n    product.description = req.body.description;\n    const updatedProduct = await product.save();\n\n    if (updatedProduct) {\n      res.send({\n        message: 'Product Updated',\n        product: updatedProduct\n      });\n    } else {\n      res.status(500).send({\n        message: 'Error in Updating Porduct'\n      });\n    }\n  }\n}));\nproductRouter.delete('/:id', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n\n  if (product) {\n    const deletedProduct = await product.remove();\n    res.send({\n      message: 'Product Deleted',\n      product: deletedProduct\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found!'\n    });\n  }\n}));\nproductRouter.post('/:id/reviews', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n\n  if (product) {\n    const review = {\n      rating: req.body.rating,\n      comment: req.body.comment,\n      user: req.user._id,\n      name: req.user.name\n    };\n    product.reviews.push(review);\n    product.rating = product.reviews.reduce((a, c) => c.rating + a, 0) / product.reviews.length;\n    product.numReviews = product.reviews.length;\n    const updatedProduct = await product.save();\n    res.status(201).send({\n      meassage: 'Comment Created',\n      data: updatedProduct.reviews[updatedProduct.reviews.length - 1]\n    });\n  } else {\n    throw Error('Product does not exist.');\n  }\n}));\nvar _default = productRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9kdWN0Um91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsImV4cHJlc3NBc3luY0hhbmRsZXIiLCJyZXEiLCJyZXMiLCJzZWFyY2hLZXl3b3JkIiwicXVlcnkiLCJuYW1lIiwiJHJlZ2V4IiwiJG9wdGlvbnMiLCJwcm9kdWN0cyIsIlByb2R1Y3QiLCJmaW5kIiwic2VuZCIsInByb2R1Y3QiLCJmaW5kQnlJZCIsInBhcmFtcyIsImlkIiwicG9zdCIsImlzQXV0aCIsImlzQWRtaW4iLCJkZXNjcmlwdGlvbiIsImNhdGVnb3J5IiwiYnJhbmQiLCJpbWFnZSIsImNyZWF0ZWRQcm9kdWN0Iiwic2F2ZSIsInN0YXR1cyIsIm1lc3NhZ2UiLCJwdXQiLCJwcm9kdWN0SWQiLCJib2R5IiwicHJpY2UiLCJjb3VudEluU3RvY2siLCJ1cGRhdGVkUHJvZHVjdCIsImRlbGV0ZSIsImRlbGV0ZWRQcm9kdWN0IiwicmVtb3ZlIiwicmV2aWV3IiwicmF0aW5nIiwiY29tbWVudCIsInVzZXIiLCJfaWQiLCJyZXZpZXdzIiwicHVzaCIsInJlZHVjZSIsImEiLCJjIiwibGVuZ3RoIiwibnVtUmV2aWV3cyIsIm1lYXNzYWdlIiwiZGF0YSIsIkVycm9yIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFJJU0NPSCBGVU5EWlxcRGVza3RvcFxcanNhbWF6b25hXFxiYWNrZW5kXFxyb3V0ZXJzXFwiLCJzb3VyY2VzIjpbInByb2R1Y3RSb3V0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiICBcclxuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCBleHByZXNzQXN5bmNIYW5kbGVyIGZyb20gJ2V4cHJlc3MtYXN5bmMtaGFuZGxlcic7XHJcbmltcG9ydCB7IGlzQXV0aCwgaXNBZG1pbn0gZnJvbSAnLi4vdXRpbHMnO1xyXG5pbXBvcnQgUHJvZHVjdCBmcm9tICcuLi9tb2RlbHMvcHJvZHVjdE1vZGVsJztcclxuXHJcbmNvbnN0IHByb2R1Y3RSb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5wcm9kdWN0Um91dGVyLmdldChcclxuICAgICcvJyxcclxuICAgIGV4cHJlc3NBc3luY0hhbmRsZXIoIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICBjb25zdCBzZWFyY2hLZXl3b3JkID0gcmVxLnF1ZXJ5LnNlYXJjaEtleXdvcmQgP1xyXG4gICAgICB7XHJcbiAgICAgICAgbmFtZToge1xyXG4gICAgICAgICAgICAkcmVnZXg6IHJlcS5xdWVyeS5zZWFyY2hLZXl3b3JkLFxyXG4gICAgICAgICAgICAkb3B0aW9uczogJ2knLFxyXG4gICAgICAgIH0sICAgICAgICAgICAgXHJcbiAgICAgIH0gIFxyXG4gICAgIDoge307IFxyXG4gICAgICAgIGNvbnN0IHByb2R1Y3RzID0gYXdhaXQgUHJvZHVjdC5maW5kKHsgLi4uc2VhcmNoS2V5d29yZH0pO1xyXG4gICAgICAgIHJlcy5zZW5kKHByb2R1Y3RzKSBcclxuICB9KVxyXG4pO1xyXG4gcHJvZHVjdFJvdXRlci5nZXQoXHJcbiAgICAnLzppZCcsXHJcbiAgICBleHByZXNzQXN5bmNIYW5kbGVyKCBhc3luYyAocmVxLCByZXMpID0+e1xyXG4gICAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcclxuICAgICAgcmVzLnNlbmQocHJvZHVjdClcclxuICAgfSlcclxuICk7XHJcblxyXG5wcm9kdWN0Um91dGVyLnBvc3QoICBcclxuICAgICAnLycsIFxyXG4gICAgIGlzQXV0aCxcclxuICAgICBpc0FkbWluLFxyXG4gICAgIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKT0+e1xyXG4gICAgY29uc3QgcHJvZHVjdCA9IG5ldyBQcm9kdWN0KHtcclxuICAgICAgICBuYW1lOiAnc2FtcGxlIHByb2R1Y3QnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnc2FtcGxlIGRlc2MnLFxyXG4gICAgICAgIGNhdGVnb3J5OiAnc2FtcGxlIGNhdGVnb3J5JyxcclxuICAgICAgICBicmFuZDogJ3NhbXBsZSBicmFuZCcsXHJcbiAgICAgICAgaW1hZ2U6ICcvaW1hZ2VzL3Byb2R1Y3QtMS5qcGcnXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGNyZWF0ZWRQcm9kdWN0ID0gYXdhaXQgcHJvZHVjdC5zYXZlKCk7XHJcbiAgICBpZiAoY3JlYXRlZFByb2R1Y3QpIHtcclxuICAgICAgICByZXNcclxuICAgICAgICAgIC5zdGF0dXMoMjAxKVxyXG4gICAgICAgICAgLnNlbmQoe21lc3NhZ2U6ICdQcm9kdWN0IENyZWF0ZWQnLCBwcm9kdWN0OiBjcmVhdGVkUHJvZHVjdH0pO1xyXG4gICAgfSBlbHNlICB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe21lc3NhZ2U6ICdFcnJvciBpbiBDcmVhdGluZyBQb3JkdWN0J30pO1xyXG4gICAgfVxyXG59KVxyXG4pO1xyXG5wcm9kdWN0Um91dGVyLnB1dChcclxuICAgICcvOmlkJyxcclxuICAgIGlzQXV0aCxcclxuICAgIGlzQWRtaW4sXHJcbiAgICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcyk9PiB7XHJcbiAgICBjb25zdCBwcm9kdWN0SWQgPSByZXEucGFyYW1zLmlkO1xyXG4gICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZEJ5SWQocHJvZHVjdElkKTtcclxuICAgIGlmIChwcm9kdWN0KSB7XHJcbiAgICAgICAgcHJvZHVjdC5uYW1lID0gIHJlcS5ib2R5Lm5hbWU7XHJcbiAgICAgICAgcHJvZHVjdC5wcmljZSA9ICByZXEuYm9keS5wcmljZTtcclxuICAgICAgICBwcm9kdWN0LmltYWdlID0gIHJlcS5ib2R5LmltYWdlO1xyXG4gICAgICAgIHByb2R1Y3QuYnJhbmQgPSAgcmVxLmJvZHkuYnJhbmQ7XHJcbiAgICAgICAgcHJvZHVjdC5jYXRlZ29yeSA9ICByZXEuYm9keS5jYXRlZ29yeTtcclxuICAgICAgICBwcm9kdWN0LmNvdW50SW5TdG9jayA9ICByZXEuYm9keS5jb3VudEluU3RvY2s7XHJcbiAgICAgICAgcHJvZHVjdC5kZXNjcmlwdGlvbiA9ICByZXEuYm9keS5kZXNjcmlwdGlvbjtcclxuICAgICAgICBjb25zdCB1cGRhdGVkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3Quc2F2ZSgpO1xyXG4gICAgICAgIGlmICh1cGRhdGVkUHJvZHVjdCkge1xyXG4gICAgICAgICAgICByZXMuc2VuZCAoe21lc3NhZ2U6ICdQcm9kdWN0IFVwZGF0ZWQnLCBwcm9kdWN0OiB1cGRhdGVkUHJvZHVjdCB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6ICdFcnJvciBpbiBVcGRhdGluZyBQb3JkdWN0JyB9KTtcclxuICAgICAgICB9IFxyXG4gICAgfVxyXG59KVxyXG4pO1xyXG5wcm9kdWN0Um91dGVyLmRlbGV0ZShcclxuICAgICcvOmlkJyxcclxuICAgIGlzQXV0aCwgXHJcbiAgICBpc0FkbWluLFxyXG4gICAgZXhwcmVzc0FzeW5jSGFuZGxlciAoYXN5bmMgKHJlcSwgcmVzKSA9PntcclxuICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xyXG4gICAgaWYgKHByb2R1Y3QpIHtcclxuICAgICAgICBjb25zdCBkZWxldGVkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3QucmVtb3ZlKCk7XHJcbiAgICAgICAgcmVzLnNlbmQoe21lc3NhZ2U6ICdQcm9kdWN0IERlbGV0ZWQnLCBwcm9kdWN0OiBkZWxldGVkUHJvZHVjdCB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoe21lc3NhZ2U6ICdQcm9kdWN0IE5vdCBGb3VuZCEnfSk7XHJcbiAgICB9XHJcbn0pXHJcbik7XHJcblxyXG5wcm9kdWN0Um91dGVyLnBvc3QgKFxyXG4gICcvOmlkL3Jldmlld3MnLFxyXG4gIGlzQXV0aCxcclxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcyk9PiB7XHJcbiAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcclxuICAgIGlmIChwcm9kdWN0KSB7XHJcbiAgICAgICAgY29uc3QgcmV2aWV3ID0ge1xyXG4gICAgICAgICAgICByYXRpbmc6IHJlcS5ib2R5LnJhdGluZyxcclxuICAgICAgICAgICAgY29tbWVudDogcmVxLmJvZHkuY29tbWVudCxcclxuICAgICAgICAgICAgdXNlcjogcmVxLnVzZXIuX2lkLFxyXG4gICAgICAgICAgICBuYW1lOiByZXEudXNlci5uYW1lLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcHJvZHVjdC5yZXZpZXdzLnB1c2gocmV2aWV3KTtcclxuICAgICAgICBwcm9kdWN0LnJhdGluZyA9IFxyXG4gICAgICAgIHByb2R1Y3QucmV2aWV3cy5yZWR1Y2UoKGEsIGMpID0+IGMucmF0aW5nICsgYSwgMCkgL1xyXG4gICAgICAgIHByb2R1Y3QucmV2aWV3cy5sZW5ndGg7XHJcbiAgICAgICAgcHJvZHVjdC5udW1SZXZpZXdzID0gcHJvZHVjdC5yZXZpZXdzLmxlbmd0aDtcclxuICAgICAgICBjb25zdCB1cGRhdGVkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3Quc2F2ZSgpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHtcclxuICAgICAgICAgICAgbWVhc3NhZ2U6ICdDb21tZW50IENyZWF0ZWQnLFxyXG4gICAgICAgICAgICBkYXRhOiB1cGRhdGVkUHJvZHVjdC5yZXZpZXdzW3VwZGF0ZWRQcm9kdWN0LnJldmlld3MubGVuZ3RoIC0xXSxcclxuICAgICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhyb3cgRXJyb3IoJ1Byb2R1Y3QgZG9lcyBub3QgZXhpc3QuJylcclxuICAgIH1cclxuICB9KSk7XHJcbmV4cG9ydCBkZWZhdWx0IHByb2R1Y3RSb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7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","map":{"version":3,"names":["productRouter","express","Router","get","expressAsyncHandler","req","res","searchKeyword","query","name","$regex","$options","products","Product","find","send","product","findById","params","id","post","isAuth","isAdmin","description","category","brand","image","createdProduct","save","status","message","put","productId","body","price","countInStock","updatedProduct","delete","deletedProduct","remove","review","rating","comment","user","_id","reviews","push","reduce","a","c","length","numReviews","meassage","data","Error"],"sourceRoot":"C:\\Users\\RISCOH FUNDZ\\Desktop\\jsamazona\\backend\\routers\\","sources":["productRouter.js"],"sourcesContent":["  \r\nimport express from 'express';\r\nimport expressAsyncHandler from 'express-async-handler';\r\nimport { isAuth, isAdmin} from '../utils';\r\nimport Product from '../models/productModel';\r\n\r\nconst productRouter = express.Router();\r\nproductRouter.get(\r\n    '/',\r\n    expressAsyncHandler( async (req, res) => {\r\n      const searchKeyword = req.query.searchKeyword ?\r\n      {\r\n        name: {\r\n            $regex: req.query.searchKeyword,\r\n            $options: 'i',\r\n        },            \r\n      }  \r\n     : {}; \r\n        const products = await Product.find({ ...searchKeyword});\r\n        res.send(products) \r\n  })\r\n);\r\n productRouter.get(\r\n    '/:id',\r\n    expressAsyncHandler( async (req, res) =>{\r\n      const product = await Product.findById(req.params.id);\r\n      res.send(product)\r\n   })\r\n );\r\n\r\nproductRouter.post(  \r\n     '/', \r\n     isAuth,\r\n     isAdmin,\r\n     expressAsyncHandler(async (req, res)=>{\r\n    const product = new Product({\r\n        name: 'sample product',\r\n        description: 'sample desc',\r\n        category: 'sample category',\r\n        brand: 'sample brand',\r\n        image: '/images/product-1.jpg'\r\n    });\r\n    const createdProduct = await product.save();\r\n    if (createdProduct) {\r\n        res\r\n          .status(201)\r\n          .send({message: 'Product Created', product: createdProduct});\r\n    } else  {\r\n        res.status(500).send({message: 'Error in Creating Porduct'});\r\n    }\r\n})\r\n);\r\nproductRouter.put(\r\n    '/:id',\r\n    isAuth,\r\n    isAdmin,\r\n    expressAsyncHandler(async (req, res)=> {\r\n    const productId = req.params.id;\r\n    const product = await Product.findById(productId);\r\n    if (product) {\r\n        product.name =  req.body.name;\r\n        product.price =  req.body.price;\r\n        product.image =  req.body.image;\r\n        product.brand =  req.body.brand;\r\n        product.category =  req.body.category;\r\n        product.countInStock =  req.body.countInStock;\r\n        product.description =  req.body.description;\r\n        const updatedProduct = await product.save();\r\n        if (updatedProduct) {\r\n            res.send ({message: 'Product Updated', product: updatedProduct });\r\n        } else {\r\n            res.status(500).send({ message: 'Error in Updating Porduct' });\r\n        } \r\n    }\r\n})\r\n);\r\nproductRouter.delete(\r\n    '/:id',\r\n    isAuth, \r\n    isAdmin,\r\n    expressAsyncHandler (async (req, res) =>{\r\n    const product = await Product.findById(req.params.id);\r\n    if (product) {\r\n        const deletedProduct = await product.remove();\r\n        res.send({message: 'Product Deleted', product: deletedProduct });\r\n    } else {\r\n        res.status(404).send({message: 'Product Not Found!'});\r\n    }\r\n})\r\n);\r\n\r\nproductRouter.post (\r\n  '/:id/reviews',\r\n  isAuth,\r\n  expressAsyncHandler(async (req, res)=> {\r\n    const product = await Product.findById(req.params.id);\r\n    if (product) {\r\n        const review = {\r\n            rating: req.body.rating,\r\n            comment: req.body.comment,\r\n            user: req.user._id,\r\n            name: req.user.name,\r\n        };\r\n        product.reviews.push(review);\r\n        product.rating = \r\n        product.reviews.reduce((a, c) => c.rating + a, 0) /\r\n        product.reviews.length;\r\n        product.numReviews = product.reviews.length;\r\n        const updatedProduct = await product.save();\r\n        res.status(201).send({\r\n            meassage: 'Comment Created',\r\n            data: updatedProduct.reviews[updatedProduct.reviews.length -1],\r\n        });\r\n    } else {\r\n        throw Error('Product does not exist.')\r\n    }\r\n  }));\r\nexport default productRouter;"],"mappings":"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"}},"mtime":1678547978545},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"filename\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\models\\\\productModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst reviewSchema = new _mongoose.default.Schema({\n  user: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'User',\n    required: true\n  },\n  name: {\n    type: String,\n    required: true\n  },\n  rating: {\n    type: Number,\n    required: true,\n    default: 0,\n    min: 0,\n    max: 5\n  },\n  comment: {\n    type: String,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst productSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  category: {\n    type: String,\n    required: true\n  },\n  brand: {\n    type: String,\n    required: true\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: Number,\n    default: 0.0,\n    required: true\n  },\n  countInStock: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  rating: {\n    type: Number,\n    default: 0.0,\n    required: true\n  },\n  numReviews: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  reviews: [reviewSchema]\n}, {\n  timestamps: true\n});\n\nconst Product = _mongoose.default.model('Product', productSchema);\n\nvar _default = Product;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXZpZXdTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsInVzZXIiLCJ0eXBlIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwibmFtZSIsIlN0cmluZyIsInJhdGluZyIsIk51bWJlciIsImRlZmF1bHQiLCJtaW4iLCJtYXgiLCJjb21tZW50IiwidGltZXN0YW1wcyIsInByb2R1Y3RTY2hlbWEiLCJkZXNjcmlwdGlvbiIsImNhdGVnb3J5IiwiYnJhbmQiLCJpbWFnZSIsInByaWNlIiwiY291bnRJblN0b2NrIiwibnVtUmV2aWV3cyIsInJldmlld3MiLCJQcm9kdWN0IiwibW9kZWwiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcUklTQ09IIEZVTkRaXFxEZXNrdG9wXFxqc2FtYXpvbmFcXGJhY2tlbmRcXG1vZGVsc1xcIiwic291cmNlcyI6WyJwcm9kdWN0TW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XHJcblxyXG5jb25zdCByZXZpZXdTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKFxyXG4gICAge1xyXG4gICAgICAgIHVzZXI6IHt0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ1VzZXInLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICAgICAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgICAgICByYXRpbmc6IHtcclxuICAgICAgICAgICAgdHlwZTogTnVtYmVyLFxyXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICAgICAgZGVmYXVsdDogMCxcclxuICAgICAgICAgICAgbWluOiAwLFxyXG4gICAgICAgICAgICBtYXg6IDUsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb21tZW50OiB7dHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICB9LFxyXG4gICAge3RpbWVzdGFtcHM6IHRydWV9XHJcbik7XHJcblxyXG5jb25zdCBwcm9kdWN0U2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYShcclxuICAgIHtcclxuICAgIG5hbWU6IHt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgIGRlc2NyaXB0aW9uOiB7dHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICBjYXRlZ29yeToge3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWV9LFxyXG4gICAgYnJhbmQ6IHt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgIGltYWdlOiB7dHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICBwcmljZToge3R5cGU6IE51bWJlciwgZGVmYXVsdDogMC4wLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICBjb3VudEluU3RvY2s6IHt0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgIHJhdGluZzoge3R5cGU6IE51bWJlciwgZGVmYXVsdDogMC4wLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICBudW1SZXZpZXdzOiB7dHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICByZXZpZXdzOiBbcmV2aWV3U2NoZW1hXSxcclxufSxcclxuIHt0aW1lc3RhbXBzOiB0cnVlfVxyXG4pO1xyXG5jb25zdCBQcm9kdWN0ID0gbW9uZ29vc2UubW9kZWwoJ1Byb2R1Y3QnLCBwcm9kdWN0U2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgUHJvZHVjdDsgIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxZQUFZLEdBQUcsSUFBSUMsaUJBQUEsQ0FBU0MsTUFBYixDQUNqQjtFQUNJQyxJQUFJLEVBQUU7SUFBQ0MsSUFBSSxFQUFFSCxpQkFBQSxDQUFTQyxNQUFULENBQWdCRyxLQUFoQixDQUFzQkMsUUFBN0I7SUFBdUNDLEdBQUcsRUFBRSxNQUE1QztJQUFvREMsUUFBUSxFQUFFO0VBQTlELENBRFY7RUFFSUMsSUFBSSxFQUFFO0lBQUVMLElBQUksRUFBRU0sTUFBUjtJQUFnQkYsUUFBUSxFQUFFO0VBQTFCLENBRlY7RUFHSUcsTUFBTSxFQUFFO0lBQ0pQLElBQUksRUFBRVEsTUFERjtJQUVKSixRQUFRLEVBQUUsSUFGTjtJQUdKSyxPQUFPLEVBQUUsQ0FITDtJQUlKQyxHQUFHLEVBQUUsQ0FKRDtJQUtKQyxHQUFHLEVBQUU7RUFMRCxDQUhaO0VBVUlDLE9BQU8sRUFBRTtJQUFDWixJQUFJLEVBQUVNLE1BQVA7SUFBZUYsUUFBUSxFQUFFO0VBQXpCO0FBVmIsQ0FEaUIsRUFhakI7RUFBQ1MsVUFBVSxFQUFFO0FBQWIsQ0FiaUIsQ0FBckI7QUFnQkEsTUFBTUMsYUFBYSxHQUFHLElBQUlqQixpQkFBQSxDQUFTQyxNQUFiLENBQ2xCO0VBQ0FPLElBQUksRUFBRTtJQUFDTCxJQUFJLEVBQUVNLE1BQVA7SUFBZUYsUUFBUSxFQUFFO0VBQXpCLENBRE47RUFFQVcsV0FBVyxFQUFFO0lBQUNmLElBQUksRUFBRU0sTUFBUDtJQUFlRixRQUFRLEVBQUU7RUFBekIsQ0FGYjtFQUdBWSxRQUFRLEVBQUU7SUFBQ2hCLElBQUksRUFBRU0sTUFBUDtJQUFlRixRQUFRLEVBQUU7RUFBekIsQ0FIVjtFQUlBYSxLQUFLLEVBQUU7SUFBQ2pCLElBQUksRUFBRU0sTUFBUDtJQUFlRixRQUFRLEVBQUU7RUFBekIsQ0FKUDtFQUtBYyxLQUFLLEVBQUU7SUFBQ2xCLElBQUksRUFBRU0sTUFBUDtJQUFlRixRQUFRLEVBQUU7RUFBekIsQ0FMUDtFQU1BZSxLQUFLLEVBQUU7SUFBQ25CLElBQUksRUFBRVEsTUFBUDtJQUFlQyxPQUFPLEVBQUUsR0FBeEI7SUFBNkJMLFFBQVEsRUFBRTtFQUF2QyxDQU5QO0VBT0FnQixZQUFZLEVBQUU7SUFBQ3BCLElBQUksRUFBRVEsTUFBUDtJQUFlQyxPQUFPLEVBQUUsQ0FBeEI7SUFBMkJMLFFBQVEsRUFBRTtFQUFyQyxDQVBkO0VBUUFHLE1BQU0sRUFBRTtJQUFDUCxJQUFJLEVBQUVRLE1BQVA7SUFBZUMsT0FBTyxFQUFFLEdBQXhCO0lBQTZCTCxRQUFRLEVBQUU7RUFBdkMsQ0FSUjtFQVNBaUIsVUFBVSxFQUFFO0lBQUNyQixJQUFJLEVBQUVRLE1BQVA7SUFBZUMsT0FBTyxFQUFFLENBQXhCO0lBQTJCTCxRQUFRLEVBQUU7RUFBckMsQ0FUWjtFQVVBa0IsT0FBTyxFQUFFLENBQUMxQixZQUFEO0FBVlQsQ0FEa0IsRUFhckI7RUFBQ2lCLFVBQVUsRUFBRTtBQUFiLENBYnFCLENBQXRCOztBQWVBLE1BQU1VLE9BQU8sR0FBRzFCLGlCQUFBLENBQVMyQixLQUFULENBQWUsU0FBZixFQUEwQlYsYUFBMUIsQ0FBaEI7O2VBQ2VTLE8ifQ==","map":{"version":3,"names":["reviewSchema","mongoose","Schema","user","type","Types","ObjectId","ref","required","name","String","rating","Number","default","min","max","comment","timestamps","productSchema","description","category","brand","image","price","countInStock","numReviews","reviews","Product","model"],"sourceRoot":"C:\\Users\\RISCOH FUNDZ\\Desktop\\jsamazona\\backend\\models\\","sources":["productModel.js"],"sourcesContent":["\r\nimport mongoose from 'mongoose';\r\n\r\nconst reviewSchema = new mongoose.Schema(\r\n    {\r\n        user: {type: mongoose.Schema.Types.ObjectId, ref: 'User', required: true},\r\n        name: { type: String, required: true},\r\n        rating: {\r\n            type: Number,\r\n            required: true,\r\n            default: 0,\r\n            min: 0,\r\n            max: 5,\r\n        },\r\n        comment: {type: String, required: true},\r\n    },\r\n    {timestamps: true}\r\n);\r\n\r\nconst productSchema = new mongoose.Schema(\r\n    {\r\n    name: {type: String, required: true},\r\n    description: {type: String, required: true},\r\n    category: {type: String, required: true},\r\n    brand: {type: String, required: true},\r\n    image: {type: String, required: true},\r\n    price: {type: Number, default: 0.0, required: true},\r\n    countInStock: {type: Number, default: 0, required: true},\r\n    rating: {type: Number, default: 0.0, required: true},\r\n    numReviews: {type: Number, default: 0, required: true},\r\n    reviews: [reviewSchema],\r\n},\r\n {timestamps: true}\r\n);\r\nconst Product = mongoose.model('Product', productSchema);\r\nexport default Product; "],"mappings":";;;;;;;AACA;;;;AAEA,MAAMA,YAAY,GAAG,IAAIC,iBAAA,CAASC,MAAb,CACjB;EACIC,IAAI,EAAE;IAACC,IAAI,EAAEH,iBAAA,CAASC,MAAT,CAAgBG,KAAhB,CAAsBC,QAA7B;IAAuCC,GAAG,EAAE,MAA5C;IAAoDC,QAAQ,EAAE;EAA9D,CADV;EAEIC,IAAI,EAAE;IAAEL,IAAI,EAAEM,MAAR;IAAgBF,QAAQ,EAAE;EAA1B,CAFV;EAGIG,MAAM,EAAE;IACJP,IAAI,EAAEQ,MADF;IAEJJ,QAAQ,EAAE,IAFN;IAGJK,OAAO,EAAE,CAHL;IAIJC,GAAG,EAAE,CAJD;IAKJC,GAAG,EAAE;EALD,CAHZ;EAUIC,OAAO,EAAE;IAACZ,IAAI,EAAEM,MAAP;IAAeF,QAAQ,EAAE;EAAzB;AAVb,CADiB,EAajB;EAACS,UAAU,EAAE;AAAb,CAbiB,CAArB;AAgBA,MAAMC,aAAa,GAAG,IAAIjB,iBAAA,CAASC,MAAb,CAClB;EACAO,IAAI,EAAE;IAACL,IAAI,EAAEM,MAAP;IAAeF,QAAQ,EAAE;EAAzB,CADN;EAEAW,WAAW,EAAE;IAACf,IAAI,EAAEM,MAAP;IAAeF,QAAQ,EAAE;EAAzB,CAFb;EAGAY,QAAQ,EAAE;IAAChB,IAAI,EAAEM,MAAP;IAAeF,QAAQ,EAAE;EAAzB,CAHV;EAIAa,KAAK,EAAE;IAACjB,IAAI,EAAEM,MAAP;IAAeF,QAAQ,EAAE;EAAzB,CAJP;EAKAc,KAAK,EAAE;IAAClB,IAAI,EAAEM,MAAP;IAAeF,QAAQ,EAAE;EAAzB,CALP;EAMAe,KAAK,EAAE;IAACnB,IAAI,EAAEQ,MAAP;IAAeC,OAAO,EAAE,GAAxB;IAA6BL,QAAQ,EAAE;EAAvC,CANP;EAOAgB,YAAY,EAAE;IAACpB,IAAI,EAAEQ,MAAP;IAAeC,OAAO,EAAE,CAAxB;IAA2BL,QAAQ,EAAE;EAArC,CAPd;EAQAG,MAAM,EAAE;IAACP,IAAI,EAAEQ,MAAP;IAAeC,OAAO,EAAE,GAAxB;IAA6BL,QAAQ,EAAE;EAAvC,CARR;EASAiB,UAAU,EAAE;IAACrB,IAAI,EAAEQ,MAAP;IAAeC,OAAO,EAAE,CAAxB;IAA2BL,QAAQ,EAAE;EAArC,CATZ;EAUAkB,OAAO,EAAE,CAAC1B,YAAD;AAVT,CADkB,EAarB;EAACiB,UAAU,EAAE;AAAb,CAbqB,CAAtB;;AAeA,MAAMU,OAAO,GAAG1B,iBAAA,CAAS2B,KAAT,CAAe,SAAf,EAA0BV,aAA1B,CAAhB;;eACeS,O"}},"mtime":1673886931541},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"filename\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\routers\\\\uploadRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _utils = require(\"../utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst storage = _multer.default.diskStorage({\n  destination(req, file, cb) {\n    cb(null, 'uploads/');\n  },\n\n  filename(req, file, cb) {\n    cb(null, `${Date.now()}.jpg`);\n  }\n\n});\n\nconst upload = (0, _multer.default)({\n  storage\n});\n\nconst uploadRouter = _express.default.Router();\n\nuploadRouter.post('/', _utils.isAuth, _utils.isAdmin, upload.single('image'), (req, res) => {\n  res.status(201).send({\n    image: `/${req.file.path}`\n  });\n});\nvar _default = uploadRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzdG9yYWdlIiwibXVsdGVyIiwiZGlza1N0b3JhZ2UiLCJkZXN0aW5hdGlvbiIsInJlcSIsImZpbGUiLCJjYiIsImZpbGVuYW1lIiwiRGF0ZSIsIm5vdyIsInVwbG9hZCIsInVwbG9hZFJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0IiwiaXNBdXRoIiwiaXNBZG1pbiIsInNpbmdsZSIsInJlcyIsInN0YXR1cyIsInNlbmQiLCJpbWFnZSIsInBhdGgiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcUklTQ09IIEZVTkRaXFxEZXNrdG9wXFxqc2FtYXpvbmFcXGJhY2tlbmRcXHJvdXRlcnNcXCIsInNvdXJjZXMiOlsidXBsb2FkUm91dGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IG11bHRlciBmcm9tICdtdWx0ZXInO1xyXG5pbXBvcnQgeyBpc0FkbWluLCBpc0F1dGggfSBmcm9tICcuLi91dGlscyc7XHJcblxyXG5jb25zdCBzdG9yYWdlID0gbXVsdGVyLmRpc2tTdG9yYWdlKHtcclxuICAgIGRlc3RpbmF0aW9uKHJlcSwgZmlsZSwgY2Ipe1xyXG4gICAgICAgY2IobnVsbCwgJ3VwbG9hZHMvJykgXHJcbiAgICB9LFxyXG4gICAgZmlsZW5hbWUocmVxLCBmaWxlLCBjYiApe1xyXG4gICAgICAgIGNiKG51bGwsIGAke0RhdGUubm93KCl9LmpwZ2ApO1xyXG4gICAgfSxcclxufSk7XHJcblxyXG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoeyBzdG9yYWdlfSk7XHJcbmNvbnN0IHVwbG9hZFJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcblxyXG51cGxvYWRSb3V0ZXIucG9zdCgnLycsIGlzQXV0aCwgaXNBZG1pbiwgdXBsb2FkLnNpbmdsZSgnaW1hZ2UnKSwgKHJlcSwgcmVzKSA9PntcclxuICAgIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHtpbWFnZTogYC8ke3JlcS5maWxlLnBhdGh9YH0pO1xyXG59KTtcclxuZXhwb3J0IGRlZmF1bHQgdXBsb2FkUm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsT0FBTyxHQUFHQyxlQUFBLENBQU9DLFdBQVAsQ0FBbUI7RUFDL0JDLFdBQVcsQ0FBQ0MsR0FBRCxFQUFNQyxJQUFOLEVBQVlDLEVBQVosRUFBZTtJQUN2QkEsRUFBRSxDQUFDLElBQUQsRUFBTyxVQUFQLENBQUY7RUFDRixDQUg4Qjs7RUFJL0JDLFFBQVEsQ0FBQ0gsR0FBRCxFQUFNQyxJQUFOLEVBQVlDLEVBQVosRUFBZ0I7SUFDcEJBLEVBQUUsQ0FBQyxJQUFELEVBQVEsR0FBRUUsSUFBSSxDQUFDQyxHQUFMLEVBQVcsTUFBckIsQ0FBRjtFQUNIOztBQU44QixDQUFuQixDQUFoQjs7QUFTQSxNQUFNQyxNQUFNLEdBQUcsSUFBQVQsZUFBQSxFQUFPO0VBQUVEO0FBQUYsQ0FBUCxDQUFmOztBQUNBLE1BQU1XLFlBQVksR0FBR0MsZ0JBQUEsQ0FBUUMsTUFBUixFQUFyQjs7QUFFQUYsWUFBWSxDQUFDRyxJQUFiLENBQWtCLEdBQWxCLEVBQXVCQyxhQUF2QixFQUErQkMsY0FBL0IsRUFBd0NOLE1BQU0sQ0FBQ08sTUFBUCxDQUFjLE9BQWQsQ0FBeEMsRUFBZ0UsQ0FBQ2IsR0FBRCxFQUFNYyxHQUFOLEtBQWE7RUFDekVBLEdBQUcsQ0FBQ0MsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0lBQUNDLEtBQUssRUFBRyxJQUFHakIsR0FBRyxDQUFDQyxJQUFKLENBQVNpQixJQUFLO0VBQTFCLENBQXJCO0FBQ0gsQ0FGRDtlQUdlWCxZIn0=","map":{"version":3,"names":["storage","multer","diskStorage","destination","req","file","cb","filename","Date","now","upload","uploadRouter","express","Router","post","isAuth","isAdmin","single","res","status","send","image","path"],"sourceRoot":"C:\\Users\\RISCOH FUNDZ\\Desktop\\jsamazona\\backend\\routers\\","sources":["uploadRouter.js"],"sourcesContent":["\r\nimport express from 'express';\r\nimport multer from 'multer';\r\nimport { isAdmin, isAuth } from '../utils';\r\n\r\nconst storage = multer.diskStorage({\r\n    destination(req, file, cb){\r\n       cb(null, 'uploads/') \r\n    },\r\n    filename(req, file, cb ){\r\n        cb(null, `${Date.now()}.jpg`);\r\n    },\r\n});\r\n\r\nconst upload = multer({ storage});\r\nconst uploadRouter = express.Router();\r\n\r\nuploadRouter.post('/', isAuth, isAdmin, upload.single('image'), (req, res) =>{\r\n    res.status(201).send({image: `/${req.file.path}`});\r\n});\r\nexport default uploadRouter;"],"mappings":";;;;;;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,OAAO,GAAGC,eAAA,CAAOC,WAAP,CAAmB;EAC/BC,WAAW,CAACC,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAe;IACvBA,EAAE,CAAC,IAAD,EAAO,UAAP,CAAF;EACF,CAH8B;;EAI/BC,QAAQ,CAACH,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;IACpBA,EAAE,CAAC,IAAD,EAAQ,GAAEE,IAAI,CAACC,GAAL,EAAW,MAArB,CAAF;EACH;;AAN8B,CAAnB,CAAhB;;AASA,MAAMC,MAAM,GAAG,IAAAT,eAAA,EAAO;EAAED;AAAF,CAAP,CAAf;;AACA,MAAMW,YAAY,GAAGC,gBAAA,CAAQC,MAAR,EAArB;;AAEAF,YAAY,CAACG,IAAb,CAAkB,GAAlB,EAAuBC,aAAvB,EAA+BC,cAA/B,EAAwCN,MAAM,CAACO,MAAP,CAAc,OAAd,CAAxC,EAAgE,CAACb,GAAD,EAAMc,GAAN,KAAa;EACzEA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;IAACC,KAAK,EAAG,IAAGjB,GAAG,CAACC,IAAJ,CAASiB,IAAK;EAA1B,CAArB;AACH,CAFD;eAGeX,Y"}},"mtime":1674902968376},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"filename\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\backend\\\\routers\\\\uploadRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _utils = require(\"../utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst storage = _multer.default.diskStorage({\n  destination(req, file, cb) {\n    cb(null, 'uploads/');\n  },\n\n  filename(req, file, cb) {\n    cb(null, `${Date.now()}.jpg`);\n  }\n\n});\n\nconst upload = (0, _multer.default)({\n  storage\n});\n\nconst uploadRouter = _express.default.Router();\n\nuploadRouter.post('/', _utils.isAuth, _utils.isAdmin, upload.single('image'), (req, res) => {\n  res.status(201).send({\n    image: `/${req.file.path}`\n  });\n});\nvar _default = uploadRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzdG9yYWdlIiwibXVsdGVyIiwiZGlza1N0b3JhZ2UiLCJkZXN0aW5hdGlvbiIsInJlcSIsImZpbGUiLCJjYiIsImZpbGVuYW1lIiwiRGF0ZSIsIm5vdyIsInVwbG9hZCIsInVwbG9hZFJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0IiwiaXNBdXRoIiwiaXNBZG1pbiIsInNpbmdsZSIsInJlcyIsInN0YXR1cyIsInNlbmQiLCJpbWFnZSIsInBhdGgiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcUklTQ09IIEZVTkRaXFxEZXNrdG9wXFxqc2FtYXpvbmFcXGJhY2tlbmRcXHJvdXRlcnNcXCIsInNvdXJjZXMiOlsidXBsb2FkUm91dGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IG11bHRlciBmcm9tICdtdWx0ZXInO1xyXG5pbXBvcnQgeyBpc0FkbWluLCBpc0F1dGggfSBmcm9tICcuLi91dGlscyc7XHJcblxyXG5jb25zdCBzdG9yYWdlID0gbXVsdGVyLmRpc2tTdG9yYWdlKHtcclxuICAgIGRlc3RpbmF0aW9uKHJlcSwgZmlsZSwgY2Ipe1xyXG4gICAgICAgY2IobnVsbCwgJ3VwbG9hZHMvJykgXHJcbiAgICB9LFxyXG4gICAgZmlsZW5hbWUocmVxLCBmaWxlLCBjYiApe1xyXG4gICAgICAgIGNiKG51bGwsIGAke0RhdGUubm93KCl9LmpwZ2ApO1xyXG4gICAgfSxcclxufSk7XHJcblxyXG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoeyBzdG9yYWdlfSk7XHJcbmNvbnN0IHVwbG9hZFJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcblxyXG51cGxvYWRSb3V0ZXIucG9zdCgnLycsIGlzQXV0aCwgaXNBZG1pbiwgdXBsb2FkLnNpbmdsZSgnaW1hZ2UnKSwgKHJlcSwgcmVzKSA9PntcclxuICAgIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHtpbWFnZTogYC8ke3JlcS5maWxlLnBhdGh9YH0pO1xyXG59KTtcclxuZXhwb3J0IGRlZmF1bHQgdXBsb2FkUm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsT0FBTyxHQUFHQyxlQUFBLENBQU9DLFdBQVAsQ0FBbUI7RUFDL0JDLFdBQVcsQ0FBQ0MsR0FBRCxFQUFNQyxJQUFOLEVBQVlDLEVBQVosRUFBZTtJQUN2QkEsRUFBRSxDQUFDLElBQUQsRUFBTyxVQUFQLENBQUY7RUFDRixDQUg4Qjs7RUFJL0JDLFFBQVEsQ0FBQ0gsR0FBRCxFQUFNQyxJQUFOLEVBQVlDLEVBQVosRUFBZ0I7SUFDcEJBLEVBQUUsQ0FBQyxJQUFELEVBQVEsR0FBRUUsSUFBSSxDQUFDQyxHQUFMLEVBQVcsTUFBckIsQ0FBRjtFQUNIOztBQU44QixDQUFuQixDQUFoQjs7QUFTQSxNQUFNQyxNQUFNLEdBQUcsSUFBQVQsZUFBQSxFQUFPO0VBQUVEO0FBQUYsQ0FBUCxDQUFmOztBQUNBLE1BQU1XLFlBQVksR0FBR0MsZ0JBQUEsQ0FBUUMsTUFBUixFQUFyQjs7QUFFQUYsWUFBWSxDQUFDRyxJQUFiLENBQWtCLEdBQWxCLEVBQXVCQyxhQUF2QixFQUErQkMsY0FBL0IsRUFBd0NOLE1BQU0sQ0FBQ08sTUFBUCxDQUFjLE9BQWQsQ0FBeEMsRUFBZ0UsQ0FBQ2IsR0FBRCxFQUFNYyxHQUFOLEtBQWE7RUFDekVBLEdBQUcsQ0FBQ0MsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0lBQUNDLEtBQUssRUFBRyxJQUFHakIsR0FBRyxDQUFDQyxJQUFKLENBQVNpQixJQUFLO0VBQTFCLENBQXJCO0FBQ0gsQ0FGRDtlQUdlWCxZIn0=","map":{"version":3,"names":["storage","multer","diskStorage","destination","req","file","cb","filename","Date","now","upload","uploadRouter","express","Router","post","isAuth","isAdmin","single","res","status","send","image","path"],"sourceRoot":"C:\\Users\\RISCOH FUNDZ\\Desktop\\jsamazona\\backend\\routers\\","sources":["uploadRouter.js"],"sourcesContent":["\r\nimport express from 'express';\r\nimport multer from 'multer';\r\nimport { isAdmin, isAuth } from '../utils';\r\n\r\nconst storage = multer.diskStorage({\r\n    destination(req, file, cb){\r\n       cb(null, 'uploads/') \r\n    },\r\n    filename(req, file, cb ){\r\n        cb(null, `${Date.now()}.jpg`);\r\n    },\r\n});\r\n\r\nconst upload = multer({ storage});\r\nconst uploadRouter = express.Router();\r\n\r\nuploadRouter.post('/', isAuth, isAdmin, upload.single('image'), (req, res) =>{\r\n    res.status(201).send({image: `/${req.file.path}`});\r\n});\r\nexport default uploadRouter;"],"mappings":";;;;;;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,OAAO,GAAGC,eAAA,CAAOC,WAAP,CAAmB;EAC/BC,WAAW,CAACC,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAe;IACvBA,EAAE,CAAC,IAAD,EAAO,UAAP,CAAF;EACF,CAH8B;;EAI/BC,QAAQ,CAACH,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;IACpBA,EAAE,CAAC,IAAD,EAAQ,GAAEE,IAAI,CAACC,GAAL,EAAW,MAArB,CAAF;EACH;;AAN8B,CAAnB,CAAhB;;AASA,MAAMC,MAAM,GAAG,IAAAT,eAAA,EAAO;EAAED;AAAF,CAAP,CAAf;;AACA,MAAMW,YAAY,GAAGC,gBAAA,CAAQC,MAAR,EAArB;;AAEAF,YAAY,CAACG,IAAb,CAAkB,GAAlB,EAAuBC,aAAvB,EAA+BC,cAA/B,EAAwCN,MAAM,CAACO,MAAP,CAAc,OAAd,CAAxC,EAAgE,CAACb,GAAD,EAAMc,GAAN,KAAa;EACzEA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;IAACC,KAAK,EAAG,IAAGjB,GAAG,CAACC,IAAJ,CAASiB,IAAK;EAA1B,CAArB;AACH,CAFD;eAGeX,Y"}},"mtime":1674902968376},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\frontend\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"filename\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\\\\frontend\\\\src\\\\api.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\RISCOH FUNDZ\\\\Desktop\\\\jsamazona\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.19.0:development":{"value":{"code":"import axios from 'axios';\nimport { apiUrl } from \"./config\";\nimport { getUserInfo } from './localStorage';\nexport const getProducts = async () => {\n  try {\n    const response = await axios({\n      url: `${apiUrl}/api/products`,\n      method: 'GET',\n      header: {\n        'Content-Type': 'application/json'\n      }\n    });\n\n    if (response.statusText !== 'OK') {\n      throw new Error(response.data.message);\n    }\n\n    return response.data;\n  } catch (err) {\n    console.log(err);\n    return {\n      error: err.response.data.message || err.message\n    };\n  }\n};\nexport const getProduct = async id => {\n  try {\n    const response = await axios({\n      url: `${apiUrl}/api/products/${id}`,\n      method: 'GET',\n      header: {\n        'Content-Type': 'application/json'\n      }\n    });\n\n    if (response.statusText !== 'OK') {\n      throw new Error(response.data.message);\n    }\n\n    return response.data;\n  } catch (err) {\n    console.log(err);\n    return {\n      error: err.response.data.message || err.message\n    };\n  }\n};\nexport const createProduct = async () => {\n  try {\n    const {\n      token\n    } = getUserInfo();\n    const response = await axios({\n      url: `${apiUrl}/api/products`,\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      }\n    });\n\n    if (response.statusText !== 'Created') {\n      throw new Error(response.data.message);\n    }\n\n    return response.data;\n  } catch (err) {\n    return {\n      error: err.response.data.message || err.message\n    };\n  }\n};\nexport const deleteProduct = async productId => {\n  try {\n    const {\n      token\n    } = getUserInfo();\n    const response = await axios({\n      url: `${apiUrl}/api/products/${productId}`,\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      }\n    });\n\n    if (response.statusText !== 'OK') {\n      throw new Error(response.data.message);\n    }\n\n    return response.data;\n  } catch (err) {\n    return {\n      error: err.response.data.message || err.message\n    };\n  }\n};\nexport const updateProduct = async product => {\n  try {\n    const {\n      token\n    } = getUserInfo();\n    const response = await axios({\n      method: 'PUT',\n      url: `${apiUrl}/api/products/${product._id}`,\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      },\n      data: product\n    });\n\n    if (response.statusText !== 'OK') {\n      throw new Error(response.data.message);\n    }\n\n    return response.data;\n  } catch (err) {\n    return {\n      error: err.response.data.message || err.message\n    };\n  }\n};\nexport const uploadProductImage = async formData => {\n  try {\n    const {\n      token\n    } = getUserInfo();\n    const response = await axios({\n      url: `${apiUrl}/api/uploads`,\n      method: 'POST',\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'multipart/form-data'\n      },\n      data: formData\n    });\n\n    if (response.statusText !== 'Created') {\n      throw new Error(response.data.message);\n    } else {\n      return response.data;\n    }\n  } catch (err) {\n    return {\n      error: err.response.data.message || err.message\n    };\n  }\n};\nexport const signin = async ({\n  email,\n  password\n}) => {\n  try {\n    const response = await axios({\n      url: `${apiUrl}/api/users/signin`,\n      method: 'POST',\n      header: {\n        'Content-Type': 'application/json'\n      },\n      data: {\n        email,\n        password\n      }\n    });\n\n    if (response.statusText !== 'OK') {\n      throw new Error(response.data.message);\n    }\n\n    return response.data;\n  } catch (err) {\n    console.log(err);\n    return {\n      error: err.response.data.message || err.message\n    };\n  }\n};\nexport const register = async ({\n  name,\n  email,\n  password\n}) => {\n  try {\n    const response = await axios({\n      url: `${apiUrl}/api/users/register`,\n      method: 'POST',\n      header: {\n        'Content-Type': 'application/json'\n      },\n      data: {\n        name,\n        email,\n        password\n      }\n    });\n\n    if (response.statusText !== 'OK') {\n      throw new Error(response.data.message);\n    }\n\n    return response.data;\n  } catch (err) {\n    console.log(err);\n    return {\n      error: err.response.data.message || err.message\n    };\n  }\n};\nexport const update = async ({\n  name,\n  email,\n  password\n}) => {\n  try {\n    const {\n      _id,\n      token\n    } = getUserInfo();\n    const response = await axios({\n      url: `${apiUrl}/api/users/${_id}`,\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      },\n      data: {\n        name,\n        email,\n        password\n      }\n    });\n\n    if (response.statusText !== 'OK') {\n      throw new Error(response.data.message);\n    }\n\n    return response.data;\n  } catch (err) {\n    console.log(err);\n    return {\n      error: err.response.data.message || err.message\n    };\n  }\n};\nexport const createOrder = async order => {\n  try {\n    const {\n      token\n    } = getUserInfo();\n    const response = await axios({\n      url: `${apiUrl}/api/orders`,\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      },\n      data: order\n    });\n\n    if (response.statusText !== 'Created') {\n      throw new Error(response.data.message);\n    }\n\n    return response.data;\n  } catch (err) {\n    return {\n      error: err.response ? err.response.data.message : err.message\n    };\n  }\n};\nexport const getOrders = async () => {\n  try {\n    const response = await axios({\n      url: `${apiUrl}/api/orders`,\n      method: 'GET',\n      header: {\n        'Content-Type': 'application/json'\n      }\n    });\n\n    if (response.statusText !== 'OK') {\n      throw new Error(response.data.message);\n    }\n\n    return response.data;\n  } catch (err) {\n    console.log(err);\n    return {\n      error: err.response.data.message || err.message\n    };\n  }\n};\nexport const deleteOrder = async orderId => {\n  try {\n    const {\n      token\n    } = getUserInfo();\n    const response = await axios({\n      url: `${apiUrl}/api/orders/${orderId}`,\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      }\n    });\n\n    if (response.statusText !== 'OK') {\n      throw new Error(response.data.message);\n    }\n\n    return response.data;\n  } catch (err) {\n    return {\n      error: err.response.data.message || err.message\n    };\n  }\n};\nexport const getOrder = async id => {\n  try {\n    const {\n      token\n    } = getUserInfo();\n    const response = await axios({\n      url: `${apiUrl}/api/orders/${id}`,\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      }\n    });\n\n    if (response.statusText !== 'OK') {\n      throw new Error(response.data.message);\n    }\n\n    return response.data;\n  } catch (err) {\n    return {\n      error: err.message\n    };\n  }\n};\nexport const getMyOrders = async () => {\n  try {\n    const {\n      token\n    } = getUserInfo();\n    const response = await axios({\n      url: `${apiUrl}/api/orders/mine`,\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      }\n    });\n\n    if (response.statusText !== 'OK') {\n      throw new Error(response.data.message);\n    }\n\n    return response.data;\n  } catch (err) {\n    return {\n      error: err.response ? err.response.data.message : err.message\n    };\n  }\n};\nexport const getPaypalClientId = async () => {\n  const response = await axios({\n    url: `${apiUrl}/api/paypal/clientId`,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  if (response.statusText !== 'OK') {\n    throw new Error(response.data.message);\n  }\n\n  return response.data.clientId;\n};\nexport const payOrder = async (orderId, paymentResult) => {\n  try {\n    const {\n      token\n    } = getUserInfo();\n    const response = await axios({\n      url: `${apiUrl}/api/orders/${orderId}/pay`,\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      },\n      data: paymentResult\n    });\n\n    if (response.statusText !== 'OK') {\n      throw new Error(response.data.message);\n    }\n\n    return response.data;\n  } catch (err) {\n    return {\n      error: err.response ? err.response.data.message : err.message\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJheGlvcyIsImFwaVVybCIsImdldFVzZXJJbmZvIiwiZ2V0UHJvZHVjdHMiLCJyZXNwb25zZSIsInVybCIsIm1ldGhvZCIsImhlYWRlciIsInN0YXR1c1RleHQiLCJFcnJvciIsImRhdGEiLCJtZXNzYWdlIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwiZ2V0UHJvZHVjdCIsImlkIiwiY3JlYXRlUHJvZHVjdCIsInRva2VuIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJkZWxldGVQcm9kdWN0IiwicHJvZHVjdElkIiwidXBkYXRlUHJvZHVjdCIsInByb2R1Y3QiLCJfaWQiLCJ1cGxvYWRQcm9kdWN0SW1hZ2UiLCJmb3JtRGF0YSIsInNpZ25pbiIsImVtYWlsIiwicGFzc3dvcmQiLCJyZWdpc3RlciIsIm5hbWUiLCJ1cGRhdGUiLCJjcmVhdGVPcmRlciIsIm9yZGVyIiwiZ2V0T3JkZXJzIiwiZGVsZXRlT3JkZXIiLCJvcmRlcklkIiwiZ2V0T3JkZXIiLCJnZXRNeU9yZGVycyIsImdldFBheXBhbENsaWVudElkIiwiY2xpZW50SWQiLCJwYXlPcmRlciIsInBheW1lbnRSZXN1bHQiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcUklTQ09IIEZVTkRaXFxEZXNrdG9wXFxqc2FtYXpvbmFcXGZyb250ZW5kXFxzcmNcXCIsInNvdXJjZXMiOlsiYXBpLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5pbXBvcnQgeyBhcGlVcmwgfSBmcm9tIFwiLi9jb25maWdcIjtcbmltcG9ydCB7IGdldFVzZXJJbmZvIH0gZnJvbSAnLi9sb2NhbFN0b3JhZ2UnO1xuXG5leHBvcnQgY29uc3QgZ2V0UHJvZHVjdHMgPSBhc3luYyAoKT0+e1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3Moe1xuICAgICAgICAgICAgdXJsOiBgJHthcGlVcmx9L2FwaS9wcm9kdWN0c2AsXG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLCBcbiAgICAgICAgICAgIGhlYWRlcjoge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9LCBcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXNUZXh0ICE9PSAnT0snKXtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwb25zZS5kYXRhLm1lc3NhZ2UpO1xuICAgICAgICB9IFxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9IGNhdGNoIChlcnIpeyAgXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgIHJldHVybiB7ZXJyb3I6ZXJyLnJlc3BvbnNlLmRhdGEubWVzc2FnZSB8fCBlcnIubWVzc2FnZX07XG5cbiAgICB9XG59OyBcblxuZXhwb3J0IGNvbnN0IGdldFByb2R1Y3QgPSBhc3luYyAoaWQpPT57XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcyh7XG4gICAgICAgICAgICB1cmw6IGAke2FwaVVybH0vYXBpL3Byb2R1Y3RzLyR7aWR9YCxcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsIFxuICAgICAgICAgICAgaGVhZGVyOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH0sIFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1c1RleHQgIT09ICdPSycpe1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLmRhdGEubWVzc2FnZSk7XG4gICAgICAgIH0gXG4gICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycil7ICBcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgcmV0dXJuIHtlcnJvcjplcnIucmVzcG9uc2UuZGF0YS5tZXNzYWdlIHx8IGVyci5tZXNzYWdlfTtcblxuICAgIH1cbn07IFxuXG5leHBvcnQgY29uc3QgY3JlYXRlUHJvZHVjdCA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB7dG9rZW59ID0gZ2V0VXNlckluZm8oKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcyAoe1xuICAgICAgICAgICAgdXJsOiBgJHthcGlVcmx9L2FwaS9wcm9kdWN0c2AsXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXNUZXh0ICE9PSAnQ3JlYXRlZCcpe1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLmRhdGEubWVzc2FnZSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIHtlcnJvcjplcnIucmVzcG9uc2UuZGF0YS5tZXNzYWdlIHx8IGVyci5tZXNzYWdlfTtcblxuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCBkZWxldGVQcm9kdWN0ID0gYXN5bmMgKHByb2R1Y3RJZCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHt0b2tlbn0gPSBnZXRVc2VySW5mbygpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zICh7XG4gICAgICAgICAgICB1cmw6IGAke2FwaVVybH0vYXBpL3Byb2R1Y3RzLyR7cHJvZHVjdElkfWAsXG4gICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWAsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1c1RleHQgIT09ICdPSycpe1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLmRhdGEubWVzc2FnZSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIHtlcnJvcjplcnIucmVzcG9uc2UuZGF0YS5tZXNzYWdlIHx8IGVyci5tZXNzYWdlfTtcblxuICAgIH1cbn07XG5cblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVByb2R1Y3QgPSBhc3luYyAocHJvZHVjdCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHt0b2tlbn0gPSBnZXRVc2VySW5mbygpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zICh7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgdXJsOiBgJHthcGlVcmx9L2FwaS9wcm9kdWN0cy8ke3Byb2R1Y3QuX2lkfWAsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkYXRhOiBwcm9kdWN0XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzVGV4dCAhPT0gJ09LJyl7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2UuZGF0YS5tZXNzYWdlKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4ge2Vycm9yOmVyci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UgfHwgZXJyLm1lc3NhZ2V9O1xuXG4gICAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHVwbG9hZFByb2R1Y3RJbWFnZSA9IGFzeW5jIChmb3JtRGF0YSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHt0b2tlbn0gPSBnZXRVc2VySW5mbygpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zICh7XG4gICAgICAgICAgICB1cmw6IGAke2FwaVVybH0vYXBpL3VwbG9hZHNgLFxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWAsXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkYXRhOiBmb3JtRGF0YSxcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzVGV4dCAhPT0gJ0NyZWF0ZWQnKXtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwb25zZS5kYXRhLm1lc3NhZ2UpO1xuICAgICAgICB9IFxuICAgICAgICBlbHNle1xuICAgICAgICAgIHJldHVybiAgcmVzcG9uc2UuZGF0YVxuICAgICAgICB9XG4gICAgICAgIFxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4ge2Vycm9yOiBlcnIucmVzcG9uc2UuZGF0YS5tZXNzYWdlIHx8IGVyci5tZXNzYWdlfVxuICAgIH1cbiAgIFxufTtcblxuZXhwb3J0IGNvbnN0IHNpZ25pbiA9IGFzeW5jKHtlbWFpbCwgcGFzc3dvcmQgfSk9PiB7XG4gICAgdHJ5IHtcbiAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcyAoe1xuICAgICAgICB1cmw6IGAke2FwaVVybH0vYXBpL3VzZXJzL3NpZ25pbmAsXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXI6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgIGVtYWlsLFxuICAgICAgICAgcGFzc3dvcmQsXG4gICAgICAgIH0sXG4gICAgIH0pO1xuICAgICBpZihyZXNwb25zZS5zdGF0dXNUZXh0ICE9PSAnT0snKXtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLmRhdGEubWVzc2FnZSk7XG4gICAgIH1cbiAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfWNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgcmV0dXJuIHtlcnJvcjogZXJyLnJlc3BvbnNlLmRhdGEubWVzc2FnZSB8fCBlcnIubWVzc2FnZX1cbiAgICB9XG59O1xuXG5cbmV4cG9ydCBjb25zdCByZWdpc3RlciA9IGFzeW5jKHtuYW1lLGVtYWlsLCBwYXNzd29yZCB9KT0+IHtcbiAgICB0cnkge1xuICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zICh7XG4gICAgICAgIHVybDogYCR7YXBpVXJsfS9hcGkvdXNlcnMvcmVnaXN0ZXJgLFxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIGVtYWlsLFxuICAgICAgICAgICAgcGFzc3dvcmQsXG4gICAgICAgIH0sXG4gICAgIH0pO1xuICAgICBpZihyZXNwb25zZS5zdGF0dXNUZXh0ICE9PSAnT0snKXtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLmRhdGEubWVzc2FnZSk7XG4gICAgIH1cbiAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfWNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgcmV0dXJuIHtlcnJvcjogZXJyLnJlc3BvbnNlLmRhdGEubWVzc2FnZSB8fCBlcnIubWVzc2FnZX1cbiAgICB9XG59O1xuXG5leHBvcnQgY29uc3QgdXBkYXRlID0gYXN5bmMgKHtuYW1lLGVtYWlsLCBwYXNzd29yZCB9KT0+IHtcbiAgICB0cnkge1xuICAgICBjb25zdCB7X2lkLCB0b2tlbiB9ID0gZ2V0VXNlckluZm8oKTsgICBcbiAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcyAoe1xuICAgICAgICB1cmw6IGAke2FwaVVybH0vYXBpL3VzZXJzLyR7X2lkfWAsXG4gICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgfSxcbiAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICAgIHBhc3N3b3JkLFxuICAgICAgICB9LFxuICAgICB9KTtcbiAgICAgaWYocmVzcG9uc2Uuc3RhdHVzVGV4dCAhPT0gJ09LJyl7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwb25zZS5kYXRhLm1lc3NhZ2UpO1xuICAgICB9XG4gICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH1jYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgIHJldHVybiB7ZXJyb3I6IGVyci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UgfHwgZXJyLm1lc3NhZ2V9XG4gICAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZU9yZGVyID0gYXN5bmMgKG9yZGVyKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qge3Rva2VufSA9IGdldFVzZXJJbmZvKCk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3Moe1xuICAgICAgICAgICAgdXJsOiBgJHthcGlVcmx9L2FwaS9vcmRlcnNgLFxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkYXRhOiBvcmRlcixcbiAgICAgICAgfSk7XG4gICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzVGV4dCAhPT0gJ0NyZWF0ZWQnKXtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwb25zZS5kYXRhLm1lc3NhZ2UpXG4gICAgICAgICB9XG4gICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9IGNhdGNoKGVycikge1xuICAgICAgICByZXR1cm4ge2Vycm9yOiBlcnIucmVzcG9uc2UgPyBlcnIucmVzcG9uc2UuZGF0YS5tZXNzYWdlIDogZXJyLm1lc3NhZ2V9O1xuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXRPcmRlcnMgPSBhc3luYyAoKT0+e1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3Moe1xuICAgICAgICAgICAgdXJsOiBgJHthcGlVcmx9L2FwaS9vcmRlcnNgLFxuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJywgXG4gICAgICAgICAgICBoZWFkZXI6IHtcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgfSwgXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzVGV4dCAhPT0gJ09LJyl7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2UuZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgfSBcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyKXsgIFxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICByZXR1cm4ge2Vycm9yOmVyci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UgfHwgZXJyLm1lc3NhZ2V9O1xuXG4gICAgfVxufTsgXG5cbmV4cG9ydCBjb25zdCBkZWxldGVPcmRlciA9IGFzeW5jIChvcmRlcklkKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qge3Rva2VufSA9IGdldFVzZXJJbmZvKCk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MgKHtcbiAgICAgICAgICAgIHVybDogYCR7YXBpVXJsfS9hcGkvb3JkZXJzLyR7b3JkZXJJZH1gLFxuICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXNUZXh0ICE9PSAnT0snKXtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwb25zZS5kYXRhLm1lc3NhZ2UpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiB7ZXJyb3I6ZXJyLnJlc3BvbnNlLmRhdGEubWVzc2FnZSB8fCBlcnIubWVzc2FnZX07XG5cbiAgICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0T3JkZXIgPSAgYXN5bmMgKGlkKSA9PntcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB7dG9rZW59ID0gZ2V0VXNlckluZm8oKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcyh7XG4gICAgICAgICAgICB1cmw6IGAke2FwaVVybH0vYXBpL29yZGVycy8ke2lkfWAsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZihyZXNwb25zZS5zdGF0dXNUZXh0ICE9PSAnT0snKXtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwb25zZS5kYXRhLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycil7ICBcbiAgICAgICAgcmV0dXJuIHtlcnJvcjogZXJyLm1lc3NhZ2V9O1xuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXRNeU9yZGVycyA9IGFzeW5jICgpID0+IHtcbiAgICB0cnl7XG4gICAgICAgIGNvbnN0IHt0b2tlbn0gPSBnZXRVc2VySW5mbygpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zICh7XG4gICAgICAgICAgICB1cmw6IGAke2FwaVVybH0vYXBpL29yZGVycy9taW5lYCxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXNUZXh0ICE9PSAnT0snKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2UuZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIHtlcnJvcjogZXJyLnJlc3BvbnNlID8gZXJyLnJlc3BvbnNlLmRhdGEubWVzc2FnZSA6IGVyci5tZXNzYWdlfTtcbiAgICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0UGF5cGFsQ2xpZW50SWQgPSBhc3luYyAoKT0+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zICh7XG4gICAgICAgIHVybDogYCR7YXBpVXJsfS9hcGkvcGF5cGFsL2NsaWVudElkYCxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzVGV4dCAhPT0gJ09LJyl7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwb25zZS5kYXRhLm1lc3NhZ2UpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5jbGllbnRJZDtcbn07XG5cbmV4cG9ydCBjb25zdCBwYXlPcmRlciA9IGFzeW5jKG9yZGVySWQsIHBheW1lbnRSZXN1bHQpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB7dG9rZW59ID0gZ2V0VXNlckluZm8oKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zICh7XG4gICAgICAgIHVybDogYCR7YXBpVXJsfS9hcGkvb3JkZXJzLyR7b3JkZXJJZH0vcGF5YCxcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gLFxuICAgICAgICB9LFxuICAgICAgICBkYXRhOiBwYXltZW50UmVzdWx0LFxuICAgIH0pO1xuICAgIGlmKHJlc3BvbnNlLnN0YXR1c1RleHQgIT09ICdPSycpe1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2UuZGF0YS5tZXNzYWdlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfWNhdGNoKGVycil7XG4gICAgcmV0dXJuIHtlcnJvcjogZXJyLnJlc3BvbnNlID8gZXJyLnJlc3BvbnNlLmRhdGEubWVzc2FnZSA6IGVyci5tZXNzYWdlfTtcbiAgfVxufTsgIl0sIm1hcHBpbmdzIjoiQUFBQSxPQUFPQSxLQUFQLE1BQWtCLE9BQWxCO0FBQ0EsU0FBU0MsTUFBVCxRQUF1QixVQUF2QjtBQUNBLFNBQVNDLFdBQVQsUUFBNEIsZ0JBQTVCO0FBRUEsT0FBTyxNQUFNQyxXQUFXLEdBQUcsWUFBVTtFQUNqQyxJQUFJO0lBQ0EsTUFBTUMsUUFBUSxHQUFHLE1BQU1KLEtBQUssQ0FBQztNQUN6QkssR0FBRyxFQUFHLEdBQUVKLE1BQU8sZUFEVTtNQUV6QkssTUFBTSxFQUFFLEtBRmlCO01BR3pCQyxNQUFNLEVBQUU7UUFDSixnQkFBZ0I7TUFEWjtJQUhpQixDQUFELENBQTVCOztJQU9BLElBQUlILFFBQVEsQ0FBQ0ksVUFBVCxLQUF3QixJQUE1QixFQUFpQztNQUM3QixNQUFNLElBQUlDLEtBQUosQ0FBVUwsUUFBUSxDQUFDTSxJQUFULENBQWNDLE9BQXhCLENBQU47SUFDSDs7SUFDRCxPQUFPUCxRQUFRLENBQUNNLElBQWhCO0VBQ0gsQ0FaRCxDQVlFLE9BQU9FLEdBQVAsRUFBVztJQUNUQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsR0FBWjtJQUNBLE9BQU87TUFBQ0csS0FBSyxFQUFDSCxHQUFHLENB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","map":{"version":3,"names":["axios","apiUrl","getUserInfo","getProducts","response","url","method","header","statusText","Error","data","message","err","console","log","error","getProduct","id","createProduct","token","headers","Authorization","deleteProduct","productId","updateProduct","product","_id","uploadProductImage","formData","signin","email","password","register","name","update","createOrder","order","getOrders","deleteOrder","orderId","getOrder","getMyOrders","getPaypalClientId","clientId","payOrder","paymentResult"],"sourceRoot":"C:\\Users\\RISCOH FUNDZ\\Desktop\\jsamazona\\frontend\\src\\","sources":["api.js"],"sourcesContent":["import axios from 'axios';\nimport { apiUrl } from \"./config\";\nimport { getUserInfo } from './localStorage';\n\nexport const getProducts = async ()=>{\n    try {\n        const response = await axios({\n            url: `${apiUrl}/api/products`,\n            method: 'GET', \n            header: {\n                'Content-Type': 'application/json',\n            }, \n        });\n        if (response.statusText !== 'OK'){\n            throw new Error(response.data.message);\n        } \n        return response.data;\n    } catch (err){  \n        console.log(err);\n        return {error:err.response.data.message || err.message};\n\n    }\n}; \n\nexport const getProduct = async (id)=>{\n    try {\n        const response = await axios({\n            url: `${apiUrl}/api/products/${id}`,\n            method: 'GET', \n            header: {\n                'Content-Type': 'application/json',\n            }, \n        });\n        if (response.statusText !== 'OK'){\n            throw new Error(response.data.message);\n        } \n        return response.data;\n    } catch (err){  \n        console.log(err);\n        return {error:err.response.data.message || err.message};\n\n    }\n}; \n\nexport const createProduct = async () => {\n    try {\n        const {token} = getUserInfo();\n        const response = await axios ({\n            url: `${apiUrl}/api/products`,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${token}`,\n            },\n        });\n        if (response.statusText !== 'Created'){\n            throw new Error(response.data.message)\n        }\n        return response.data;\n    } catch (err) {\n        return {error:err.response.data.message || err.message};\n\n    }\n};\n\nexport const deleteProduct = async (productId) => {\n    try {\n        const {token} = getUserInfo();\n        const response = await axios ({\n            url: `${apiUrl}/api/products/${productId}`,\n            method: 'DELETE',\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${token}`,\n            },\n        });\n        if (response.statusText !== 'OK'){\n            throw new Error(response.data.message)\n        }\n        return response.data;\n    } catch (err) {\n        return {error:err.response.data.message || err.message};\n\n    }\n};\n\n\nexport const updateProduct = async (product) => {\n    try {\n        const {token} = getUserInfo();\n        const response = await axios ({\n            method: 'PUT',\n            url: `${apiUrl}/api/products/${product._id}`,\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${token}`,\n            },\n            data: product\n        });\n        if (response.statusText !== 'OK'){\n            throw new Error(response.data.message)\n        }\n        return response.data;\n    } catch (err) {\n        return {error:err.response.data.message || err.message};\n\n    }\n};\n\nexport const uploadProductImage = async (formData) => {\n    try {\n        const {token} = getUserInfo();\n        const response = await axios ({\n            url: `${apiUrl}/api/uploads`,\n            method: 'POST',\n            headers: {\n                Authorization: `Bearer ${token}`,\n                'Content-Type': 'multipart/form-data',\n            },\n            data: formData,\n        });\n        \n        if (response.statusText !== 'Created'){\n            throw new Error(response.data.message);\n        } \n        else{\n          return  response.data\n        }\n        \n    } catch (err) {\n        return {error: err.response.data.message || err.message}\n    }\n   \n};\n\nexport const signin = async({email, password })=> {\n    try {\n     const response = await axios ({\n        url: `${apiUrl}/api/users/signin`,\n        method: 'POST',\n        header: {\n            'Content-Type': 'application/json',\n        },\n        data: {\n         email,\n         password,\n        },\n     });\n     if(response.statusText !== 'OK'){\n        throw new Error(response.data.message);\n     }\n     return response.data;\n    }catch (err) {\n        console.log(err);\n        return {error: err.response.data.message || err.message}\n    }\n};\n\n\nexport const register = async({name,email, password })=> {\n    try {\n     const response = await axios ({\n        url: `${apiUrl}/api/users/register`,\n        method: 'POST',\n        header: {\n            'Content-Type': 'application/json',\n        },\n         data: {\n            name,\n            email,\n            password,\n        },\n     });\n     if(response.statusText !== 'OK'){\n        throw new Error(response.data.message);\n     }\n     return response.data;\n    }catch (err) {\n        console.log(err);\n        return {error: err.response.data.message || err.message}\n    }\n};\n\nexport const update = async ({name,email, password })=> {\n    try {\n     const {_id, token } = getUserInfo();   \n     const response = await axios ({\n        url: `${apiUrl}/api/users/${_id}`,\n        method: 'PUT',\n        headers: {\n            'Content-Type': 'application/json',\n            Authorization: `Bearer ${token}`,\n        },\n         data: {\n            name,\n            email,\n            password,\n        },\n     });\n     if(response.statusText !== 'OK'){\n        throw new Error(response.data.message);\n     }\n     return response.data;\n    }catch (err) {\n        console.log(err);\n        return {error: err.response.data.message || err.message}\n    }\n};\n\nexport const createOrder = async (order) => {\n    try {\n        const {token} = getUserInfo();\n        const response = await axios({\n            url: `${apiUrl}/api/orders`,\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${token}`,\n            },\n            data: order,\n        });\n         if (response.statusText !== 'Created'){\n            throw new Error(response.data.message)\n         }\n         return response.data;\n    } catch(err) {\n        return {error: err.response ? err.response.data.message : err.message};\n    }\n};\n\nexport const getOrders = async ()=>{\n    try {\n        const response = await axios({\n            url: `${apiUrl}/api/orders`,\n            method: 'GET', \n            header: {\n                'Content-Type': 'application/json',\n            }, \n        });\n        if (response.statusText !== 'OK'){\n            throw new Error(response.data.message);\n        } \n        return response.data;\n    } catch (err){  \n        console.log(err);\n        return {error:err.response.data.message || err.message};\n\n    }\n}; \n\nexport const deleteOrder = async (orderId) => {\n    try {\n        const {token} = getUserInfo();\n        const response = await axios ({\n            url: `${apiUrl}/api/orders/${orderId}`,\n            method: 'DELETE',\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${token}`,\n            },\n        });\n        if (response.statusText !== 'OK'){\n            throw new Error(response.data.message)\n        }\n        return response.data;\n    } catch (err) {\n        return {error:err.response.data.message || err.message};\n\n    }\n};\n\nexport const getOrder =  async (id) =>{\n    try {\n        const {token} = getUserInfo();\n        const response = await axios({\n            url: `${apiUrl}/api/orders/${id}`,\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${token}`,\n            },\n        });\n        if(response.statusText !== 'OK'){\n            throw new Error(response.data.message);\n        }\n        return response.data;\n    } catch (err){  \n        return {error: err.message};\n    }\n};\n\nexport const getMyOrders = async () => {\n    try{\n        const {token} = getUserInfo();\n        const response = await axios ({\n            url: `${apiUrl}/api/orders/mine`,\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${token}`,\n            },\n        });\n        if (response.statusText !== 'OK') {\n            throw new Error(response.data.message);\n        }\n        return response.data;\n    } catch (err) {\n        return {error: err.response ? err.response.data.message : err.message};\n    }\n};\n\nexport const getPaypalClientId = async ()=> {\n    const response = await axios ({\n        url: `${apiUrl}/api/paypal/clientId`,\n        headers: {\n            'Content-Type': 'application/json',\n        },\n    });\n    if (response.statusText !== 'OK'){\n        throw new Error(response.data.message);\n    }\n    return response.data.clientId;\n};\n\nexport const payOrder = async(orderId, paymentResult) => {\n    try {\n        const {token} = getUserInfo();\n    const response = await axios ({\n        url: `${apiUrl}/api/orders/${orderId}/pay`,\n        method: 'PUT',\n        headers: {\n            'Content-Type': 'application/json',\n            Authorization: `Bearer ${token}`,\n        },\n        data: paymentResult,\n    });\n    if(response.statusText !== 'OK'){\n        throw new Error(response.data.message);\n    }\n    return response.data;\n    }catch(err){\n    return {error: err.response ? err.response.data.message : err.message};\n  }\n}; "],"mappings":"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"}},"mtime":1667939834920}}